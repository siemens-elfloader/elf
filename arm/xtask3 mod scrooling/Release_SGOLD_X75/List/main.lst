##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    27/Jun/2008  15:25:42 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  F:\siemens\elfs\xtask3 mod scrooling\main.c          #
#    Command line    =  "F:\siemens\elfs\xtask3 mod scrooling\main.c" -D     #
#                       X75 -lC "F:\siemens\elfs\xtask3 mod                  #
#                       scrooling\Release_SGOLD_X75\List\" -o                #
#                       "F:\siemens\elfs\xtask3 mod                          #
#                       scrooling\Release_SGOLD_X75\Obj\" -s9 --no_unroll    #
#                       --no_clustering --cpu_mode arm --endian little       #
#                       --cpu ARM926EJ-S --stack_align 4 --interwork -e      #
#                       --fpu None --dlib_config "C:\Program                 #
#                       Files\iar\Embedded Workbench 4.0                     #
#                       Evaluation\ARM\LIB\dl5tpainl8n.h" -I "C:\Program     #
#                       Files\iar\Embedded Workbench 4.0                     #
#                       Evaluation\ARM\INC\" --inline_threshold=2            #
#    List file       =  F:\siemens\elfs\xtask3 mod                           #
#                       scrooling\Release_SGOLD_X75\List\main.lst            #
#    Object file     =  F:\siemens\elfs\xtask3 mod                           #
#                       scrooling\Release_SGOLD_X75\Obj\main.r79             #
#                                                                            #
#                                                                            #
##############################################################################

F:\siemens\elfs\xtask3 mod scrooling\main.c
      1          #include "..\inc\swilib.h"
      2          #include "..\inc\xtask_ipc.h"
      3          #include "swaper.h"
      4          #include "gui.h"
      5          #include "main.h"
      6          #include "conf_loader.h"
      7          
      8          extern const char background_img[128];
      9          extern const char cursor_img[128];
     10          extern const char icon_list_path[128];
     11          extern const char bokmark_list_path[128];
     12          extern const char selection_img[128];
     13          extern const char tasks_img[128];
     14          extern const char bookmarks_img[128];

   \                                 In segment DATA_Z, align 4, align-sorted
     15          char shutdown1[128];
   \                     shutdown1:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     16          char shutdown2[128];
   \                     shutdown2:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     17          char reboot1[128];
   \                     reboot1:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     18          char reboot2[128];
   \                     reboot2:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     19          int book_show;
   \                     book_show:
   \   00000000                      DS8 4

   \                                 In segment DATA_I, align 4, align-sorted
     20          int time_not=1;
   \                     time_not:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for time_not>`
     21          extern const int style;

   \                                 In segment DATA_Z, align 4, align-sorted
     22          GBSTMR start_tmr;
   \                     start_tmr:
   \   00000000                      DS8 16
     23          extern const char ctasks[4];
     24          extern const char cdaemons[4];
     25          extern const char cinfo[4];
     26          extern const char turnoff_path[128];
     27          extern const int cleseri;
     28          

   \                                 In segment CODE, align 4, keep-with-next
     29          void init_turnoff()
     30          {
     31            sprintf(shutdown1, "%s%s", turnoff_path, "shutdown1.png");
   \                     init_turnoff:
   \   00000000   58309FE5           LDR      R3,??init_turnoff_0  ;; `?<Constant "shutdown1.png">`
   \   00000004   ........           LDR      R0,??DataTable0  ;; shutdown1
   \   00000008   30402DE9           PUSH     {R4,R5,LR}
   \   0000000C   50409FE5           LDR      R4,??init_turnoff_0+0x4  ;; `?<Constant "%s%s">`
   \   00000010   50509FE5           LDR      R5,??init_turnoff_0+0x8  ;; turnoff_path
   \   00000014   0410A0E1           MOV      R1,R4
   \   00000018   0520A0E1           MOV      R2,R5
   \   0000001C   160000EF           SWI      +22
     32            sprintf(shutdown2, "%s%s", turnoff_path, "shutdown2.png");
   \   00000020   44309FE5           LDR      R3,??init_turnoff_0+0xC  ;; `?<Constant "shutdown2.png">`
   \   00000024   ........           LDR      R0,??DataTable1  ;; shutdown2
   \   00000028   0520A0E1           MOV      R2,R5
   \   0000002C   0410A0E1           MOV      R1,R4
   \   00000030   160000EF           SWI      +22
     33            sprintf(reboot1, "%s%s", turnoff_path, "reboot1.png");
   \   00000034   34309FE5           LDR      R3,??init_turnoff_0+0x10  ;; `?<Constant "reboot1.png">`
   \   00000038   ........           LDR      R0,??DataTable2  ;; reboot1
   \   0000003C   0520A0E1           MOV      R2,R5
   \   00000040   0410A0E1           MOV      R1,R4
   \   00000044   160000EF           SWI      +22
     34            sprintf(reboot2, "%s%s", turnoff_path, "reboot2.png");
   \   00000048   24309FE5           LDR      R3,??init_turnoff_0+0x14  ;; `?<Constant "reboot2.png">`
   \   0000004C   ........           LDR      R0,??DataTable3  ;; reboot2
   \   00000050   0520A0E1           MOV      R2,R5
   \   00000054   0410A0E1           MOV      R1,R4
   \   00000058   160000EF           SWI      +22
     35          }
   \   0000005C   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??init_turnoff_0:
   \   00000060   ........           DC32     `?<Constant "shutdown1.png">`
   \   00000064   ........           DC32     `?<Constant "%s%s">`
   \   00000068   ........           DC32     turnoff_path
   \   0000006C   ........           DC32     `?<Constant "shutdown2.png">`
   \   00000070   ........           DC32     `?<Constant "reboot1.png">`
   \   00000074   ........           DC32     `?<Constant "reboot2.png">`
     36          
     37          
     38          //=================================bookmarks

   \                                 In segment DATA_Z, align 4, align-sorted
     39          char BM1NAME[32];
   \                     BM1NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     40          char BM1FILE[128];
   \                     BM1FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     41          char BM2NAME[32];
   \                     BM2NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     42          char BM2FILE[128];
   \                     BM2FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     43          char BM3NAME[32];
   \                     BM3NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     44          char BM3FILE[128];
   \                     BM3FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     45          char BM4NAME[32];
   \                     BM4NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     46          char BM4FILE[128];
   \                     BM4FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     47          char BM5NAME[32];
   \                     BM5NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     48          char BM5FILE[128];
   \                     BM5FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     49          char BM6NAME[32];
   \                     BM6NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     50          char BM6FILE[128];
   \                     BM6FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     51          char BM7NAME[32];
   \                     BM7NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     52          char BM7FILE[128];
   \                     BM7FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     53          char BM8NAME[32];
   \                     BM8NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     54          char BM8FILE[128];
   \                     BM8FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     55          char BM9NAME[32];
   \                     BM9NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     56          char BM9FILE[128];
   \                     BM9FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     57          char BM0NAME[32];
   \                     BM0NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     58          char BM0FILE[128];
   \                     BM0FILE:
   \   00000000                      DS8 128
     59          

   \                                 In segment CODE, align 4, keep-with-next
     60          void Start_bookmark(int casa)
     61          {
   \                     Start_bookmark:
   \   00000000   10402DE9           PUSH     {R4,LR}
     62            switch(casa)
   \   00000004   010040E2           SUB      R0,R0,#+1
   \   00000008   090050E3           CMP      R0,#+9
   \   0000000C   1080BD88           POPHI    {R4,PC}
   \   00000010   011F8FE2           ADR      R1,??Start_bookmark_0
   \   00000014   0010D1E7           LDRB     R1,[R1, R0]
   \   00000018   01F18FE0           ADD      PC,PC,R1, LSL #+2
   \                     ??Start_bookmark_0:
   \   0000001C   02061216           DC8      +2,+6,+18,+22
   \   00000020   1A1E2226           DC8      +26,+30,+34,+38
   \   00000024   2A2E0000           DC8      +42,+46,+0,+0
     63            {
     64            case 1:
     65              {
     66              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_1:
   \   00000028   400FA0E3           MOV      R0,#+256
   \   0000002C   250100EF           SWI      +293
     67              wsprintf(elfname, BM1FILE);
   \   00000030   ........           LDR      R1,??DataTable4  ;; BM1FILE
   \   00000034   020000EA           B        ??Start_bookmark_2
     68              ExecuteFile(elfname,NULL,NULL);
     69              FreeWS(elfname);
     70              }
     71              break;
     72            case 2:
     73              {
     74              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_3:
   \   00000038   400FA0E3           MOV      R0,#+256
   \   0000003C   250100EF           SWI      +293
     75              wsprintf(elfname, BM2FILE);
   \   00000040   ........           LDR      R1,??DataTable5  ;; BM2FILE
   \                     ??Start_bookmark_2:
   \   00000044   0040A0E1           MOV      R4,R0
   \   00000048   240100EF           SWI      +292
     76              ExecuteFile(elfname,NULL,NULL);
   \   0000004C   0020A0E3           MOV      R2,#+0
   \   00000050   0010A0E3           MOV      R1,#+0
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   940000EF           SWI      +148
     77              FreeWS(elfname);
   \   0000005C   0400A0E1           MOV      R0,R4
   \   00000060   290100EF           SWI      +297
   \   00000064   1080BDE8           POP      {R4,PC}
     78              }
     79              break;
     80            case 3:
     81              {
     82              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_4:
   \   00000068   400FA0E3           MOV      R0,#+256
   \   0000006C   250100EF           SWI      +293
     83              wsprintf(elfname, BM3FILE);
   \   00000070   ........           LDR      R1,??DataTable6  ;; BM3FILE
   \   00000074   F2FFFFEA           B        ??Start_bookmark_2
     84              ExecuteFile(elfname,NULL,NULL);
     85              FreeWS(elfname);
     86              }
     87              break;
     88            case 4:
     89              {
     90              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_5:
   \   00000078   400FA0E3           MOV      R0,#+256
   \   0000007C   250100EF           SWI      +293
     91              wsprintf(elfname, BM4FILE);
   \   00000080   ........           LDR      R1,??DataTable7  ;; BM4FILE
   \   00000084   EEFFFFEA           B        ??Start_bookmark_2
     92              ExecuteFile(elfname,NULL,NULL);
     93              FreeWS(elfname);
     94              }
     95              break;
     96            case 5:
     97              {
     98              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_6:
   \   00000088   400FA0E3           MOV      R0,#+256
   \   0000008C   250100EF           SWI      +293
     99              wsprintf(elfname, BM5FILE);
   \   00000090   ........           LDR      R1,??DataTable8  ;; BM5FILE
   \   00000094   EAFFFFEA           B        ??Start_bookmark_2
    100              ExecuteFile(elfname,NULL,NULL);
    101              FreeWS(elfname);
    102              }
    103              break;
    104            case 6:
    105              {
    106              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_7:
   \   00000098   400FA0E3           MOV      R0,#+256
   \   0000009C   250100EF           SWI      +293
    107              wsprintf(elfname, BM6FILE);
   \   000000A0   ........           LDR      R1,??DataTable9  ;; BM6FILE
   \   000000A4   E6FFFFEA           B        ??Start_bookmark_2
    108              ExecuteFile(elfname,NULL,NULL);
    109              FreeWS(elfname);
    110              }
    111              break;
    112            case 7:
    113              {
    114              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_8:
   \   000000A8   400FA0E3           MOV      R0,#+256
   \   000000AC   250100EF           SWI      +293
    115              wsprintf(elfname, BM7FILE);
   \   000000B0   ........           LDR      R1,??DataTable10  ;; BM7FILE
   \   000000B4   E2FFFFEA           B        ??Start_bookmark_2
    116              ExecuteFile(elfname,NULL,NULL);
    117              FreeWS(elfname);
    118              }
    119              break;
    120            case 8:
    121              {
    122              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_9:
   \   000000B8   400FA0E3           MOV      R0,#+256
   \   000000BC   250100EF           SWI      +293
    123              wsprintf(elfname, BM8FILE);
   \   000000C0   ........           LDR      R1,??DataTable11  ;; BM8FILE
   \   000000C4   DEFFFFEA           B        ??Start_bookmark_2
    124              ExecuteFile(elfname,NULL,NULL);
    125              FreeWS(elfname);
    126              }
    127              break;
    128            case 9:
    129              {
    130              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_10:
   \   000000C8   400FA0E3           MOV      R0,#+256
   \   000000CC   250100EF           SWI      +293
    131              wsprintf(elfname, BM9FILE);
   \   000000D0   ........           LDR      R1,??DataTable12  ;; BM9FILE
   \   000000D4   DAFFFFEA           B        ??Start_bookmark_2
    132              ExecuteFile(elfname,NULL,NULL);
    133              FreeWS(elfname);
    134              }
    135              break;
    136            case 10:
    137              {
    138              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_11:
   \   000000D8   400FA0E3           MOV      R0,#+256
   \   000000DC   250100EF           SWI      +293
    139              wsprintf(elfname, BM0FILE);
   \   000000E0   ........           LDR      R1,??DataTable13  ;; BM0FILE
   \   000000E4   0040A0E1           MOV      R4,R0
   \   000000E8   240100EF           SWI      +292
    140              ExecuteFile(elfname,NULL,NULL);
   \   000000EC   0020A0E3           MOV      R2,#+0
   \   000000F0   0010A0E3           MOV      R1,#+0
   \   000000F4   0400A0E1           MOV      R0,R4
   \   000000F8   940000EF           SWI      +148
    141              FreeWS(elfname);
   \   000000FC   0400A0E1           MOV      R0,R4
   \   00000100   290100EF           SWI      +297
    142              }
    143              break;
    144            }
    145          }
   \                     ??Start_bookmark_12:
   \   00000104   1080BDE8           POP      {R4,PC}          ;; return
    146          //=================================bookmarks
    147          
    148          

   \                                 In segment DATA_I, align 4, align-sorted
    149          IMGHDR screen2={0,0,8,""};
   \                     screen2:
   \   00000000                      DS8 8
   \   00000008                      REQUIRE `?<Initializer for screen2>`

   \                                 In segment DATA_Z, align 4, align-sorted
    150          int tasks;
   \                     tasks:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    151          char icon_text[32768];
   \                     icon_text:
   \   00000000                      DS8 32768

   \                                 In segment DATA_I, align 4, align-sorted
    152          int task_list=1;
   \                     task_list:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for task_list>`
    153          

   \                                 In segment CODE, align 4, keep-with-next
    154          void DrwImg3(IMGHDR *img, int x, int y, char *pen, char *brush)
    155          {
   \                     DrwImg3:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   2CD04DE2           SUB      SP,SP,#+44
   \   00000008   3C609DE5           LDR      R6,[SP, #+60]
   \   0000000C   0040A0E1           MOV      R4,R0
    156            RECT rc;
    157            DRWOBJ drwobj;
    158            StoreXYWHtoRECT(&rc,x,y,img->w,img->h);
   \   00000010   0100D4E5           LDRB     R0,[R4, #+1]
   \   00000014   0350A0E1           MOV      R5,R3
   \   00000018   01002DE9           PUSH     {R0}
   \   0000001C   0030D4E5           LDRB     R3,[R4, #+0]
   \   00000020   04008DE2           ADD      R0,SP,#+4
   \   00000024   330100EF           SWI      +307
    159            SetPropTo_Obj5(&drwobj,&rc,0,img);
   \   00000028   0430A0E1           MOV      R3,R4
   \   0000002C   0020A0E3           MOV      R2,#+0
   \   00000030   04108DE2           ADD      R1,SP,#+4
   \   00000034   0C008DE2           ADD      R0,SP,#+12
   \   00000038   510100EF           SWI      +337
    160            SetColor(&drwobj,pen,brush);
   \   0000003C   0620A0E1           MOV      R2,R6
   \   00000040   0510A0E1           MOV      R1,R5
   \   00000044   0C008DE2           ADD      R0,SP,#+12
   \   00000048   4B0100EF           SWI      +331
    161            DrawObject(&drwobj);
   \   0000004C   0C008DE2           ADD      R0,SP,#+12
   \   00000050   2A0100EF           SWI      +298
    162          }
   \   00000054   30D08DE2           ADD      SP,SP,#+48
   \   00000058   7080BDE8           POP      {R4-R6,PC}       ;; return
    163          

   \                                 In segment CODE, align 4, keep-with-next
    164          void DoScreen2()
    165          {
   \                     DoScreen2:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    166              int ScrH=ScreenH();
    167              int ScrW=ScreenW();
    168              char *ms=RamScreenBuffer();
    169              screen2.w=ScrW;
   \   00000004   ........           LDR      R7,??DataTable16  ;; screen2
   \   00000008   898100EF           SWI      +33161
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   888100EF           SWI      +33160
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   E08000EF           SWI      +32992
   \   0000001C   0060A0E1           MOV      R6,R0
    170              screen2.h=ScrH;
    171              screen2.bitmap=malloc(ScrW*ScrH*2);
   \   00000020   940500E0           MUL      R0,R4,R5
   \   00000024   0050C7E5           STRB     R5,[R7, #+0]
   \   00000028   0140C7E5           STRB     R4,[R7, #+1]
   \   0000002C   8040A0E1           LSL      R4,R0,#+1
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   140000EF           SWI      +20
   \   00000038   040087E5           STR      R0,[R7, #+4]
    172              memcpy(screen2.bitmap, ms, ScrW*ScrH*2);
   \   0000003C   0420A0E1           MOV      R2,R4
   \   00000040   0610A0E1           MOV      R1,R6
   \   00000044   1E0100EF           SWI      +286
    173          }
   \   00000048   F080BDE8           POP      {R4-R7,PC}       ;; return
    174          
    175          

   \                                 In segment DATA_C, align 4, align-sorted
    176          const int minus11=-11; // стремная константа =)
   \                     minus11:
   \   00000000   F5FFFFFF           DC32 -11

   \                                 In segment DATA_Z, align 4, align-sorted
    177          unsigned short maincsm_name_body[140];
   \                     maincsm_name_body:
   \   00000000                      DS8 280
    178          extern unsigned long  strtoul (const char *nptr,char **endptr,int base);
    179          

   \                                 In segment DATA_Z, align 4, align-sorted
    180          unsigned int MAINCSM_ID = 0;
   \                     MAINCSM_ID:
   \   00000000                      DS8 4
    181          
    182          typedef struct
    183          {
    184            CSM_RAM csm;
    185            int gui_id;
    186          }MAIN_CSM;
    187          
    188          typedef struct
    189          {
    190            GUI gui;
    191            WSHDR *ws1;
    192            WSHDR *ws2;
    193            int i1;
    194          }MAIN_GUI;
    195          
    196          extern NAMELIST * volatile nltop;

   \                                 In segment DATA_I, align 4, align-sorted
    197          int pos=1;
   \                     pos:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for pos>`

   \                                 In segment DATA_I, align 4, align-sorted
    198          int total_pos=1;
   \                     total_pos:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for total_pos>`

   \                                 In segment DATA_Z, align 4, align-sorted
    199          int total_d;
   \                     total_d:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    200          int move_skip;
   \                     move_skip:
   \   00000000                      DS8 4
    201          void redrit(void);

   \                                 In segment DATA_Z, align 4, align-sorted
    202          int sm;
   \                     sm:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    203          int forward;
   \                     forward:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    204          int halt;
   \                     halt:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    205          int shutd;
   \                     shutd:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    206          int logout;
   \                     logout:
   \   00000000                      DS8 4
    207          //char icofile[]="NATICQ|4:\\zbin\\xtask3\\icons\\naticq.png| Файлы|4:\\zbin\\xtask3\\icons\\filesystem.png| IDLE Screen|4:\\zbin\\xtask3\\icons\\idle.png| ";
    208          
    209          #include "strings2.h"

   \                                 In segment DATA_I, align 4, align-sorted
    210          int shf1=60;
   \                     shf1:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for shf1>`

   \                                 In segment DATA_I, align 4, align-sorted
    211          int shf2=91;
   \                     shf2:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for shf2>`
    212          /*
    213          void task_list3()
    214          {
    215                DrwImg3(&screen2, 0, 0, NULL, NULL);
    216                DrawImg(12, 26,(int)background_img);  //12,37
    217                DrawImg(83,40,(int)tasks_img);
    218                DrawImg(101,40,(int)bookmarks_img);
    219                if(shutd) {DrawImg(16,shf1,(int)shutdown1); if(shf1<75) shf1=shf1+3;}
    220                else
    221                {DrawImg(16,shf2,(int)reboot1); if(shf2>75) shf2=shf2-3;}
    222                if(logout>=1) DrawRectangle(18,125,24,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    223                if(logout>=2) DrawRectangle(25,125,31,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    224                if(logout>=3) DrawRectangle(32,125,38,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    225                if(logout>=4) DrawRectangle(39,125,45,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    226                if(logout>=5) DrawRectangle(46,125,52,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    227                if(logout>=6) DrawRectangle(53,125,59,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    228                if(logout>=7) DrawRectangle(60,125,66,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    229                if(logout>=8) DrawRectangle(67,125,73,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    230                if(logout>=9) DrawRectangle(74,125,80,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    231                if(logout>=10) DrawRectangle(81,125,87,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    232                if(logout>=11) DrawRectangle(88,125,94,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    233                if(logout>=12) DrawRectangle(95,125,101,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    234                if(logout>=13) DrawRectangle(102,125,108,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    235                if(logout>=14) DrawRectangle(109,125,115,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
    236                if(logout!=15) {logout++; GBS_StartTimerProc(&start_tmr, 50, task_list3); }
    237                if(logout==2)
    238                {
    239                  if (shutd==1) SwitchPhoneOff();
    240                  else RebootPhone();
    241                }
    242          }*/
    243          

   \                                 In segment CODE, align 4, keep-with-next
    244          void task_list3()
    245          {
   \                     task_list3:
   \   00000000   10402DE9           PUSH     {R4,LR}
    246            DrwImg3(&screen2, 0, 0, NULL, NULL);
    247            DrawImg(12, 26,(int)background_img);  //12,37
    248            DrawImg(83,40,(int)tasks_img);
    249            DrawImg(101,40,(int)bookmarks_img);
    250            total_d=GetNumberOfDialogs()-1;
   \   00000004   ........           LDR      R4,??DataTable15  ;; total_d
   \   00000008   0000A0E3           MOV      R0,#+0
   \   0000000C   01002DE9           PUSH     {R0}
   \   00000010   0020A0E1           MOV      R2,R0
   \   00000014   0010A0E1           MOV      R1,R0
   \   00000018   ........           LDR      R0,??DataTable16  ;; screen2
   \   0000001C   0030A0E3           MOV      R3,#+0
   \   00000020   ........           BL       DrwImg3
   \   00000024   ........           LDR      R2,??DataTable17  ;; background_img
   \   00000028   1A10A0E3           MOV      R1,#+26
   \   0000002C   0C00A0E3           MOV      R0,#+12
   \   00000030   230000EF           SWI      +35
   \   00000034   ........           LDR      R2,??DataTable18  ;; tasks_img
   \   00000038   2810A0E3           MOV      R1,#+40
   \   0000003C   5300A0E3           MOV      R0,#+83
   \   00000040   230000EF           SWI      +35
   \   00000044   ........           LDR      R2,??DataTable19  ;; bookmarks_img
   \   00000048   2810A0E3           MOV      R1,#+40
   \   0000004C   6500A0E3           MOV      R0,#+101
   \   00000050   230000EF           SWI      +35
   \   00000054   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   \   00000058   010040E2           SUB      R0,R0,#+1
   \   0000005C   000084E5           STR      R0,[R4, #+0]
    251            NAMELIST *nl=nltop;
   \   00000060   ........           LDR      R0,??DataTable20  ;; nltop
   \   00000064   000090E5           LDR      R0,[R0, #+0]
    252            if(total_d>0)
   \   00000068   001094E5           LDR      R1,[R4, #+0]
   \   0000006C   04D08DE2           ADD      SP,SP,#+4
   \   00000070   010051E3           CMP      R1,#+1
   \   00000074   070000BA           BLT      ??task_list3_0
    253            {
    254              NAMELIST *p=nl;
    255              nl=p->next;
   \   00000078   000090E5           LDR      R0,[R0, #+0]
    256              int i=((CSM_RAM *)(nl->p))->id;
   \   0000007C   0C1090E5           LDR      R1,[R0, #+12]
    257              DrawProgress(nl->name);
                     ^
Warning[Pe223]: function "DrawProgress" declared implicitly
   \   00000080   080090E5           LDR      R0,[R0, #+8]
   \   00000084   0C4091E5           LDR      R4,[R1, #+12]
   \   00000088   ........           _BLF     DrawProgress,??DrawProgress??rA
    258              CloseCSM(i);
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   FC0100EF           SWI      +508
   \   00000094   1080BDE8           POP      {R4,PC}
    259            }
    260            else
    261            {
    262              if (shutd==1) SwitchPhoneOff();
   \                     ??task_list3_0:
   \   00000098   ........           LDR      R0,??DataTable21  ;; shutd
   \   0000009C   000090E5           LDR      R0,[R0, #+0]
   \   000000A0   010050E3           CMP      R0,#+1
   \   000000A4   0100001A           BNE      ??task_list3_1
   \   000000A8   090000EF           SWI      +9
   \   000000AC   1080BDE8           POP      {R4,PC}
    263              else RebootPhone();
   \                     ??task_list3_1:
   \   000000B0   930000EF           SWI      +147
    264            }
    265          }
   \   000000B4   1080BDE8           POP      {R4,PC}          ;; return
    266          

   \                                 In segment CODE, align 4, keep-with-next
    267          void SearchIcon(WSHDR *ramed, int w, int show)
    268          {
   \                     SearchIcon:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
    269            char buffer[256];
    270            //ws_2str(ramed, buffer, 64);
    271            convWS_to_ANSI(ramed, buffer);
    272            if(strstr(buffer, "NATICQ")>0) strcpy(buffer, "NATICQ");
   \   00000004   58619FE5           LDR      R6,??SearchIcon_0+0xC  ;; `?<Constant "NATICQ">`
   \   00000008   42DF4DE2           SUB      SP,SP,#+264
   \   0000000C   0140A0E1           MOV      R4,R1
   \   00000010   0250A0E1           MOV      R5,R2
   \   00000014   08108DE2           ADD      R1,SP,#+8
   \   00000018   ........           _BLF     convWS_to_ANSI,??convWS_to_ANSI??rA
   \   0000001C   0610A0E1           MOV      R1,R6
   \   00000020   08008DE2           ADD      R0,SP,#+8
   \   00000024   180100EF           SWI      +280
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   0200000A           BEQ      ??SearchIcon_1
   \   00000030   0610A0E1           MOV      R1,R6
   \   00000034   08008DE2           ADD      R0,SP,#+8
   \   00000038   1A0000EF           SWI      +26
    273            if(strstr(buffer, "SieJC")>0) strcpy(buffer, "SieJC");
   \                     ??SearchIcon_1:
   \   0000003C   24619FE5           LDR      R6,??SearchIcon_0+0x10  ;; `?<Constant "SieJC">`
   \   00000040   08008DE2           ADD      R0,SP,#+8
   \   00000044   0610A0E1           MOV      R1,R6
   \   00000048   180100EF           SWI      +280
   \   0000004C   000050E3           CMP      R0,#+0
   \   00000050   0200000A           BEQ      ??SearchIcon_2
   \   00000054   0610A0E1           MOV      R1,R6
   \   00000058   08008DE2           ADD      R0,SP,#+8
   \   0000005C   1A0000EF           SWI      +26
    274            if(strstr(buffer, "MC:")>0) strcpy(buffer, "MC");
   \                     ??SearchIcon_2:
   \   00000060   3C1F8FE2           ADR      R1,??SearchIcon_0  ;; "MC:"
   \   00000064   08008DE2           ADD      R0,SP,#+8
   \   00000068   180100EF           SWI      +280
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   0200000A           BEQ      ??SearchIcon_3
   \   00000074   381F8FE2           ADR      R1,??SearchIcon_0+0x4  ;; "MC"
   \   00000078   08008DE2           ADD      R0,SP,#+8
   \   0000007C   1A0000EF           SWI      +26
    275            if(strstr(buffer, "BM:")>0) strcpy(buffer, "BM:");
   \                     ??SearchIcon_3:
   \   00000080   366F8FE2           ADR      R6,??SearchIcon_0+0x8  ;; "BM:"
   \   00000084   0610A0E1           MOV      R1,R6
   \   00000088   08008DE2           ADD      R0,SP,#+8
   \   0000008C   180100EF           SWI      +280
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   0200000A           BEQ      ??SearchIcon_4
   \   00000098   0610A0E1           MOV      R1,R6
   \   0000009C   08008DE2           ADD      R0,SP,#+8
   \   000000A0   1A0000EF           SWI      +26
    276            char p2[]="||";
   \                     ??SearchIcon_4:
   \   000000A4   C0109FE5           LDR      R1,??SearchIcon_0+0x14  ;; `?<Constant "||">`
   \   000000A8   0D00A0E1           MOV      R0,SP
   \   000000AC   0020D1E5           LDRB     R2,[R1, #0]
   \   000000B0   0020C0E5           STRB     R2,[R0, #+0]
   \   000000B4   0120D1E5           LDRB     R2,[R1, #+1]
   \   000000B8   0120C0E5           STRB     R2,[R0, #+1]
   \   000000BC   0220D1E5           LDRB     R2,[R1, #+2]
    277            char *s,*s1,*s2;
    278            int len;
    279            if((s1=strstr(icon_text,buffer))>0)
   \   000000C0   08108DE2           ADD      R1,SP,#+8
   \   000000C4   0220C0E5           STRB     R2,[R0, #+2]
   \   000000C8   ........           LDR      R0,??DataTable22  ;; icon_text
   \   000000CC   180100EF           SWI      +280
   \   000000D0   0060B0E1           MOVS     R6,R0
   \   000000D4   1D00000A           BEQ      ??SearchIcon_5
    280            {
    281              s1+=strlen(buffer);
   \   000000D8   08008DE2           ADD      R0,SP,#+8
   \   000000DC   1B0000EF           SWI      +27
   \   000000E0   066080E0           ADD      R6,R0,R6
    282              if((s2=strstr(s1,p2))>0)
   \   000000E4   0D10A0E1           MOV      R1,SP
   \   000000E8   0600A0E1           MOV      R0,R6
   \   000000EC   180100EF           SWI      +280
   \   000000F0   000050E3           CMP      R0,#+0
   \   000000F4   1500000A           BEQ      ??SearchIcon_5
    283              {
    284                len=s2-s1-1;
   \   000000F8   060040E0           SUB      R0,R0,R6
   \   000000FC   017040E2           SUB      R7,R0,#+1
    285                s=malloc(len+1);
   \   00000100   140000EF           SWI      +20
   \   00000104   0080A0E1           MOV      R8,R0
    286                strncpy(s,s1+1,len);
   \   00000108   0720A0E1           MOV      R2,R7
   \   0000010C   011086E2           ADD      R1,R6,#+1
   \   00000110   160100EF           SWI      +278
    287                s[len]='\0';
   \   00000114   0000A0E3           MOV      R0,#+0
   \   00000118   0800C7E7           STRB     R0,[R7, +R8]
    288                if(show) DrawImg(17,w+1,(int)s);
   \   0000011C   014084E2           ADD      R4,R4,#+1
   \   00000120   000055E3           CMP      R5,#+0
   \   00000124   0300000A           BEQ      ??SearchIcon_6
   \   00000128   0820A0E1           MOV      R2,R8
   \   0000012C   0410A0E1           MOV      R1,R4
   \   00000130   1100A0E3           MOV      R0,#+17
   \   00000134   230000EF           SWI      +35
    289                DrawImg(102,w+1,(int)s);
   \                     ??SearchIcon_6:
   \   00000138   0820A0E1           MOV      R2,R8
   \   0000013C   0410A0E1           MOV      R1,R4
   \   00000140   6600A0E3           MOV      R0,#+102
   \   00000144   230000EF           SWI      +35
    290                mfree(s);
   \   00000148   0800A0E1           MOV      R0,R8
   \   0000014C   150000EF           SWI      +21
    291              }
    292            }
    293          }
   \                     ??SearchIcon_5:
   \   00000150   42DF8DE2           ADD      SP,SP,#+264      ;; stack cleaning
   \   00000154   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??SearchIcon_0:
   \   00000158   4D433A00           DC8      "MC:"
   \   0000015C   4D430000           DC8      "MC",+0
   \   00000160   424D3A00           DC8      "BM:"
   \   00000164   ........           DC32     `?<Constant "NATICQ">`
   \   00000168   ........           DC32     `?<Constant "SieJC">`
   \   0000016C   ........           DC32     `?<Constant "||">`
    294          
    295          
    296          

   \                                 In segment CODE, align 4, keep-with-next
    297          void OnRedraw(MAIN_GUI *data)
    298          { 
    299            if(task_list==1)
   \                     OnRedraw:
   \   00000000   54089FE5           LDR      R0,??OnRedraw_0+0x4  ;; task_list
   \   00000004   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000008   50489FE5           LDR      R4,??OnRedraw_0+0x8  ;; selection_img
   \   0000000C   50589FE5           LDR      R5,??OnRedraw_0+0xC  ;; cursor_img
   \   00000010   50689FE5           LDR      R6,??OnRedraw_0+0x10  ;; bookmarks_img
   \   00000014   50789FE5           LDR      R7,??OnRedraw_0+0x14  ;; tasks_img
   \   00000018   50889FE5           LDR      R8,??OnRedraw_0+0x18  ;; background_img
   \   0000001C   50989FE5           LDR      R9,??OnRedraw_0+0x1C  ;; ctasks
   \   00000020   50A89FE5           LDR      R10,??OnRedraw_0+0x20  ;; move_skip
   \   00000024   50B89FE5           LDR      R11,??OnRedraw_0+0x24  ;; cinfo
   \   00000028   30D04DE2           SUB      SP,SP,#+48
   \   0000002C   001090E5           LDR      R1,[R0, #+0]
   \   00000030   010051E3           CMP      R1,#+1
   \   00000034   6201001A           BNE      ??OnRedraw_1
    300            {
    301            total_d=GetNumberOfDialogs()-1;
   \   00000038   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   \   0000003C   3C189FE5           LDR      R1,??OnRedraw_0+0x28  ;; total_d
   \   00000040   010040E2           SUB      R0,R0,#+1
   \   00000044   000081E5           STR      R0,[R1, #+0]
    302          #ifdef NEWSGOLD
    303            DrwImg3(&screen2, 0, 0, NULL, NULL);
    304          #endif
    305            DrawImg(12, 26,(int)background_img);  //12,37
   \   00000048   0820A0E1           MOV      R2,R8
   \   0000004C   1A10A0E3           MOV      R1,#+26
   \   00000050   0C00A0E3           MOV      R0,#+12
   \   00000054   230000EF           SWI      +35
    306            DrawImg(16,48+(pos*12),(int)cursor_img);
   \   00000058   24089FE5           LDR      R0,??OnRedraw_0+0x2C  ;; pos
   \   0000005C   0C10A0E3           MOV      R1,#+12
   \   00000060   000090E5           LDR      R0,[R0, #+0]
   \   00000064   0520A0E1           MOV      R2,R5
   \   00000068   910000E0           MUL      R0,R1,R0
   \   0000006C   301080E2           ADD      R1,R0,#+48
   \   00000070   1000A0E3           MOV      R0,#+16
   \   00000074   230000EF           SWI      +35
    307            DrawImg(82,39,(int)selection_img);
   \   00000078   0420A0E1           MOV      R2,R4
   \   0000007C   2710A0E3           MOV      R1,#+39
   \   00000080   5200A0E3           MOV      R0,#+82
   \   00000084   230000EF           SWI      +35
    308            DrawImg(83,40,(int)tasks_img);
   \   00000088   0720A0E1           MOV      R2,R7
   \   0000008C   2810A0E3           MOV      R1,#+40
   \   00000090   5300A0E3           MOV      R0,#+83
   \   00000094   230000EF           SWI      +35
    309            DrawImg(101,40,(int)bookmarks_img);
   \   00000098   0620A0E1           MOV      R2,R6
   \   0000009C   2810A0E3           MOV      R1,#+40
   \   000000A0   6500A0E3           MOV      R0,#+101
   \   000000A4   230000EF           SWI      +35
    310            int show=1;
    311            NAMELIST *nl=nltop;
   \   000000A8   680F9FE5           LDR      R0,??OnRedraw_2  ;; nltop
   \   000000AC   0110A0E3           MOV      R1,#+1
   \   000000B0   00108DE5           STR      R1,[SP, #+0]
   \   000000B4   006090E5           LDR      R6,[R0, #+0]
    312            int i=60;
    313            WSHDR *ws=AllocWS(64);
   \   000000B8   4000A0E3           MOV      R0,#+64
   \   000000BC   250100EF           SWI      +293
    314            int skip=move_skip+1;
   \   000000C0   00109AE5           LDR      R1,[R10, #+0]
   \   000000C4   3C40A0E3           MOV      R4,#+60
   \   000000C8   0050A0E1           MOV      R5,R0
   \   000000CC   011081E2           ADD      R1,R1,#+1
   \   000000D0   0C108DE5           STR      R1,[SP, #+12]
   \   000000D4   020000EA           B        ??OnRedraw_3
    315            while((nl)&&(show<=5))
    316            {
    317              NAMELIST *p=nl;
    318              if(!skip) 
    319              {
    320          /*      if(nl->is_daemon)
    321                {
    322                  DrawString(nl->name,17,i+1,115,i+GetFontYSIZE(11)+2,11,0,cdaemons,GetPaletteAdrByColorIndex(23));
    323                  SearchIcon(nl->name, i);
    324                }
    325                else
    326                {*/
    327                  if(Get_WS_width(nl->name,11)<85)
    328                  {
    329                    if(nl->is_daemon) DrawString(nl->name,17,i+1,115,i+GetFontYSIZE(11),11,0,cdaemons,GetPaletteAdrByColorIndex(23));
    330                    else
    331                  DrawString(nl->name,17,i+1,115,i+GetFontYSIZE(11),11,0,ctasks,GetPaletteAdrByColorIndex(23));
    332                  }
    333                  else
    334                  {
    335                    if(pos!=show)
    336                    {
    337                      if(nl->is_daemon) DrawScrollString(nl->name,17,i+1,100,i+GetFontYSIZE(11),1,11,TEXT_ALIGNLEFT,cdaemons,GetPaletteAdrByColorIndex(23)); else
    338                    DrawScrollString(nl->name,17,i+1,100,i+GetFontYSIZE(11),1,11,TEXT_ALIGNLEFT,ctasks,GetPaletteAdrByColorIndex(23));
    339                    }
    340                    else
    341                    {
    342                      if(nl->is_daemon) DrawScrollString(nl->name,17,i+1,100,i+GetFontYSIZE(11),sm+1,11,TEXT_ALIGNLEFT,cdaemons,GetPaletteAdrByColorIndex(23)); else
    343                      DrawScrollString(nl->name,17,i+1,100,i+GetFontYSIZE(11),sm+1,11,TEXT_ALIGNLEFT,ctasks,GetPaletteAdrByColorIndex(23));
    344                      if(forward==1) sm=sm+5;
    345                      if(forward==0) sm=sm-5;
    346                      if(forward==2)
    347                      {
    348                        if(halt) halt--;
    349                        else forward=3;
    350                      }
    351                      if ((sm>Get_WS_width(nl->name,11)-85)&&(forward==1)) {forward=2; halt=5;}
    352                      if (forward==3) {
    353                        if (sm==0) {forward=4; halt=5;}
    354                        else sm=sm-5;
    355                      }
    356                      if(forward==4)
    357                      {
    358                        if(halt) halt--;
    359                        else forward=1;
    360                      }
    361                     // if ((sm==0)&&(forward==3) forward=1;
    362                    }
    363                  }
    364                  SearchIcon(nl->name, i, 0);
    365            //    }
    366                show++;
    367                i=i+12;
    368              }
    369              else skip--;
   \                     ??OnRedraw_4:
   \   000000D8   011040E2           SUB      R1,R0,#+1
   \   000000DC   0C108DE5           STR      R1,[SP, #+12]
    370              nl=p->next;
   \                     ??OnRedraw_5:
   \   000000E0   006096E5           LDR      R6,[R6, #+0]
   \                     ??OnRedraw_3:
   \   000000E4   000056E3           CMP      R6,#+0
   \   000000E8   B300000A           BEQ      ??OnRedraw_6
   \   000000EC   00009DE5           LDR      R0,[SP, #+0]
   \   000000F0   060050E3           CMP      R0,#+6
   \   000000F4   B00000AA           BGE      ??OnRedraw_6
   \   000000F8   0C009DE5           LDR      R0,[SP, #+12]
   \   000000FC   000050E3           CMP      R0,#+0
   \   00000100   F4FFFF1A           BNE      ??OnRedraw_4
   \   00000104   080096E5           LDR      R0,[R6, #+8]
   \   00000108   0C8F9FE5           LDR      R8,??OnRedraw_2+0x4  ;; cdaemons
   \   0000010C   017084E2           ADD      R7,R4,#+1
   \   00000110   0B10A0E3           MOV      R1,#+11
   \   00000114   080200EF           SWI      +520
   \   00000118   550050E3           CMP      R0,#+85
   \   0000011C   100096E5           LDR      R0,[R6, #+16]
   \   00000120   1D0000AA           BGE      ??OnRedraw_7
   \   00000124   000050E3           CMP      R0,#+0
   \   00000128   1700A0E3           MOV      R0,#+23
   \   0000012C   1200000A           BEQ      ??OnRedraw_8
   \   00000130   2E0100EF           SWI      +302
   \   00000134   00A0A0E1           MOV      R10,R0
   \   00000138   0B00A0E3           MOV      R0,#+11
   \   0000013C   C50100EF           SWI      +453
   \   00000140   00042DE9           PUSH     {R10}
   \   00000144   00012DE9           PUSH     {R8}
   \                     ??OnRedraw_9:
   \   00000148   0010A0E3           MOV      R1,#+0
   \   0000014C   02002DE9           PUSH     {R1}
   \   00000150   040080E0           ADD      R0,R0,R4
   \   00000154   7330A0E3           MOV      R3,#+115
   \   00000158   0720A0E1           MOV      R2,R7
   \   0000015C   0B10A0E3           MOV      R1,#+11
   \   00000160   02002DE9           PUSH     {R1}
   \   00000164   01002DE9           PUSH     {R0}
   \   00000168   080096E5           LDR      R0,[R6, #+8]
   \   0000016C   1110A0E3           MOV      R1,#+17
   \   00000170   4C0100EF           SWI      +332
   \   00000174   14D08DE2           ADD      SP,SP,#+20
   \   00000178   860000EA           B        ??OnRedraw_10
   \                     ??OnRedraw_8:
   \   0000017C   2E0100EF           SWI      +302
   \   00000180   0080A0E1           MOV      R8,R0
   \   00000184   0B00A0E3           MOV      R0,#+11
   \   00000188   C50100EF           SWI      +453
   \   0000018C   00012DE9           PUSH     {R8}
   \   00000190   0910A0E1           MOV      R1,R9
   \   00000194   02002DE9           PUSH     {R1}
   \   00000198   EAFFFFEA           B        ??OnRedraw_9
   \                     ??OnRedraw_7:
   \   0000019C   E0169FE5           LDR      R1,??OnRedraw_0+0x2C  ;; pos
   \   000001A0   00209DE5           LDR      R2,[SP, #+0]
   \   000001A4   001091E5           LDR      R1,[R1, #+0]
   \   000001A8   020051E1           CMP      R1,R2
   \   000001AC   1F00000A           BEQ      ??OnRedraw_11
   \   000001B0   000050E3           CMP      R0,#+0
   \   000001B4   1700A0E3           MOV      R0,#+23
   \   000001B8   1400000A           BEQ      ??OnRedraw_12
   \   000001BC   2E0100EF           SWI      +302
   \   000001C0   00A0A0E1           MOV      R10,R0
   \   000001C4   0B00A0E3           MOV      R0,#+11
   \   000001C8   C50100EF           SWI      +453
   \   000001CC   00042DE9           PUSH     {R10}
   \   000001D0   00012DE9           PUSH     {R8}
   \                     ??OnRedraw_13:
   \   000001D4   0110A0E3           MOV      R1,#+1
   \   000001D8   02002DE9           PUSH     {R1}
   \   000001DC   040080E0           ADD      R0,R0,R4
   \   000001E0   6430A0E3           MOV      R3,#+100
   \   000001E4   0720A0E1           MOV      R2,R7
   \   000001E8   0B10A0E3           MOV      R1,#+11
   \   000001EC   02002DE9           PUSH     {R1}
   \   000001F0   0110A0E3           MOV      R1,#+1
   \   000001F4   02002DE9           PUSH     {R1}
   \   000001F8   01002DE9           PUSH     {R0}
   \   000001FC   080096E5           LDR      R0,[R6, #+8]
   \   00000200   1110A0E3           MOV      R1,#+17
   \   00000204   070200EF           SWI      +519
   \   00000208   18D08DE2           ADD      SP,SP,#+24
   \   0000020C   610000EA           B        ??OnRedraw_10
   \                     ??OnRedraw_12:
   \   00000210   2E0100EF           SWI      +302
   \   00000214   0080A0E1           MOV      R8,R0
   \   00000218   0B00A0E3           MOV      R0,#+11
   \   0000021C   C50100EF           SWI      +453
   \   00000220   00012DE9           PUSH     {R8}
   \   00000224   0910A0E1           MOV      R1,R9
   \   00000228   02002DE9           PUSH     {R1}
   \   0000022C   E8FFFFEA           B        ??OnRedraw_13
   \                     ??OnRedraw_11:
   \   00000230   ........           LDR      R10,??DataTable23  ;; sm
   \   00000234   000050E3           CMP      R0,#+0
   \   00000238   1700A0E3           MOV      R0,#+23
   \   0000023C   0700000A           BEQ      ??OnRedraw_14
   \   00000240   2E0100EF           SWI      +302
   \   00000244   2C008DE5           STR      R0,[SP, #+44]
   \   00000248   0B00A0E3           MOV      R0,#+11
   \   0000024C   C50100EF           SWI      +453
   \   00000250   2C109DE5           LDR      R1,[SP, #+44]
   \   00000254   02002DE9           PUSH     {R1}
   \   00000258   00012DE9           PUSH     {R8}
   \   0000025C   060000EA           B        ??OnRedraw_15
   \                     ??OnRedraw_14:
   \   00000260   2E0100EF           SWI      +302
   \   00000264   0080A0E1           MOV      R8,R0
   \   00000268   0B00A0E3           MOV      R0,#+11
   \   0000026C   C50100EF           SWI      +453
   \   00000270   00012DE9           PUSH     {R8}
   \   00000274   0910A0E1           MOV      R1,R9
   \   00000278   02002DE9           PUSH     {R1}
   \                     ??OnRedraw_15:
   \   0000027C   0110A0E3           MOV      R1,#+1
   \   00000280   02002DE9           PUSH     {R1}
   \   00000284   040080E0           ADD      R0,R0,R4
   \   00000288   0720A0E1           MOV      R2,R7
   \   0000028C   ........           LDR      R7,??DataTable24  ;; forward
   \   00000290   0B10A0E3           MOV      R1,#+11
   \   00000294   02002DE9           PUSH     {R1}
   \   00000298   00109AE5           LDR      R1,[R10, #+0]
   \   0000029C   6430A0E3           MOV      R3,#+100
   \   000002A0   011081E2           ADD      R1,R1,#+1
   \   000002A4   02002DE9           PUSH     {R1}
   \   000002A8   01002DE9           PUSH     {R0}
   \   000002AC   080096E5           LDR      R0,[R6, #+8]
   \   000002B0   1110A0E3           MOV      R1,#+17
   \   000002B4   070200EF           SWI      +519
   \   000002B8   18D08DE2           ADD      SP,SP,#+24
   \   000002BC   00009AE5           LDR      R0,[R10, #+0]
   \   000002C0   001097E5           LDR      R1,[R7, #+0]
   \   000002C4   010051E3           CMP      R1,#+1
   \   000002C8   05008002           ADDEQ    R0,R0,#+5
   \   000002CC   0100000A           BEQ      ??OnRedraw_16
   \   000002D0   000051E3           CMP      R1,#+0
   \   000002D4   05004002           SUBEQ    R0,R0,#+5
   \                     ??OnRedraw_16:
   \   000002D8   408D9FE5           LDR      R8,??OnRedraw_2+0x8  ;; halt
   \   000002DC   00008AE5           STR      R0,[R10, #+0]
   \   000002E0   020051E3           CMP      R1,#+2
   \   000002E4   0500001A           BNE      ??OnRedraw_17
   \   000002E8   000098E5           LDR      R0,[R8, #+0]
   \   000002EC   000050E3           CMP      R0,#+0
   \   000002F0   01004012           SUBNE    R0,R0,#+1
   \   000002F4   00008815           STRNE    R0,[R8, #+0]
   \   000002F8   0300A003           MOVEQ    R0,#+3
   \   000002FC   00008705           STREQ    R0,[R7, #+0]
   \                     ??OnRedraw_17:
   \   00000300   080096E5           LDR      R0,[R6, #+8]
   \   00000304   0B10A0E3           MOV      R1,#+11
   \   00000308   080200EF           SWI      +520
   \   0000030C   00209AE5           LDR      R2,[R10, #+0]
   \   00000310   0510A0E3           MOV      R1,#+5
   \   00000314   550040E2           SUB      R0,R0,#+85
   \   00000318   020050E1           CMP      R0,R2
   \   0000031C   060000AA           BGE      ??OnRedraw_18
   \   00000320   000097E5           LDR      R0,[R7, #+0]
   \   00000324   010050E3           CMP      R0,#+1
   \   00000328   0300001A           BNE      ??OnRedraw_18
   \   0000032C   0200A0E3           MOV      R0,#+2
   \   00000330   000087E5           STR      R0,[R7, #+0]
   \   00000334   001088E5           STR      R1,[R8, #+0]
   \   00000338   160000EA           B        ??OnRedraw_10
   \                     ??OnRedraw_18:
   \   0000033C   000097E5           LDR      R0,[R7, #+0]
   \   00000340   030050E3           CMP      R0,#+3
   \   00000344   0800001A           BNE      ??OnRedraw_19
   \   00000348   000052E3           CMP      R2,#+0
   \   0000034C   0300001A           BNE      ??OnRedraw_20
   \   00000350   0400A0E3           MOV      R0,#+4
   \   00000354   000087E5           STR      R0,[R7, #+0]
   \   00000358   001088E5           STR      R1,[R8, #+0]
   \   0000035C   070000EA           B        ??OnRedraw_21
   \                     ??OnRedraw_20:
   \   00000360   050042E2           SUB      R0,R2,#+5
   \   00000364   00008AE5           STR      R0,[R10, #+0]
   \   00000368   0A0000EA           B        ??OnRedraw_10
   \                     ??OnRedraw_19:
   \   0000036C   040050E3           CMP      R0,#+4
   \   00000370   0800001A           BNE      ??OnRedraw_10
   \   00000374   000098E5           LDR      R0,[R8, #+0]
   \   00000378   000050E3           CMP      R0,#+0
   \   0000037C   0300000A           BEQ      ??OnRedraw_22
   \                     ??OnRedraw_21:
   \   00000380   000098E5           LDR      R0,[R8, #+0]
   \   00000384   010040E2           SUB      R0,R0,#+1
   \   00000388   000088E5           STR      R0,[R8, #+0]
   \   0000038C   010000EA           B        ??OnRedraw_10
   \                     ??OnRedraw_22:
   \   00000390   0100A0E3           MOV      R0,#+1
   \   00000394   000087E5           STR      R0,[R7, #+0]
   \                     ??OnRedraw_10:
   \   00000398   080096E5           LDR      R0,[R6, #+8]
   \   0000039C   0020A0E3           MOV      R2,#+0
   \   000003A0   0410A0E1           MOV      R1,R4
   \   000003A4   ........           BL       SearchIcon
   \   000003A8   00109DE5           LDR      R1,[SP, #+0]
   \   000003AC   0C4084E2           ADD      R4,R4,#+12
   \   000003B0   011081E2           ADD      R1,R1,#+1
   \   000003B4   00108DE5           STR      R1,[SP, #+0]
   \   000003B8   48FFFFEA           B        ??OnRedraw_5
    371            }
    372            if(time_not)
   \                     ??OnRedraw_6:
   \   000003BC   ........           LDR      R0,??DataTable43  ;; time_not
   \   000003C0   000090E5           LDR      R0,[R0, #+0]
   \   000003C4   000050E3           CMP      R0,#+0
   \   000003C8   3E00000A           BEQ      ??OnRedraw_23
    373            {
    374            if(!style) wsprintf(ws, "Tasks:%d", tasks);
   \   000003CC   540C9FE5           LDR      R0,??OnRedraw_2+0x10  ;; tasks
   \   000003D0   002090E5           LDR      R2,[R0, #+0]
   \   000003D4   500C9FE5           LDR      R0,??OnRedraw_2+0x14  ;; style
   \   000003D8   000090E5           LDR      R0,[R0, #+0]
   \   000003DC   000050E3           CMP      R0,#+0
   \   000003E0   481C9F05           LDREQ    R1,??OnRedraw_2+0x18  ;; `?<Constant "Tasks:%d">`
    375            else wsprintf(ws, "T:%d", tasks);
   \   000003E4   0500A0E1           MOV      R0,R5
   \   000003E8   441C9F15           LDRNE    R1,??OnRedraw_2+0x1C  ;; `?<Constant "T:%d">`
   \   000003EC   240100EF           SWI      +292
    376            DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   000003F0   1700A0E3           MOV      R0,#+23
   \   000003F4   2E0100EF           SWI      +302
   \   000003F8   0040A0E1           MOV      R4,R0
   \   000003FC   0B00A0E3           MOV      R0,#+11
   \   00000400   C50100EF           SWI      +453
   \   00000404   0060A0E1           MOV      R6,R0
   \   00000408   0B10A0E3           MOV      R1,#+11
   \   0000040C   0500A0E1           MOV      R0,R5
   \   00000410   080200EF           SWI      +520
   \   00000414   10002DE9           PUSH     {R4}
   \   00000418   0B10A0E1           MOV      R1,R11
   \   0000041C   02002DE9           PUSH     {R1}
   \   00000420   133080E2           ADD      R3,R0,#+19
   \   00000424   7C20A0E3           MOV      R2,#+124
   \   00000428   0500A0E1           MOV      R0,R5
   \   0000042C   0010A0E3           MOV      R1,#+0
   \   00000430   02002DE9           PUSH     {R1}
   \   00000434   0B10A0E3           MOV      R1,#+11
   \   00000438   02002DE9           PUSH     {R1}
   \   0000043C   7D1086E2           ADD      R1,R6,#+125
   \   00000440   02002DE9           PUSH     {R1}
   \   00000444   1010A0E3           MOV      R1,#+16
   \   00000448   4C0100EF           SWI      +332
    377            int ram = GetFreeRamAvail();
   \   0000044C   5F0000EF           SWI      +95
    378            ram=ram/1024;
    379            wsprintf(ws,"Ram:%dKb", ram);
   \   00000450   C014A0E1           ASR      R1,R0,#+9
   \   00000454   210B80E0           ADD      R0,R0,R1, LSR #+22
   \   00000458   D81B9FE5           LDR      R1,??OnRedraw_2+0x20  ;; `?<Constant "Ram:%dKb">`
   \   0000045C   4025A0E1           ASR      R2,R0,#+10
   \   00000460   0500A0E1           MOV      R0,R5
   \   00000464   240100EF           SWI      +292
    380            DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000468   1700A0E3           MOV      R0,#+23
   \   0000046C   2E0100EF           SWI      +302
   \   00000470   0040A0E1           MOV      R4,R0
   \   00000474   0B00A0E3           MOV      R0,#+11
   \   00000478   C50100EF           SWI      +453
   \   0000047C   0060A0E1           MOV      R6,R0
   \   00000480   0B10A0E3           MOV      R1,#+11
   \   00000484   0500A0E1           MOV      R0,R5
   \   00000488   080200EF           SWI      +520
   \   0000048C   10002DE9           PUSH     {R4}
   \   00000490   00082DE9           PUSH     {R11}
   \   00000494   0010A0E3           MOV      R1,#+0
   \   00000498   02002DE9           PUSH     {R1}
   \   0000049C   7630A0E3           MOV      R3,#+118
   \   000004A0   7C20A0E3           MOV      R2,#+124
   \   000004A4   0B10A0E3           MOV      R1,#+11
   \   000004A8   02002DE9           PUSH     {R1}
   \   000004AC   7D1086E2           ADD      R1,R6,#+125
   \   000004B0   02002DE9           PUSH     {R1}
   \   000004B4   731060E2           RSB      R1,R0,#+115
   \   000004B8   0500A0E1           MOV      R0,R5
   \   000004BC   4C0100EF           SWI      +332
   \   000004C0   28D08DE2           ADD      SP,SP,#+40
   \   000004C4   3C0000EA           B        ??OnRedraw_24
    381            }
    382            else
    383              {
    384                int battery = *RamCap();
   \                     ??OnRedraw_23:
   \   000004C8   C88000EF           SWI      +32968
   \   000004CC   B020D0E1           LDRH     R2,[R0, #+0]
    385                wsprintf(ws,"%d%", battery);
   \   000004D0   E01F8FE2           ADR      R1,??OnRedraw_0  ;; "%d%"
   \   000004D4   0500A0E1           MOV      R0,R5
   \   000004D8   240100EF           SWI      +292
    386                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   000004DC   1700A0E3           MOV      R0,#+23
   \   000004E0   2E0100EF           SWI      +302
   \   000004E4   0040A0E1           MOV      R4,R0
   \   000004E8   0B00A0E3           MOV      R0,#+11
   \   000004EC   C50100EF           SWI      +453
   \   000004F0   0060A0E1           MOV      R6,R0
   \   000004F4   0B10A0E3           MOV      R1,#+11
   \   000004F8   0500A0E1           MOV      R0,R5
   \   000004FC   080200EF           SWI      +520
   \   00000500   10002DE9           PUSH     {R4}
   \   00000504   0B10A0E1           MOV      R1,R11
   \   00000508   02002DE9           PUSH     {R1}
   \   0000050C   133080E2           ADD      R3,R0,#+19
   \   00000510   7C20A0E3           MOV      R2,#+124
   \   00000514   0500A0E1           MOV      R0,R5
   \   00000518   0010A0E3           MOV      R1,#+0
   \   0000051C   02002DE9           PUSH     {R1}
   \   00000520   0B10A0E3           MOV      R1,#+11
   \   00000524   02002DE9           PUSH     {R1}
   \   00000528   7D1086E2           ADD      R1,R6,#+125
   \   0000052C   02002DE9           PUSH     {R1}
   \   00000530   1010A0E3           MOV      R1,#+16
   \   00000534   4C0100EF           SWI      +332
    387                TTime time;
    388                TDate date;
    389                GetDateTime(&date, &time);
   \   00000538   18108DE2           ADD      R1,SP,#+24
   \   0000053C   24008DE2           ADD      R0,SP,#+36
   \   00000540   B40000EF           SWI      +180
    390                wsprintf(ws, "%02d:%02d:%02d", time.hour, time.min, time.sec);
   \   00000544   1A00DDE5           LDRB     R0,[SP, #+26]
   \   00000548   EC1A9FE5           LDR      R1,??OnRedraw_2+0x24  ;; `?<Constant "%02d:%02d:%02d">`
   \   0000054C   01002DE9           PUSH     {R0}
   \   00000550   1D30DDE5           LDRB     R3,[SP, #+29]
   \   00000554   1C20DDE5           LDRB     R2,[SP, #+28]
   \   00000558   0500A0E1           MOV      R0,R5
   \   0000055C   240100EF           SWI      +292
    391                DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000560   1700A0E3           MOV      R0,#+23
   \   00000564   2E0100EF           SWI      +302
   \   00000568   0040A0E1           MOV      R4,R0
   \   0000056C   0B00A0E3           MOV      R0,#+11
   \   00000570   C50100EF           SWI      +453
   \   00000574   0060A0E1           MOV      R6,R0
   \   00000578   0B10A0E3           MOV      R1,#+11
   \   0000057C   0500A0E1           MOV      R0,R5
   \   00000580   080200EF           SWI      +520
   \   00000584   10002DE9           PUSH     {R4}
   \   00000588   00082DE9           PUSH     {R11}
   \   0000058C   0010A0E3           MOV      R1,#+0
   \   00000590   02002DE9           PUSH     {R1}
   \   00000594   7630A0E3           MOV      R3,#+118
   \   00000598   7C20A0E3           MOV      R2,#+124
   \   0000059C   0B10A0E3           MOV      R1,#+11
   \   000005A0   02002DE9           PUSH     {R1}
   \   000005A4   7D1086E2           ADD      R1,R6,#+125
   \   000005A8   02002DE9           PUSH     {R1}
   \   000005AC   731060E2           RSB      R1,R0,#+115
   \   000005B0   0500A0E1           MOV      R0,R5
   \   000005B4   4C0100EF           SWI      +332
   \   000005B8   2CD08DE2           ADD      SP,SP,#+44
    392          //      GBS_StartTimerProc(&start_tmr, 30, redrit); 
    393              }
    394            FreeWS(ws);
   \                     ??OnRedraw_24:
   \   000005BC   0500A0E1           MOV      R0,R5
   \   000005C0   890200EA           B        ??OnRedraw_25
    395            }
    396            else
    397              if(task_list==0)
   \                     ??OnRedraw_1:
   \   000005C4   ........           LDR      R0,??DataTable26  ;; screen2
   \   000005C8   000051E3           CMP      R1,#+0
   \   000005CC   DC01001A           BNE      ??OnRedraw_26
    398            {//===============================do the links
    399              DrwImg3(&screen2, 0, 0, NULL, NULL);
   \   000005D0   02002DE9           PUSH     {R1}
   \   000005D4   0030A0E3           MOV      R3,#+0
   \   000005D8   0020A0E3           MOV      R2,#+0
   \   000005DC   ........           BL       DrwImg3
    400              DrawImg(12, 26,(int)background_img);  //12,37
   \   000005E0   0820A0E1           MOV      R2,R8
   \   000005E4   1A10A0E3           MOV      R1,#+26
   \   000005E8   0C00A0E3           MOV      R0,#+12
   \   000005EC   230000EF           SWI      +35
    401              DrawImg(16,48+(pos*12),(int)cursor_img);
   \   000005F0   8C029FE5           LDR      R0,??OnRedraw_0+0x2C  ;; pos
   \   000005F4   0C10A0E3           MOV      R1,#+12
   \   000005F8   000090E5           LDR      R0,[R0, #+0]
   \   000005FC   0520A0E1           MOV      R2,R5
   \   00000600   910000E0           MUL      R0,R1,R0
    402              DrawImg(100,39,(int)selection_img);
    403              DrawImg(83,40,(int)tasks_img);
    404              DrawImg(101,40,(int)bookmarks_img);
    405              int show=0;
   \   00000604   0050A0E3           MOV      R5,#+0
   \   00000608   301080E2           ADD      R1,R0,#+48
   \   0000060C   1000A0E3           MOV      R0,#+16
   \   00000610   230000EF           SWI      +35
   \   00000614   0420A0E1           MOV      R2,R4
   \   00000618   2710A0E3           MOV      R1,#+39
   \   0000061C   6400A0E3           MOV      R0,#+100
   \   00000620   230000EF           SWI      +35
   \   00000624   0720A0E1           MOV      R2,R7
   \   00000628   2810A0E3           MOV      R1,#+40
    406              int i=60;
    407              int len;
    408              int skip=move_skip;
    409              WSHDR *ws=AllocWS(32);
    410              if((!skip)&&(book_show>=1)&&(show<5))
   \   0000062C   ........           LDR      R7,??DataTable27  ;; book_show
   \   00000630   5300A0E3           MOV      R0,#+83
   \   00000634   230000EF           SWI      +35
   \   00000638   0620A0E1           MOV      R2,R6
   \   0000063C   2810A0E3           MOV      R1,#+40
   \   00000640   6500A0E3           MOV      R0,#+101
   \   00000644   230000EF           SWI      +35
   \   00000648   00A09AE5           LDR      R10,[R10, #+0]
   \   0000064C   3C60A0E3           MOV      R6,#+60
   \   00000650   2000A0E3           MOV      R0,#+32
   \   00000654   250100EF           SWI      +293
   \   00000658   0040A0E1           MOV      R4,R0
   \   0000065C   00005AE3           CMP      R10,#+0
   \   00000660   04D08DE2           ADD      SP,SP,#+4
   \   00000664   2500001A           BNE      ??OnRedraw_27
   \   00000668   000097E5           LDR      R0,[R7, #+0]
   \   0000066C   010050E3           CMP      R0,#+1
   \   00000670   220000BA           BLT      ??OnRedraw_27
    411              {
    412                  wsprintf(ws, BM1NAME);
   \   00000674   ........           LDR      R1,??DataTable28  ;; BM1NAME
   \   00000678   0400A0E1           MOV      R0,R4
   \   0000067C   240100EF           SWI      +292
    413                //  DrawString(ws,17,i+1,115,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
    414                  len=Get_WS_width(ws,11)/2;
   \   00000680   0B10A0E3           MOV      R1,#+11
   \   00000684   0400A0E1           MOV      R0,R4
   \   00000688   080200EF           SWI      +520
   \   0000068C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000690   C080A0E1           ASR      R8,R0,#+1
    415                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000694   1700A0E3           MOV      R0,#+23
   \   00000698   2E0100EF           SWI      +302
   \   0000069C   0050A0E1           MOV      R5,R0
   \   000006A0   0B00A0E3           MOV      R0,#+11
   \   000006A4   C50100EF           SWI      +453
   \   000006A8   20002DE9           PUSH     {R5}
   \   000006AC   0910A0E1           MOV      R1,R9
   \   000006B0   02002DE9           PUSH     {R1}
   \   000006B4   3E0080E2           ADD      R0,R0,#+62
   \   000006B8   423088E2           ADD      R3,R8,#+66
   \   000006BC   3D20A0E3           MOV      R2,#+61
   \   000006C0   0010A0E3           MOV      R1,#+0
   \   000006C4   02002DE9           PUSH     {R1}
    416                  SearchIcon(ws, i, 1);
    417                  show++;
   \   000006C8   0150A0E3           MOV      R5,#+1
    418                  i=i+12;
   \   000006CC   4860A0E3           MOV      R6,#+72
   \   000006D0   0B10A0E3           MOV      R1,#+11
   \   000006D4   02002DE9           PUSH     {R1}
   \   000006D8   01002DE9           PUSH     {R0}
   \   000006DC   421068E2           RSB      R1,R8,#+66
   \   000006E0   0400A0E1           MOV      R0,R4
   \   000006E4   4C0100EF           SWI      +332
   \   000006E8   0120A0E3           MOV      R2,#+1
   \   000006EC   3C10A0E3           MOV      R1,#+60
   \   000006F0   0400A0E1           MOV      R0,R4
   \   000006F4   ........           BL       SearchIcon
   \   000006F8   14D08DE2           ADD      SP,SP,#+20
   \   000006FC   010000EA           B        ??OnRedraw_28
    419              }
    420              else
    421                skip--;
   \                     ??OnRedraw_27:
   \   00000700   01A05AE2           SUBS     R10,R10,#+1
    422              if((!skip)&&(book_show>=2)&&(show<5))
   \   00000704   2700001A           BNE      ??OnRedraw_29
   \                     ??OnRedraw_28:
   \   00000708   000097E5           LDR      R0,[R7, #+0]
   \   0000070C   020050E3           CMP      R0,#+2
   \   00000710   240000BA           BLT      ??OnRedraw_29
    423              {
    424                  wsprintf(ws, BM2NAME);
   \   00000714   ........           LDR      R1,??DataTable29  ;; BM2NAME
   \   00000718   0400A0E1           MOV      R0,R4
   \   0000071C   240100EF           SWI      +292
    425                  len=Get_WS_width(ws,11)/2;
   \   00000720   0B10A0E3           MOV      R1,#+11
   \   00000724   0400A0E1           MOV      R0,R4
   \   00000728   080200EF           SWI      +520
   \   0000072C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000730   C080A0E1           ASR      R8,R0,#+1
    426                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000734   1700A0E3           MOV      R0,#+23
   \   00000738   2E0100EF           SWI      +302
   \   0000073C   00008DE5           STR      R0,[SP, #+0]
   \   00000740   0B00A0E3           MOV      R0,#+11
   \   00000744   C50100EF           SWI      +453
   \   00000748   00109DE5           LDR      R1,[SP, #+0]
   \   0000074C   060080E0           ADD      R0,R0,R6
   \   00000750   02002DE9           PUSH     {R1}
   \   00000754   020080E2           ADD      R0,R0,#+2
   \   00000758   423088E2           ADD      R3,R8,#+66
   \   0000075C   012086E2           ADD      R2,R6,#+1
   \   00000760   0910A0E1           MOV      R1,R9
   \   00000764   02002DE9           PUSH     {R1}
    427                  SearchIcon(ws, i, 1);
    428                  show++;
   \   00000768   015085E2           ADD      R5,R5,#+1
   \   0000076C   0010A0E3           MOV      R1,#+0
   \   00000770   02002DE9           PUSH     {R1}
   \   00000774   0B10A0E3           MOV      R1,#+11
   \   00000778   02002DE9           PUSH     {R1}
   \   0000077C   01002DE9           PUSH     {R0}
   \   00000780   421068E2           RSB      R1,R8,#+66
   \   00000784   0400A0E1           MOV      R0,R4
   \   00000788   4C0100EF           SWI      +332
   \   0000078C   0120A0E3           MOV      R2,#+1
   \   00000790   0610A0E1           MOV      R1,R6
   \   00000794   0400A0E1           MOV      R0,R4
   \   00000798   ........           BL       SearchIcon
    429                  i=i+12;
   \   0000079C   0C6086E2           ADD      R6,R6,#+12
   \   000007A0   14D08DE2           ADD      SP,SP,#+20
   \   000007A4   010000EA           B        ??OnRedraw_30
    430              }
    431              else
    432                skip--;
   \                     ??OnRedraw_29:
   \   000007A8   01A05AE2           SUBS     R10,R10,#+1
    433              if((!skip)&&(book_show>=3)&&(show<5))
   \   000007AC   3500001A           BNE      ??OnRedraw_31
   \                     ??OnRedraw_30:
   \   000007B0   000097E5           LDR      R0,[R7, #+0]
   \   000007B4   030050E3           CMP      R0,#+3
   \   000007B8   320000BA           BLT      ??OnRedraw_31
   \   000007BC   050055E3           CMP      R5,#+5
   \   000007C0   300000AA           BGE      ??OnRedraw_31
    434              {
    435                  wsprintf(ws, BM3NAME);
   \   000007C4   ........           LDR      R1,??DataTable30  ;; BM3NAME
   \   000007C8   0400A0E1           MOV      R0,R4
   \   000007CC   240100EF           SWI      +292
    436                  len=Get_WS_width(ws,11)/2;
   \   000007D0   0B10A0E3           MOV      R1,#+11
   \   000007D4   0400A0E1           MOV      R0,R4
   \   000007D8   080200EF           SWI      +520
   \   000007DC   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   000007E0   C080A0E1           ASR      R8,R0,#+1
    437                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   000007E4   1700A0E3           MOV      R0,#+23
   \   000007E8   2E0100EF           SWI      +302
   \   000007EC   00008DE5           STR      R0,[SP, #+0]
   \   000007F0   0B00A0E3           MOV      R0,#+11
   \   000007F4   C50100EF           SWI      +453
   \   000007F8   00109DE5           LDR      R1,[SP, #+0]
   \   000007FC   060080E0           ADD      R0,R0,R6
   \   00000800   02002DE9           PUSH     {R1}
   \   00000804   020080E2           ADD      R0,R0,#+2
   \   00000808   423088E2           ADD      R3,R8,#+66
   \   0000080C   012086E2           ADD      R2,R6,#+1
   \   00000810   0910A0E1           MOV      R1,R9
   \   00000814   02002DE9           PUSH     {R1}
    438                  SearchIcon(ws, i, 1);
    439                  show++;
   \   00000818   015085E2           ADD      R5,R5,#+1
   \   0000081C   0010A0E3           MOV      R1,#+0
   \   00000820   02002DE9           PUSH     {R1}
   \   00000824   0B10A0E3           MOV      R1,#+11
   \   00000828   02002DE9           PUSH     {R1}
   \   0000082C   01002DE9           PUSH     {R0}
   \   00000830   421068E2           RSB      R1,R8,#+66
   \   00000834   0400A0E1           MOV      R0,R4
   \   00000838   4C0100EF           SWI      +332
   \   0000083C   0120A0E3           MOV      R2,#+1
   \   00000840   0610A0E1           MOV      R1,R6
   \   00000844   0400A0E1           MOV      R0,R4
   \   00000848   ........           BL       SearchIcon
    440                  i=i+12;
   \   0000084C   0C6086E2           ADD      R6,R6,#+12
   \   00000850   14D08DE2           ADD      SP,SP,#+20
   \   00000854   0D0000EA           B        ??OnRedraw_32
   \                     ??OnRedraw_0:
   \   00000858   25642500           DC8      "%d%"
   \   0000085C   ........           DC32     task_list
   \   00000860   ........           DC32     selection_img
   \   00000864   ........           DC32     cursor_img
   \   00000868   ........           DC32     bookmarks_img
   \   0000086C   ........           DC32     tasks_img
   \   00000870   ........           DC32     background_img
   \   00000874   ........           DC32     ctasks
   \   00000878   ........           DC32     move_skip
   \   0000087C   ........           DC32     cinfo
   \   00000880   ........           DC32     total_d
   \   00000884   ........           DC32     pos
    441              }
    442              else
    443                skip--;
   \                     ??OnRedraw_31:
   \   00000888   01A05AE2           SUBS     R10,R10,#+1
    444              if((!skip)&&(book_show>=4)&&(show<5))
   \   0000088C   2900001A           BNE      ??OnRedraw_33
   \                     ??OnRedraw_32:
   \   00000890   000097E5           LDR      R0,[R7, #+0]
   \   00000894   040050E3           CMP      R0,#+4
   \   00000898   260000BA           BLT      ??OnRedraw_33
   \   0000089C   050055E3           CMP      R5,#+5
   \   000008A0   240000AA           BGE      ??OnRedraw_33
    445              {
    446                  wsprintf(ws, BM4NAME);
   \   000008A4   ........           LDR      R1,??DataTable31  ;; BM4NAME
   \   000008A8   0400A0E1           MOV      R0,R4
   \   000008AC   240100EF           SWI      +292
    447                  len=Get_WS_width(ws,11)/2;
   \   000008B0   0B10A0E3           MOV      R1,#+11
   \   000008B4   0400A0E1           MOV      R0,R4
   \   000008B8   080200EF           SWI      +520
   \   000008BC   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   000008C0   C080A0E1           ASR      R8,R0,#+1
    448                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   000008C4   1700A0E3           MOV      R0,#+23
   \   000008C8   2E0100EF           SWI      +302
   \   000008CC   00008DE5           STR      R0,[SP, #+0]
   \   000008D0   0B00A0E3           MOV      R0,#+11
   \   000008D4   C50100EF           SWI      +453
   \   000008D8   00109DE5           LDR      R1,[SP, #+0]
   \   000008DC   060080E0           ADD      R0,R0,R6
   \   000008E0   02002DE9           PUSH     {R1}
   \   000008E4   020080E2           ADD      R0,R0,#+2
   \   000008E8   423088E2           ADD      R3,R8,#+66
   \   000008EC   012086E2           ADD      R2,R6,#+1
   \   000008F0   0910A0E1           MOV      R1,R9
   \   000008F4   02002DE9           PUSH     {R1}
    449                  SearchIcon(ws, i ,1);
    450                  show++;
   \   000008F8   015085E2           ADD      R5,R5,#+1
   \   000008FC   0010A0E3           MOV      R1,#+0
   \   00000900   02002DE9           PUSH     {R1}
   \   00000904   0B10A0E3           MOV      R1,#+11
   \   00000908   02002DE9           PUSH     {R1}
   \   0000090C   01002DE9           PUSH     {R0}
   \   00000910   421068E2           RSB      R1,R8,#+66
   \   00000914   0400A0E1           MOV      R0,R4
   \   00000918   4C0100EF           SWI      +332
   \   0000091C   0120A0E3           MOV      R2,#+1
   \   00000920   0610A0E1           MOV      R1,R6
   \   00000924   0400A0E1           MOV      R0,R4
   \   00000928   ........           BL       SearchIcon
    451                  i=i+12;
   \   0000092C   0C6086E2           ADD      R6,R6,#+12
   \   00000930   14D08DE2           ADD      SP,SP,#+20
   \   00000934   010000EA           B        ??OnRedraw_34
    452              }
    453              else
    454                skip--;
   \                     ??OnRedraw_33:
   \   00000938   01A05AE2           SUBS     R10,R10,#+1
    455              if((!skip)&&(book_show>=5)&&(show<5))
   \   0000093C   2900001A           BNE      ??OnRedraw_35
   \                     ??OnRedraw_34:
   \   00000940   000097E5           LDR      R0,[R7, #+0]
   \   00000944   050050E3           CMP      R0,#+5
   \   00000948   260000BA           BLT      ??OnRedraw_35
   \   0000094C   050055E3           CMP      R5,#+5
   \   00000950   240000AA           BGE      ??OnRedraw_35
    456              {
    457                  wsprintf(ws, BM5NAME);
   \   00000954   ........           LDR      R1,??DataTable32  ;; BM5NAME
   \   00000958   0400A0E1           MOV      R0,R4
   \   0000095C   240100EF           SWI      +292
    458                  len=Get_WS_width(ws,11)/2;
   \   00000960   0B10A0E3           MOV      R1,#+11
   \   00000964   0400A0E1           MOV      R0,R4
   \   00000968   080200EF           SWI      +520
   \   0000096C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000970   C080A0E1           ASR      R8,R0,#+1
    459                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000974   1700A0E3           MOV      R0,#+23
   \   00000978   2E0100EF           SWI      +302
   \   0000097C   00008DE5           STR      R0,[SP, #+0]
   \   00000980   0B00A0E3           MOV      R0,#+11
   \   00000984   C50100EF           SWI      +453
   \   00000988   00109DE5           LDR      R1,[SP, #+0]
   \   0000098C   060080E0           ADD      R0,R0,R6
   \   00000990   02002DE9           PUSH     {R1}
   \   00000994   020080E2           ADD      R0,R0,#+2
   \   00000998   423088E2           ADD      R3,R8,#+66
   \   0000099C   012086E2           ADD      R2,R6,#+1
   \   000009A0   0910A0E1           MOV      R1,R9
   \   000009A4   02002DE9           PUSH     {R1}
    460                  SearchIcon(ws, i, 1);
    461                  show++;
   \   000009A8   015085E2           ADD      R5,R5,#+1
   \   000009AC   0010A0E3           MOV      R1,#+0
   \   000009B0   02002DE9           PUSH     {R1}
   \   000009B4   0B10A0E3           MOV      R1,#+11
   \   000009B8   02002DE9           PUSH     {R1}
   \   000009BC   01002DE9           PUSH     {R0}
   \   000009C0   421068E2           RSB      R1,R8,#+66
   \   000009C4   0400A0E1           MOV      R0,R4
   \   000009C8   4C0100EF           SWI      +332
   \   000009CC   0120A0E3           MOV      R2,#+1
   \   000009D0   0610A0E1           MOV      R1,R6
   \   000009D4   0400A0E1           MOV      R0,R4
   \   000009D8   ........           BL       SearchIcon
    462                  i=i+12;
   \   000009DC   0C6086E2           ADD      R6,R6,#+12
   \   000009E0   14D08DE2           ADD      SP,SP,#+20
   \   000009E4   010000EA           B        ??OnRedraw_36
    463              }
    464              else
    465                skip--;
   \                     ??OnRedraw_35:
   \   000009E8   01A05AE2           SUBS     R10,R10,#+1
    466              if((!skip)&&(book_show>=6)&&(show<5))
   \   000009EC   2900001A           BNE      ??OnRedraw_37
   \                     ??OnRedraw_36:
   \   000009F0   000097E5           LDR      R0,[R7, #+0]
   \   000009F4   060050E3           CMP      R0,#+6
   \   000009F8   260000BA           BLT      ??OnRedraw_37
   \   000009FC   050055E3           CMP      R5,#+5
   \   00000A00   240000AA           BGE      ??OnRedraw_37
    467              {
    468                  wsprintf(ws, BM6NAME);
   \   00000A04   ........           LDR      R1,??DataTable33  ;; BM6NAME
   \   00000A08   0400A0E1           MOV      R0,R4
   \   00000A0C   240100EF           SWI      +292
    469                  len=Get_WS_width(ws,11)/2;
   \   00000A10   0B10A0E3           MOV      R1,#+11
   \   00000A14   0400A0E1           MOV      R0,R4
   \   00000A18   080200EF           SWI      +520
   \   00000A1C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000A20   C080A0E1           ASR      R8,R0,#+1
    470                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000A24   1700A0E3           MOV      R0,#+23
   \   00000A28   2E0100EF           SWI      +302
   \   00000A2C   00008DE5           STR      R0,[SP, #+0]
   \   00000A30   0B00A0E3           MOV      R0,#+11
   \   00000A34   C50100EF           SWI      +453
   \   00000A38   00109DE5           LDR      R1,[SP, #+0]
   \   00000A3C   060080E0           ADD      R0,R0,R6
   \   00000A40   02002DE9           PUSH     {R1}
   \   00000A44   020080E2           ADD      R0,R0,#+2
   \   00000A48   423088E2           ADD      R3,R8,#+66
   \   00000A4C   012086E2           ADD      R2,R6,#+1
   \   00000A50   0910A0E1           MOV      R1,R9
   \   00000A54   02002DE9           PUSH     {R1}
    471                  SearchIcon(ws, i, 1);
    472                  show++;
   \   00000A58   015085E2           ADD      R5,R5,#+1
   \   00000A5C   0010A0E3           MOV      R1,#+0
   \   00000A60   02002DE9           PUSH     {R1}
   \   00000A64   0B10A0E3           MOV      R1,#+11
   \   00000A68   02002DE9           PUSH     {R1}
   \   00000A6C   01002DE9           PUSH     {R0}
   \   00000A70   421068E2           RSB      R1,R8,#+66
   \   00000A74   0400A0E1           MOV      R0,R4
   \   00000A78   4C0100EF           SWI      +332
   \   00000A7C   0120A0E3           MOV      R2,#+1
   \   00000A80   0610A0E1           MOV      R1,R6
   \   00000A84   0400A0E1           MOV      R0,R4
   \   00000A88   ........           BL       SearchIcon
    473                  i=i+12;
   \   00000A8C   0C6086E2           ADD      R6,R6,#+12
   \   00000A90   14D08DE2           ADD      SP,SP,#+20
   \   00000A94   010000EA           B        ??OnRedraw_38
    474              }
    475              else
    476                skip--;
   \                     ??OnRedraw_37:
   \   00000A98   01A05AE2           SUBS     R10,R10,#+1
    477              if((!skip)&&(book_show>=7)&&(show<5))
   \   00000A9C   2900001A           BNE      ??OnRedraw_39
   \                     ??OnRedraw_38:
   \   00000AA0   000097E5           LDR      R0,[R7, #+0]
   \   00000AA4   070050E3           CMP      R0,#+7
   \   00000AA8   260000BA           BLT      ??OnRedraw_39
   \   00000AAC   050055E3           CMP      R5,#+5
   \   00000AB0   240000AA           BGE      ??OnRedraw_39
    478              {
    479                  wsprintf(ws, BM7NAME);
   \   00000AB4   ........           LDR      R1,??DataTable34  ;; BM7NAME
   \   00000AB8   0400A0E1           MOV      R0,R4
   \   00000ABC   240100EF           SWI      +292
    480                  len=Get_WS_width(ws,11)/2;
   \   00000AC0   0B10A0E3           MOV      R1,#+11
   \   00000AC4   0400A0E1           MOV      R0,R4
   \   00000AC8   080200EF           SWI      +520
   \   00000ACC   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000AD0   C080A0E1           ASR      R8,R0,#+1
    481                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000AD4   1700A0E3           MOV      R0,#+23
   \   00000AD8   2E0100EF           SWI      +302
   \   00000ADC   00008DE5           STR      R0,[SP, #+0]
   \   00000AE0   0B00A0E3           MOV      R0,#+11
   \   00000AE4   C50100EF           SWI      +453
   \   00000AE8   00109DE5           LDR      R1,[SP, #+0]
   \   00000AEC   060080E0           ADD      R0,R0,R6
   \   00000AF0   02002DE9           PUSH     {R1}
   \   00000AF4   020080E2           ADD      R0,R0,#+2
   \   00000AF8   423088E2           ADD      R3,R8,#+66
   \   00000AFC   012086E2           ADD      R2,R6,#+1
   \   00000B00   0910A0E1           MOV      R1,R9
   \   00000B04   02002DE9           PUSH     {R1}
    482                  SearchIcon(ws, i, 1);
    483                  show++;
   \   00000B08   015085E2           ADD      R5,R5,#+1
   \   00000B0C   0010A0E3           MOV      R1,#+0
   \   00000B10   02002DE9           PUSH     {R1}
   \   00000B14   0B10A0E3           MOV      R1,#+11
   \   00000B18   02002DE9           PUSH     {R1}
   \   00000B1C   01002DE9           PUSH     {R0}
   \   00000B20   421068E2           RSB      R1,R8,#+66
   \   00000B24   0400A0E1           MOV      R0,R4
   \   00000B28   4C0100EF           SWI      +332
   \   00000B2C   0120A0E3           MOV      R2,#+1
   \   00000B30   0610A0E1           MOV      R1,R6
   \   00000B34   0400A0E1           MOV      R0,R4
   \   00000B38   ........           BL       SearchIcon
    484                  i=i+12;
   \   00000B3C   0C6086E2           ADD      R6,R6,#+12
   \   00000B40   14D08DE2           ADD      SP,SP,#+20
   \   00000B44   010000EA           B        ??OnRedraw_40
    485              }
    486              else
    487                skip--;
   \                     ??OnRedraw_39:
   \   00000B48   01A05AE2           SUBS     R10,R10,#+1
    488              if((!skip)&&(book_show>=8)&&(show<5))
   \   00000B4C   2900001A           BNE      ??OnRedraw_41
   \                     ??OnRedraw_40:
   \   00000B50   000097E5           LDR      R0,[R7, #+0]
   \   00000B54   080050E3           CMP      R0,#+8
   \   00000B58   260000BA           BLT      ??OnRedraw_41
   \   00000B5C   050055E3           CMP      R5,#+5
   \   00000B60   240000AA           BGE      ??OnRedraw_41
    489              {
    490                  wsprintf(ws, BM8NAME);
   \   00000B64   ........           LDR      R1,??DataTable35  ;; BM8NAME
   \   00000B68   0400A0E1           MOV      R0,R4
   \   00000B6C   240100EF           SWI      +292
    491                  len=Get_WS_width(ws,11)/2;
   \   00000B70   0B10A0E3           MOV      R1,#+11
   \   00000B74   0400A0E1           MOV      R0,R4
   \   00000B78   080200EF           SWI      +520
   \   00000B7C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000B80   C080A0E1           ASR      R8,R0,#+1
    492                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000B84   1700A0E3           MOV      R0,#+23
   \   00000B88   2E0100EF           SWI      +302
   \   00000B8C   00008DE5           STR      R0,[SP, #+0]
   \   00000B90   0B00A0E3           MOV      R0,#+11
   \   00000B94   C50100EF           SWI      +453
   \   00000B98   00109DE5           LDR      R1,[SP, #+0]
   \   00000B9C   060080E0           ADD      R0,R0,R6
   \   00000BA0   02002DE9           PUSH     {R1}
   \   00000BA4   020080E2           ADD      R0,R0,#+2
   \   00000BA8   423088E2           ADD      R3,R8,#+66
   \   00000BAC   012086E2           ADD      R2,R6,#+1
   \   00000BB0   0910A0E1           MOV      R1,R9
   \   00000BB4   02002DE9           PUSH     {R1}
    493                  SearchIcon(ws, i, 1);
    494                  show++;
   \   00000BB8   015085E2           ADD      R5,R5,#+1
   \   00000BBC   0010A0E3           MOV      R1,#+0
   \   00000BC0   02002DE9           PUSH     {R1}
   \   00000BC4   0B10A0E3           MOV      R1,#+11
   \   00000BC8   02002DE9           PUSH     {R1}
   \   00000BCC   01002DE9           PUSH     {R0}
   \   00000BD0   421068E2           RSB      R1,R8,#+66
   \   00000BD4   0400A0E1           MOV      R0,R4
   \   00000BD8   4C0100EF           SWI      +332
   \   00000BDC   0120A0E3           MOV      R2,#+1
   \   00000BE0   0610A0E1           MOV      R1,R6
   \   00000BE4   0400A0E1           MOV      R0,R4
   \   00000BE8   ........           BL       SearchIcon
    495                  i=i+12;
   \   00000BEC   0C6086E2           ADD      R6,R6,#+12
   \   00000BF0   14D08DE2           ADD      SP,SP,#+20
   \   00000BF4   010000EA           B        ??OnRedraw_42
    496              }
    497              else
    498                skip--;
   \                     ??OnRedraw_41:
   \   00000BF8   01A05AE2           SUBS     R10,R10,#+1
    499              if((!skip)&&(book_show>=9)&&(show<5))
   \   00000BFC   2800001A           BNE      ??OnRedraw_43
   \                     ??OnRedraw_42:
   \   00000C00   000097E5           LDR      R0,[R7, #+0]
   \   00000C04   090050E3           CMP      R0,#+9
   \   00000C08   250000BA           BLT      ??OnRedraw_43
   \   00000C0C   050055E3           CMP      R5,#+5
   \   00000C10   230000AA           BGE      ??OnRedraw_43
    500              {
    501                  wsprintf(ws, BM9NAME);
   \   00000C14   ........           LDR      R1,??DataTable36  ;; BM9NAME
   \   00000C18   0400A0E1           MOV      R0,R4
   \   00000C1C   240100EF           SWI      +292
    502                  len=Get_WS_width(ws,11)/2;
   \   00000C20   0B10A0E3           MOV      R1,#+11
   \   00000C24   0400A0E1           MOV      R0,R4
   \   00000C28   080200EF           SWI      +520
   \   00000C2C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000C30   C080A0E1           ASR      R8,R0,#+1
    503                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000C34   1700A0E3           MOV      R0,#+23
   \   00000C38   2E0100EF           SWI      +302
   \   00000C3C   00A0A0E1           MOV      R10,R0
   \   00000C40   0B00A0E3           MOV      R0,#+11
   \   00000C44   C50100EF           SWI      +453
   \   00000C48   00042DE9           PUSH     {R10}
   \   00000C4C   0910A0E1           MOV      R1,R9
   \   00000C50   02002DE9           PUSH     {R1}
   \   00000C54   060080E0           ADD      R0,R0,R6
   \   00000C58   020080E2           ADD      R0,R0,#+2
   \   00000C5C   423088E2           ADD      R3,R8,#+66
   \   00000C60   0010A0E3           MOV      R1,#+0
   \   00000C64   02002DE9           PUSH     {R1}
   \   00000C68   012086E2           ADD      R2,R6,#+1
    504                  SearchIcon(ws, i, 1);
    505                  show++;
   \   00000C6C   015085E2           ADD      R5,R5,#+1
   \   00000C70   0B10A0E3           MOV      R1,#+11
   \   00000C74   02002DE9           PUSH     {R1}
   \   00000C78   01002DE9           PUSH     {R0}
   \   00000C7C   421068E2           RSB      R1,R8,#+66
   \   00000C80   0400A0E1           MOV      R0,R4
   \   00000C84   4C0100EF           SWI      +332
   \   00000C88   0120A0E3           MOV      R2,#+1
   \   00000C8C   0610A0E1           MOV      R1,R6
   \   00000C90   0400A0E1           MOV      R0,R4
   \   00000C94   ........           BL       SearchIcon
    506                  i=i+12;
   \   00000C98   0C6086E2           ADD      R6,R6,#+12
   \   00000C9C   14D08DE2           ADD      SP,SP,#+20
   \   00000CA0   010000EA           B        ??OnRedraw_44
    507              }
    508              else
    509                skip--;
    510              if((!skip)&&(book_show>=10)&&(show<5))
   \                     ??OnRedraw_43:
   \   00000CA4   01005AE2           SUBS     R0,R10,#+1
   \   00000CA8   4E00001A           BNE      ??OnRedraw_45
   \                     ??OnRedraw_44:
   \   00000CAC   000097E5           LDR      R0,[R7, #+0]
   \   00000CB0   0A0050E3           CMP      R0,#+10
   \   00000CB4   4B0000BA           BLT      ??OnRedraw_45
   \   00000CB8   050055E3           CMP      R5,#+5
   \   00000CBC   490000AA           BGE      ??OnRedraw_45
    511              {
    512                  wsprintf(ws, BM0NAME);
   \   00000CC0   ........           LDR      R1,??DataTable37  ;; BM0NAME
   \   00000CC4   0400A0E1           MOV      R0,R4
   \   00000CC8   240100EF           SWI      +292
    513                  len=Get_WS_width(ws,11)/2;
   \   00000CCC   0B10A0E3           MOV      R1,#+11
   \   00000CD0   0400A0E1           MOV      R0,R4
   \   00000CD4   080200EF           SWI      +520
   \   00000CD8   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000CDC   C080A0E1           ASR      R8,R0,#+1
    514                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000CE0   1700A0E3           MOV      R0,#+23
   \   00000CE4   2E0100EF           SWI      +302
   \   00000CE8   0050A0E1           MOV      R5,R0
   \   00000CEC   0B00A0E3           MOV      R0,#+11
   \   00000CF0   C50100EF           SWI      +453
   \   00000CF4   20002DE9           PUSH     {R5}
   \   00000CF8   00022DE9           PUSH     {R9}
   \   00000CFC   0010A0E3           MOV      R1,#+0
   \   00000D00   02002DE9           PUSH     {R1}
   \   00000D04   060080E0           ADD      R0,R0,R6
   \   00000D08   020080E2           ADD      R0,R0,#+2
   \   00000D0C   423088E2           ADD      R3,R8,#+66
   \   00000D10   0B10A0E3           MOV      R1,#+11
   \   00000D14   02002DE9           PUSH     {R1}
   \   00000D18   01002DE9           PUSH     {R0}
   \   00000D1C   012086E2           ADD      R2,R6,#+1
   \   00000D20   421068E2           RSB      R1,R8,#+66
   \   00000D24   0400A0E1           MOV      R0,R4
   \   00000D28   4C0100EF           SWI      +332
    515                  SearchIcon(ws, i, 1);
   \   00000D2C   0120A0E3           MOV      R2,#+1
   \   00000D30   0610A0E1           MOV      R1,R6
   \   00000D34   0400A0E1           MOV      R0,R4
   \   00000D38   ........           BL       SearchIcon
    516                  show++;
    517                  i=i+12;
   \   00000D3C   14D08DE2           ADD      SP,SP,#+20
    518              }
    519              else
    520                skip--;
    521              if(time_not)
   \                     ??OnRedraw_46:
   \   00000D40   280000EA           B        ??OnRedraw_45
    522              {
    523                if(!style) wsprintf(ws, "Tasks:%d", tasks);
    524                else wsprintf(ws, "T:%d", tasks);
    525                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
    526                int ram = GetFreeRamAvail();
    527                ram=ram/1024;
    528                wsprintf(ws,"Ram:%dKb", ram);
    529                 DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
    530              }
    531              else
    532              {
    533                int battery = *RamCap();
    534                wsprintf(ws,"%d%", battery);
    535                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
    536                TTime time;
    537                TDate date;
    538                GetDateTime(&date, &time);
    539                wsprintf(ws, "%02d:%02d:%02d", time.hour, time.min, time.sec);
    540                DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
    541                
    542              }
    543            FreeWS(ws);
    544            }//===============================end do links
    545            else
    546              if(task_list==2)
   \                     ??OnRedraw_26:
   \   00000D44   020051E3           CMP      R1,#+2
   \   00000D48   A800001A           BNE      ??OnRedraw_47
    547              {
    548                DrwImg3(&screen2, 0, 0, NULL, NULL);
   \   00000D4C   0010A0E3           MOV      R1,#+0
   \   00000D50   02002DE9           PUSH     {R1}
   \   00000D54   0030A0E3           MOV      R3,#+0
   \   00000D58   0120A0E1           MOV      R2,R1
   \   00000D5C   ........           BL       DrwImg3
    549                DrawImg(12, 26,(int)background_img);  //12,37
   \   00000D60   0820A0E1           MOV      R2,R8
   \   00000D64   1A10A0E3           MOV      R1,#+26
   \   00000D68   0C00A0E3           MOV      R0,#+12
   \   00000D6C   230000EF           SWI      +35
    550          //      DrawImg(16,48+(pos*12),(int)cursor_img);
    551          //      DrawImg(100,39,(int)selection_img);
    552                DrawImg(83,40,(int)tasks_img);
   \   00000D70   0720A0E1           MOV      R2,R7
   \   00000D74   2810A0E3           MOV      R1,#+40
   \   00000D78   5300A0E3           MOV      R0,#+83
   \   00000D7C   230000EF           SWI      +35
    553                DrawImg(101,40,(int)bookmarks_img);
   \   00000D80   0620A0E1           MOV      R2,R6
   \   00000D84   2810A0E3           MOV      R1,#+40
   \   00000D88   6500A0E3           MOV      R0,#+101
   \   00000D8C   230000EF           SWI      +35
    554                if(shutd) {DrawImg(16,60,(int)shutdown1); DrawImg(16,91,(int)reboot2);}
   \   00000D90   ........           LDR      R0,??DataTable69  ;; shutd
   \   00000D94   000090E5           LDR      R0,[R0, #+0]
   \   00000D98   04D08DE2           ADD      SP,SP,#+4
   \   00000D9C   000050E3           CMP      R0,#+0
   \   00000DA0   0500000A           BEQ      ??OnRedraw_48
   \   00000DA4   ........           LDR      R2,??DataTable39  ;; shutdown1
   \   00000DA8   3C10A0E3           MOV      R1,#+60
   \   00000DAC   1000A0E3           MOV      R0,#+16
   \   00000DB0   230000EF           SWI      +35
   \   00000DB4   ........           LDR      R2,??DataTable40  ;; reboot2
   \   00000DB8   040000EA           B        ??OnRedraw_49
    555                else
    556                {DrawImg(16,60,(int)shutdown2); DrawImg(16,91,(int)reboot1);}
   \                     ??OnRedraw_48:
   \   00000DBC   ........           LDR      R2,??DataTable41  ;; shutdown2
   \   00000DC0   3C10A0E3           MOV      R1,#+60
   \   00000DC4   1000A0E3           MOV      R0,#+16
   \   00000DC8   230000EF           SWI      +35
   \   00000DCC   ........           LDR      R2,??DataTable42  ;; reboot1
   \                     ??OnRedraw_49:
   \   00000DD0   5B10A0E3           MOV      R1,#+91
   \   00000DD4   1000A0E3           MOV      R0,#+16
   \   00000DD8   230000EF           SWI      +35
    557                WSHDR *ws=AllocWS(32);
   \   00000DDC   2000A0E3           MOV      R0,#+32
   \   00000DE0   250100EF           SWI      +293
   \   00000DE4   0040A0E1           MOV      R4,R0
    558                if(time_not)
   \                     ??OnRedraw_45:
   \   00000DE8   ........           LDR      R0,??DataTable43  ;; time_not
   \   00000DEC   000090E5           LDR      R0,[R0, #+0]
   \   00000DF0   000050E3           CMP      R0,#+0
   \   00000DF4   3E00000A           BEQ      ??OnRedraw_50
    559                {
    560                if(!style) wsprintf(ws, "Tasks:%d", tasks);
   \   00000DF8   28029FE5           LDR      R0,??OnRedraw_2+0x10  ;; tasks
   \   00000DFC   002090E5           LDR      R2,[R0, #+0]
   \   00000E00   24029FE5           LDR      R0,??OnRedraw_2+0x14  ;; style
   \   00000E04   000090E5           LDR      R0,[R0, #+0]
   \   00000E08   000050E3           CMP      R0,#+0
   \   00000E0C   1C129F05           LDREQ    R1,??OnRedraw_2+0x18  ;; `?<Constant "Tasks:%d">`
    561                else wsprintf(ws, "T:%d", tasks);
   \   00000E10   0400A0E1           MOV      R0,R4
   \   00000E14   18129F15           LDRNE    R1,??OnRedraw_2+0x1C  ;; `?<Constant "T:%d">`
   \   00000E18   240100EF           SWI      +292
    562                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000E1C   1700A0E3           MOV      R0,#+23
   \   00000E20   2E0100EF           SWI      +302
   \   00000E24   0050A0E1           MOV      R5,R0
   \   00000E28   0B00A0E3           MOV      R0,#+11
   \   00000E2C   C50100EF           SWI      +453
   \   00000E30   0060A0E1           MOV      R6,R0
   \   00000E34   0B10A0E3           MOV      R1,#+11
   \   00000E38   0400A0E1           MOV      R0,R4
   \   00000E3C   080200EF           SWI      +520
   \   00000E40   20002DE9           PUSH     {R5}
   \   00000E44   0B10A0E1           MOV      R1,R11
   \   00000E48   02002DE9           PUSH     {R1}
   \   00000E4C   133080E2           ADD      R3,R0,#+19
   \   00000E50   7C20A0E3           MOV      R2,#+124
   \   00000E54   0400A0E1           MOV      R0,R4
   \   00000E58   0010A0E3           MOV      R1,#+0
   \   00000E5C   02002DE9           PUSH     {R1}
   \   00000E60   0B10A0E3           MOV      R1,#+11
   \   00000E64   02002DE9           PUSH     {R1}
   \   00000E68   7D1086E2           ADD      R1,R6,#+125
   \   00000E6C   02002DE9           PUSH     {R1}
   \   00000E70   1010A0E3           MOV      R1,#+16
   \   00000E74   4C0100EF           SWI      +332
    563                int ram = GetFreeRamAvail();
   \   00000E78   5F0000EF           SWI      +95
    564                ram=ram/1024;
    565                wsprintf(ws,"Ram:%dKb", ram);
   \   00000E7C   C014A0E1           ASR      R1,R0,#+9
   \   00000E80   210B80E0           ADD      R0,R0,R1, LSR #+22
   \   00000E84   AC119FE5           LDR      R1,??OnRedraw_2+0x20  ;; `?<Constant "Ram:%dKb">`
   \   00000E88   4025A0E1           ASR      R2,R0,#+10
   \   00000E8C   0400A0E1           MOV      R0,R4
   \   00000E90   240100EF           SWI      +292
    566                 DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000E94   1700A0E3           MOV      R0,#+23
   \   00000E98   2E0100EF           SWI      +302
   \   00000E9C   0050A0E1           MOV      R5,R0
   \   00000EA0   0B00A0E3           MOV      R0,#+11
   \   00000EA4   C50100EF           SWI      +453
   \   00000EA8   0060A0E1           MOV      R6,R0
   \   00000EAC   0B10A0E3           MOV      R1,#+11
   \   00000EB0   0400A0E1           MOV      R0,R4
   \   00000EB4   080200EF           SWI      +520
   \   00000EB8   20002DE9           PUSH     {R5}
   \   00000EBC   00082DE9           PUSH     {R11}
   \   00000EC0   0010A0E3           MOV      R1,#+0
   \   00000EC4   02002DE9           PUSH     {R1}
   \   00000EC8   7630A0E3           MOV      R3,#+118
   \   00000ECC   7C20A0E3           MOV      R2,#+124
   \   00000ED0   0B10A0E3           MOV      R1,#+11
   \   00000ED4   02002DE9           PUSH     {R1}
   \   00000ED8   7D1086E2           ADD      R1,R6,#+125
   \   00000EDC   02002DE9           PUSH     {R1}
   \   00000EE0   731060E2           RSB      R1,R0,#+115
   \   00000EE4   0400A0E1           MOV      R0,R4
   \   00000EE8   4C0100EF           SWI      +332
   \   00000EEC   28D08DE2           ADD      SP,SP,#+40
   \   00000EF0   3C0000EA           B        ??OnRedraw_51
    567                }
    568                else
    569                {
    570                int battery = *RamCap();
   \                     ??OnRedraw_50:
   \   00000EF4   C88000EF           SWI      +32968
   \   00000EF8   B020D0E1           LDRH     R2,[R0, #+0]
    571                wsprintf(ws,"%d%", battery);
   \   00000EFC   481F8FE2           ADR      R1,??OnRedraw_2+0xC  ;; "%d%"
   \   00000F00   0400A0E1           MOV      R0,R4
   \   00000F04   240100EF           SWI      +292
    572                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000F08   1700A0E3           MOV      R0,#+23
   \   00000F0C   2E0100EF           SWI      +302
   \   00000F10   0050A0E1           MOV      R5,R0
   \   00000F14   0B00A0E3           MOV      R0,#+11
   \   00000F18   C50100EF           SWI      +453
   \   00000F1C   0060A0E1           MOV      R6,R0
   \   00000F20   0B10A0E3           MOV      R1,#+11
   \   00000F24   0400A0E1           MOV      R0,R4
   \   00000F28   080200EF           SWI      +520
   \   00000F2C   20002DE9           PUSH     {R5}
   \   00000F30   0B10A0E1           MOV      R1,R11
   \   00000F34   02002DE9           PUSH     {R1}
   \   00000F38   133080E2           ADD      R3,R0,#+19
   \   00000F3C   7C20A0E3           MOV      R2,#+124
   \   00000F40   0400A0E1           MOV      R0,R4
   \   00000F44   0010A0E3           MOV      R1,#+0
   \   00000F48   02002DE9           PUSH     {R1}
   \   00000F4C   0B10A0E3           MOV      R1,#+11
   \   00000F50   02002DE9           PUSH     {R1}
   \   00000F54   7D1086E2           ADD      R1,R6,#+125
   \   00000F58   02002DE9           PUSH     {R1}
   \   00000F5C   1010A0E3           MOV      R1,#+16
   \   00000F60   4C0100EF           SWI      +332
    573                TTime time;
    574                TDate date;
    575                GetDateTime(&date, &time);
   \   00000F64   18108DE2           ADD      R1,SP,#+24
   \   00000F68   24008DE2           ADD      R0,SP,#+36
   \   00000F6C   B40000EF           SWI      +180
    576                wsprintf(ws, "%02d:%02d:%02d", time.hour, time.min, time.sec);
   \   00000F70   1A00DDE5           LDRB     R0,[SP, #+26]
   \   00000F74   C0109FE5           LDR      R1,??OnRedraw_2+0x24  ;; `?<Constant "%02d:%02d:%02d">`
   \   00000F78   01002DE9           PUSH     {R0}
   \   00000F7C   1D30DDE5           LDRB     R3,[SP, #+29]
   \   00000F80   1C20DDE5           LDRB     R2,[SP, #+28]
   \   00000F84   0400A0E1           MOV      R0,R4
   \   00000F88   240100EF           SWI      +292
    577                DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000F8C   1700A0E3           MOV      R0,#+23
   \   00000F90   2E0100EF           SWI      +302
   \   00000F94   0050A0E1           MOV      R5,R0
   \   00000F98   0B00A0E3           MOV      R0,#+11
   \   00000F9C   C50100EF           SWI      +453
   \   00000FA0   0060A0E1           MOV      R6,R0
   \   00000FA4   0B10A0E3           MOV      R1,#+11
   \   00000FA8   0400A0E1           MOV      R0,R4
   \   00000FAC   080200EF           SWI      +520
   \   00000FB0   20002DE9           PUSH     {R5}
   \   00000FB4   00082DE9           PUSH     {R11}
   \   00000FB8   0010A0E3           MOV      R1,#+0
   \   00000FBC   02002DE9           PUSH     {R1}
   \   00000FC0   7630A0E3           MOV      R3,#+118
   \   00000FC4   7C20A0E3           MOV      R2,#+124
   \   00000FC8   0B10A0E3           MOV      R1,#+11
   \   00000FCC   02002DE9           PUSH     {R1}
   \   00000FD0   7D1086E2           ADD      R1,R6,#+125
   \   00000FD4   02002DE9           PUSH     {R1}
   \   00000FD8   731060E2           RSB      R1,R0,#+115
   \   00000FDC   0400A0E1           MOV      R0,R4
   \   00000FE0   4C0100EF           SWI      +332
   \   00000FE4   2CD08DE2           ADD      SP,SP,#+44
    578                }
    579                FreeWS(ws);
   \                     ??OnRedraw_51:
   \   00000FE8   0400A0E1           MOV      R0,R4
   \                     ??OnRedraw_25:
   \   00000FEC   290100EF           SWI      +297
    580              }
    581            if(task_list!=3) GBS_StartTimerProc(&start_tmr, 50, redrit); 
   \                     ??OnRedraw_47:
   \   00000FF0   ........           LDR      R0,??DataTable82  ;; task_list
   \   00000FF4   000090E5           LDR      R0,[R0, #+0]
   \   00000FF8   030050E3           CMP      R0,#+3
   \   00000FFC   0300000A           BEQ      ??OnRedraw_52
   \   00001000   ........           LDR      R2,??DataTable63  ;; redrit
   \   00001004   ........           LDR      R0,??DataTable64  ;; start_tmr
   \   00001008   3210A0E3           MOV      R1,#+50
   \   0000100C   4D0000EF           SWI      +77
    582          }
   \                     ??OnRedraw_52:
   \   00001010   30D08DE2           ADD      SP,SP,#+48       ;; stack cleaning
   \   00001014   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??OnRedraw_2:
   \   00001018   ........           DC32     nltop
   \   0000101C   ........           DC32     cdaemons
   \   00001020   ........           DC32     halt
   \   00001024   25642500           DC8      "%d%"
   \   00001028   ........           DC32     tasks
   \   0000102C   ........           DC32     style
   \   00001030   ........           DC32     `?<Constant "Tasks:%d">`
   \   00001034   ........           DC32     `?<Constant "T:%d">`
   \   00001038   ........           DC32     `?<Constant "Ram:%dKb">`
   \   0000103C   ........           DC32     `?<Constant "%02d:%02d:%02d">`
    583          

   \                                 In segment CODE, align 4, keep-with-next
    584          void onCreate(MAIN_GUI *data, void *(*malloc_adr)(int)) //Create
    585          {
    586            data->gui.state=1;
   \                     onCreate:
   \   00000000   0110A0E3           MOV      R1,#+1
   \   00000004   0C10C0E5           STRB     R1,[R0, #+12]
    587          }
   \   00000008   1EFF2FE1           BX       LR               ;; return
    588          

   \                                 In segment CODE, align 4, keep-with-next
    589          void onClose(MAIN_GUI *data, void (*mfree_adr)(void *)) //Close
    590          {
   \                     onClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    591          #ifdef NEWSGOLD
    592            mfree(screen2.bitmap);
    593          #endif
    594            ClearNL();
   \   00000008   ........           _BLF     ClearNL,??ClearNL??rA
    595            MAINCSM_ID = 0;
   \   0000000C   ........           LDR      R1,??DataTable93  ;; MAINCSM_ID
   \   00000010   0000A0E3           MOV      R0,#+0
   \   00000014   000081E5           STR      R0,[R1, #+0]
    596            data->gui.state=0;
   \   00000018   0C00C4E5           STRB     R0,[R4, #+12]
    597          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
    598          

   \                                 In segment CODE, align 4, keep-with-next
    599          void onFocus(MAIN_GUI *data, void *(*malloc_adr)(int), void (*mfree_adr)(void *))//Focus
    600          {
    601            data->gui.state=2;
   \                     onFocus:
   \   00000000   0210A0E3           MOV      R1,#+2
   \   00000004   0C10C0E5           STRB     R1,[R0, #+12]
    602           //  DisableIDLETMR();
    603          }
   \   00000008   1EFF2FE1           BX       LR               ;; return
    604          

   \                                 In segment CODE, align 4, keep-with-next
    605          void onUnfocus(MAIN_GUI *data, void (*mfree_adr)(void *)) //Unfocus
    606          {
    607            if (data->gui.state!=2) return;
   \                     onUnfocus:
   \   00000000   0C10D0E5           LDRB     R1,[R0, #+12]
   \   00000004   020051E3           CMP      R1,#+2
    608            data->gui.state=1;
   \   00000008   0110A003           MOVEQ    R1,#+1
   \   0000000C   0C10C005           STRBEQ   R1,[R0, #+12]
    609          }
   \   00000010   1EFF2FE1           BX       LR               ;; return
    610          

   \                                 In segment DATA_Z, align 4, align-sorted
    611          int closing;
   \                     closing:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    612          int show_daemons;
   \                     show_daemons:
   \   00000000                      DS8 4
    613          
    614          

   \                                 In segment CODE, align 4, keep-with-next
    615          void redrit()
    616          {
   \                     redrit:
   \   00000000   00402DE9           PUSH     {LR}
    617            DirectRedrawGUI();
   \   00000004   3F0100EF           SWI      +319
    618          }
   \   00000008   0080BDE8           POP      {PC}             ;; return
    619          

   \                                 In segment CODE, align 4, keep-with-next
    620          int OnKey(MAIN_GUI *data, GUI_MSG *msg) //OnKey
    621          {
   \                     OnKey:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
    622            if (msg->gbsmsg->msg==KEY_DOWN)
   \   00000004   04C091E5           LDR      R12,[R1, #+4]
   \   00000008   9310A0E3           MOV      R1,#+147
   \   0000000C   F200DCE1           LDRSH    R0,[R12, #+2]
   \   00000010   401F81E3           ORR      R1,R1,#0x100
   \   00000014   010050E1           CMP      R0,R1
   \   00000018   7D01001A           BNE      ??OnKey_2
    623            {
    624              if(task_list==1)
   \   0000001C   ........           LDR      R5,??DataTable87  ;; total_pos
   \   00000020   ........           LDR      R10,??DataTable82  ;; task_list
   \   00000024   000095E5           LDR      R0,[R5, #+0]
   \   00000028   ........           LDR      R1,??DataTable50  ;; book_show
   \   0000002C   00B09AE5           LDR      R11,[R10, #+0]
   \   00000030   00E091E5           LDR      LR,[R1, #+0]
   \   00000034   ........           LDR      R1,??DataTable77  ;; time_not
   \   00000038   ........           LDR      R6,??DataTable78  ;; sm
   \   0000003C   ........           LDR      R7,??DataTable74  ;; move_skip
   \   00000040   ........           LDR      R8,??DataTable73  ;; pos
   \   00000044   012080E2           ADD      R2,R0,#+1
   \   00000048   013040E2           SUB      R3,R0,#+1
   \   0000004C   0090A0E3           MOV      R9,#+0
   \   00000050   0140A0E3           MOV      R4,#+1
   \   00000054   01005BE3           CMP      R11,#+1
   \   00000058   EA00001A           BNE      ??OnKey_3
    625              {
    626              switch(msg->gbsmsg->submess)
   \   0000005C   04009CE5           LDR      R0,[R12, #+4]
   \   00000060   010040E2           SUB      R0,R0,#+1
   \   00000064   3D0050E3           CMP      R0,#+61
   \   00000068   6901008A           BHI      ??OnKey_2
   \   0000006C   02BF8FE2           ADR      R11,??OnKey_0
   \   00000070   8000A0E1           MOV      R0,R0, LSL #+1
   \   00000074   B0B09BE1           LDRH     R11,[R11, R0]
   \   00000078   0BF18FE0           ADD      PC,PC,R11, LSL #+2
   \                     ??OnKey_0:
   \   0000007C   3B0165016501       DC16     +315,+357,+357,+220
   \              DC00        
   \   00000084   650165016501       DC16     +357,+357,+357,+357
   \              6501        
   \   0000008C   65016501DE00       DC16     +357,+357,+222,+357
   \              6501        
   \   00000094   650165016501       DC16     +357,+357,+357,+357
   \              6501        
   \   0000009C   650165016501       DC16     +357,+357,+357,+357
   \              6501        
   \   000000A4   650165016501       DC16     +357,+357,+357,+357
   \              6501        
   \   000000AC   650193006501       DC16     +357,+147,+357,+357
   \              6501        
   \   000000B4   650165016501       DC16     +357,+357,+357,+357
   \              6501        
   \   000000BC   650165019100       DC16     +357,+357,+145,+357
   \              6501        
   \   000000C4   650165016501       DC16     +357,+357,+357,+357
   \              6501        
   \   000000CC   650153006501       DC16     +357,+83,+357,+357
   \              6501        
   \   000000D4   650165016501       DC16     +357,+357,+357,+98
   \              6200        
   \   000000DC   67006B007100       DC16     +103,+107,+113,+117
   \              7500        
   \   000000E4   79007D008100       DC16     +121,+125,+129,+133
   \              8500        
   \   000000EC   890065013D00       DC16     +137,+357,+61,+35
   \              2300        
   \   000000F4   8D001E00           DC16     +141,+30
    627              {
    628              case RIGHT_BUTTON:
    629                pos=1;
   \                     ??OnKey_4:
   \   000000F8   004088E5           STR      R4,[R8, #+0]
    630                total_pos=1;
   \   000000FC   004085E5           STR      R4,[R5, #+0]
    631                move_skip=0;
   \   00000100   009087E5           STR      R9,[R7, #+0]
    632                task_list=0;
   \   00000104   00908AE5           STR      R9,[R10, #+0]
    633                DirectRedrawGUI();
   \                     ??OnKey_5:
   \   00000108   3B0000EA           B        ??OnKey_6
    634                break;
    635              case DOWN_BUTTON:
    636                total_pos++;
    637                if(total_pos<=total_d)
   \                     ??OnKey_7:
   \   0000010C   ........           LDR      R0,??DataTable86  ;; total_d
   \   00000110   002085E5           STR      R2,[R5, #+0]
   \   00000114   000090E5           LDR      R0,[R0, #+0]
   \   00000118   020050E1           CMP      R0,R2
   \   0000011C   0E0000BA           BLT      ??OnKey_8
    638                {
    639                if((total_pos<=3)||(total_pos>total_d-2)) pos++;
   \   00000120   020040E2           SUB      R0,R0,#+2
   \   00000124   040052E3           CMP      R2,#+4
   \   00000128   020050A1           CMPGE    R0,R2
   \   0000012C   040000AA           BGE      ??OnKey_9
   \   00000130   001098E5           LDR      R1,[R8, #+0]
    640                if((total_pos>3)&&(total_pos<=total_d-2)) move_skip++;
   \   00000134   040052E3           CMP      R2,#+4
   \   00000138   011081E2           ADD      R1,R1,#+1
   \   0000013C   001088E5           STR      R1,[R8, #+0]
   \   00000140   070000BA           BLT      ??OnKey_10
   \                     ??OnKey_9:
   \   00000144   020050E1           CMP      R0,R2
   \   00000148   050000BA           BLT      ??OnKey_10
   \   0000014C   000097E5           LDR      R0,[R7, #+0]
   \   00000150   010080E2           ADD      R0,R0,#+1
   \                     ??OnKey_11:
   \   00000154   000087E5           STR      R0,[R7, #+0]
   \   00000158   010000EA           B        ??OnKey_10
    641                }
    642                else
    643                  total_pos--;
   \                     ??OnKey_8:
   \   0000015C   010042E2           SUB      R0,R2,#+1
   \   00000160   000085E5           STR      R0,[R5, #+0]
    644                sm=0;
    645                forward=1;
   \                     ??OnKey_10:
   \   00000164   ........           LDR      R0,??DataTable79  ;; forward
   \   00000168   009086E5           STR      R9,[R6, #+0]
   \                     ??OnKey_12:
   \   0000016C   004080E5           STR      R4,[R0, #+0]
    646                DirectRedrawGUI();
   \   00000170   210000EA           B        ??OnKey_6
    647                break;
    648              case UP_BUTTON:
    649                total_pos--;
   \                     ??OnKey_13:
   \   00000174   003085E5           STR      R3,[R5, #+0]
    650                if(total_pos)
   \   00000178   000053E3           CMP      R3,#+0
   \   0000017C   1000000A           BEQ      ??OnKey_14
    651                {
    652                if((total_pos<3)||(total_pos>=total_d-2)) pos--;
   \   00000180   ........           LDR      R0,??DataTable86  ;; total_d
   \   00000184   030053E3           CMP      R3,#+3
   \   00000188   000090E5           LDR      R0,[R0, #+0]
   \   0000018C   020040E2           SUB      R0,R0,#+2
   \   00000190   010000BA           BLT      ??OnKey_15
   \   00000194   000053E1           CMP      R3,R0
   \   00000198   040000BA           BLT      ??OnKey_16
   \                     ??OnKey_15:
   \   0000019C   001098E5           LDR      R1,[R8, #+0]
    653                if((total_pos>=3)&&(total_pos<total_d-2)) move_skip--;
   \   000001A0   030053E3           CMP      R3,#+3
   \   000001A4   011041E2           SUB      R1,R1,#+1
   \   000001A8   001088E5           STR      R1,[R8, #+0]
   \   000001AC   ECFFFFBA           BLT      ??OnKey_10
   \                     ??OnKey_16:
   \   000001B0   000053E1           CMP      R3,R0
   \   000001B4   EAFFFFAA           BGE      ??OnKey_10
   \   000001B8   000097E5           LDR      R0,[R7, #+0]
   \   000001BC   010040E2           SUB      R0,R0,#+1
   \   000001C0   E3FFFFEA           B        ??OnKey_11
    654                }
    655                else
    656                  total_pos++;
   \                     ??OnKey_14:
   \   000001C4   004085E5           STR      R4,[R5, #+0]
   \   000001C8   E5FFFFEA           B        ??OnKey_10
    657                sm=0;
    658                forward=1;
    659                DirectRedrawGUI();
    660                break;
    661              case '*':
    662                show_daemons=!show_daemons;
   \                     ??OnKey_17:
   \   000001CC   ........           LDR      R0,??DataTable58  ;; show_daemons
    663                pos=1;
   \   000001D0   004088E5           STR      R4,[R8, #+0]
   \   000001D4   001090E5           LDR      R1,[R0, #+0]
    664                total_pos=1;
   \   000001D8   004085E5           STR      R4,[R5, #+0]
   \   000001DC   000051E3           CMP      R1,#+0
   \   000001E0   0110A003           MOVEQ    R1,#+1
   \   000001E4   0010A013           MOVNE    R1,#+0
   \   000001E8   001080E5           STR      R1,[R0, #+0]
    665                move_skip=0;
    666                sm=0;
    667                forward=1;
   \   000001EC   ........           LDR      R0,??DataTable79  ;; forward
   \   000001F0   009087E5           STR      R9,[R7, #+0]
   \   000001F4   009086E5           STR      R9,[R6, #+0]
   \   000001F8   004080E5           STR      R4,[R0, #+0]
    668                DirectRedrawGUI();
   \                     ??OnKey_6:
   \   000001FC   3F0100EF           SWI      +319
   \                     ??OnKey_18:
   \   00000200   0000A0E3           MOV      R0,#+0
   \   00000204   F08FBDE8           POP      {R4-R11,PC}
    669                break;
    670              case 0x30:
    671                time_not=!time_not;
   \                     ??OnKey_19:
   \   00000208   000091E5           LDR      R0,[R1, #+0]
   \   0000020C   000050E3           CMP      R0,#+0
   \   00000210   0040A013           MOVNE    R4,#+0
   \   00000214   004081E5           STR      R4,[R1, #+0]
    672                DirectRedrawGUI();
   \   00000218   F7FFFFEA           B        ??OnKey_6
    673                break;
    674                      case 0x31:
    675                  if(book_show>=1) 
   \                     ??OnKey_20:
   \   0000021C   01005EE3           CMP      LR,#+1
   \   00000220   FB0000BA           BLT      ??OnKey_2
    676                  {
    677                    Start_bookmark(1);
   \   00000224   0100A0E3           MOV      R0,#+1
   \   00000228   020000EA           B        ??OnKey_21
    678                    return(1);
    679                  }
    680                  break;
    681                        case 0x32:
    682                  if(book_show>=2) 
   \                     ??OnKey_22:
   \   0000022C   02005EE3           CMP      LR,#+2
   \   00000230   F70000BA           BLT      ??OnKey_2
    683                  {
    684                    Start_bookmark(2);
   \   00000234   0200A0E3           MOV      R0,#+2
   \                     ??OnKey_21:
   \   00000238   ........           BL       Start_bookmark
    685                    return(1);
   \                     ??OnKey_23:
   \   0000023C   0100A0E3           MOV      R0,#+1
   \   00000240   F08FBDE8           POP      {R4-R11,PC}
    686                  }
    687                  break;
    688                        case 0x33:
    689                  if(book_show>=3) 
   \                     ??OnKey_24:
   \   00000244   03005EE3           CMP      LR,#+3
   \   00000248   F10000BA           BLT      ??OnKey_2
    690                  {
    691                    Start_bookmark(3);
   \   0000024C   0300A0E3           MOV      R0,#+3
   \   00000250   F8FFFFEA           B        ??OnKey_21
    692                    return(1);
    693                  }
    694                  break;
    695                        case 0x34:
    696                  if(book_show>=4) 
   \                     ??OnKey_25:
   \   00000254   04005EE3           CMP      LR,#+4
   \   00000258   ED0000BA           BLT      ??OnKey_2
    697                  {
    698                    Start_bookmark(4);
   \   0000025C   0400A0E3           MOV      R0,#+4
   \   00000260   F4FFFFEA           B        ??OnKey_21
    699                    return(1);
    700                  }
    701                  break;
    702                        case 0x35:
    703                  if(book_show>=5) 
   \                     ??OnKey_26:
   \   00000264   05005EE3           CMP      LR,#+5
   \   00000268   E90000BA           BLT      ??OnKey_2
    704                  {
    705                    Start_bookmark(5);
   \   0000026C   0500A0E3           MOV      R0,#+5
   \   00000270   F0FFFFEA           B        ??OnKey_21
    706                    return(1);
    707                  }
    708                  break;
    709                        case 0x36:
    710                  if(book_show>=6) 
   \                     ??OnKey_27:
   \   00000274   06005EE3           CMP      LR,#+6
   \   00000278   E50000BA           BLT      ??OnKey_2
    711                  {
    712                    Start_bookmark(6);
   \   0000027C   0600A0E3           MOV      R0,#+6
   \   00000280   ECFFFFEA           B        ??OnKey_21
    713                    return(1);
    714                  }
    715                  break;
    716                        case 0x37:
    717                  if(book_show>=7) 
   \                     ??OnKey_28:
   \   00000284   07005EE3           CMP      LR,#+7
   \   00000288   E10000BA           BLT      ??OnKey_2
    718                  {
    719                    Start_bookmark(7);
   \   0000028C   0700A0E3           MOV      R0,#+7
   \   00000290   E8FFFFEA           B        ??OnKey_21
    720                    return(1);
    721                  }
    722                  break;
    723                        case 0x38:
    724                  if(book_show>=8) 
   \                     ??OnKey_29:
   \   00000294   08005EE3           CMP      LR,#+8
   \   00000298   DD0000BA           BLT      ??OnKey_2
    725                  {
    726                    Start_bookmark(8);
   \   0000029C   0800A0E3           MOV      R0,#+8
   \   000002A0   E4FFFFEA           B        ??OnKey_21
    727                    return(1);
    728                  }
    729                  break;
    730                        case 0x39:
    731                  if(book_show>=9) 
   \                     ??OnKey_30:
   \   000002A4   09005EE3           CMP      LR,#+9
   \   000002A8   D90000BA           BLT      ??OnKey_2
    732                  {
    733                    Start_bookmark(9);
   \   000002AC   0900A0E3           MOV      R0,#+9
   \   000002B0   E0FFFFEA           B        ??OnKey_21
    734                    return(1);
    735                  }
    736                  break;
    737                  case LEFT_BUTTON:
    738                if(!cleseri) break;
   \                     ??OnKey_31:
   \   000002B4   60039FE5           LDR      R0,??OnKey_32    ;; cleseri
   \   000002B8   000090E5           LDR      R0,[R0, #+0]
   \   000002BC   000050E3           CMP      R0,#+0
   \   000002C0   F08FBD08           POPEQ    {R4-R11,PC}
    739              case '#':
    740                 closing=1;
   \                     ??OnKey_33:
   \   000002C4   54039FE5           LDR      R0,??OnKey_32+0x4  ;; closing
   \   000002C8   004080E5           STR      R4,[R0, #+0]
    741              case ENTER_BUTTON:
    742                {
    743                minine:
    744                  {
    745                NAMELIST *nl=nltop;
   \                     ??OnKey_34:
   \   000002CC   ........           LDR      R0,??DataTable60  ;; nltop
   \   000002D0   000090E5           LDR      R0,[R0, #+0]
    746                int skip_run=total_pos;
   \   000002D4   001095E5           LDR      R1,[R5, #+0]
   \   000002D8   010000EA           B        ??OnKey_35
    747                while(nl)
    748                {
    749                   NAMELIST *p=nl;
    750                   if(skip_run)
    751                   {
    752                     skip_run--;
    753                     nl=p->next;
   \                     ??OnKey_36:
   \   000002DC   000090E5           LDR      R0,[R0, #+0]
   \   000002E0   011041E2           SUB      R1,R1,#+1
    754                   }
   \                     ??OnKey_35:
   \   000002E4   000050E3           CMP      R0,#+0
   \   000002E8   00005113           CMPNE    R1,#+0
   \   000002EC   FAFFFF1A           BNE      ??OnKey_36
    755                   else
    756                     goto don;
    757                }
    758                don:
    759                if ((!nl->is_daemon)||((closing)&&(nl->is_daemon)))
   \   000002F0   28139FE5           LDR      R1,??OnKey_32+0x4  ;; closing
   \   000002F4   102090E5           LDR      R2,[R0, #+16]
   \   000002F8   001091E5           LDR      R1,[R1, #+0]
   \   000002FC   000052E3           CMP      R2,#+0
   \   00000300   0100000A           BEQ      ??OnKey_37
   \   00000304   000051E3           CMP      R1,#+0
   \   00000308   C100000A           BEQ      ??OnKey_2
    760                {
    761                  if(closing)
   \                     ??OnKey_37:
   \   0000030C   0C0090E5           LDR      R0,[R0, #+12]
   \   00000310   000051E3           CMP      R1,#+0
   \   00000314   3100000A           BEQ      ??OnKey_38
    762                  {
    763                    int i;
    764                    closing=0;
   \   00000318   00139FE5           LDR      R1,??OnKey_32+0x4  ;; closing
   \   0000031C   009081E5           STR      R9,[R1, #+0]
    765                    i=((CSM_RAM *)(nl->p))->id;
   \   00000320   0CA090E5           LDR      R10,[R0, #+12]
    766                    if (i!=CSM_root()->idle_id) 
   \   00000324   068100EF           SWI      +33030
   \   00000328   040090E5           LDR      R0,[R0, #+4]
   \   0000032C   00005AE1           CMP      R10,R0
   \   00000330   B700000A           BEQ      ??OnKey_2
    767                    {
    768                      CloseCSM(i);
   \   00000334   0A00A0E1           MOV      R0,R10
   \   00000338   FC0100EF           SWI      +508
    769                      int rem_pso=total_pos-1;
   \   0000033C   000095E5           LDR      R0,[R5, #+0]
    770                      pos=1;
   \   00000340   004088E5           STR      R4,[R8, #+0]
   \   00000344   010050E2           SUBS     R0,R0,#+1
    771                      total_pos=1;
   \   00000348   004085E5           STR      R4,[R5, #+0]
    772                      move_skip=0;
   \   0000034C   009087E5           STR      R9,[R7, #+0]
   \   00000350   1A00000A           BEQ      ??OnKey_39
    773                      while(rem_pso!=0)
    774                      {
    775                      total_pos++;
    776                      if(total_pos<=total_d-1)
   \                     ??OnKey_40:
   \   00000354   ........           LDR      R2,??DataTable86  ;; total_d
   \   00000358   001095E5           LDR      R1,[R5, #+0]
   \   0000035C   002092E5           LDR      R2,[R2, #+0]
   \   00000360   011081E2           ADD      R1,R1,#+1
   \   00000364   001085E5           STR      R1,[R5, #+0]
   \   00000368   013042E2           SUB      R3,R2,#+1
   \   0000036C   010053E1           CMP      R3,R1
   \   00000370   0E0000BA           BLT      ??OnKey_41
    777                      {
    778                        if((total_pos<=3)||(total_pos>total_d-3)) pos++;
   \   00000374   032042E2           SUB      R2,R2,#+3
   \   00000378   040051E3           CMP      R1,#+4
   \   0000037C   010052A1           CMPGE    R2,R1
   \   00000380   040000AA           BGE      ??OnKey_42
   \   00000384   003098E5           LDR      R3,[R8, #+0]
    779                        if((total_pos>3)&&(total_pos<=total_d-3)) move_skip++;
   \   00000388   040051E3           CMP      R1,#+4
   \   0000038C   013083E2           ADD      R3,R3,#+1
   \   00000390   003088E5           STR      R3,[R8, #+0]
   \   00000394   070000BA           BLT      ??OnKey_43
   \                     ??OnKey_42:
   \   00000398   010052E1           CMP      R2,R1
   \   0000039C   050000BA           BLT      ??OnKey_43
   \   000003A0   001097E5           LDR      R1,[R7, #+0]
   \   000003A4   011081E2           ADD      R1,R1,#+1
   \   000003A8   001087E5           STR      R1,[R7, #+0]
   \   000003AC   010000EA           B        ??OnKey_43
    780                      }
    781                      else
    782                      {
    783                      total_pos--;
   \                     ??OnKey_41:
   \   000003B0   011041E2           SUB      R1,R1,#+1
   \   000003B4   001085E5           STR      R1,[R5, #+0]
    784                      }
    785                      rem_pso--;
   \                     ??OnKey_43:
   \   000003B8   010050E2           SUBS     R0,R0,#+1
    786                      }
   \   000003BC   E4FFFF1A           BNE      ??OnKey_40
    787                      sm=0;
    788                      forward=1;
   \                     ??OnKey_39:
   \   000003C0   ........           LDR      R0,??DataTable79  ;; forward
    789                      GBS_StartTimerProc(&start_tmr, 30, redrit); 
   \   000003C4   ........           LDR      R2,??DataTable63  ;; redrit
   \   000003C8   009086E5           STR      R9,[R6, #+0]
   \   000003CC   004080E5           STR      R4,[R0, #+0]
   \   000003D0   ........           LDR      R0,??DataTable64  ;; start_tmr
   \   000003D4   1E10A0E3           MOV      R1,#+30
   \   000003D8   4D0000EF           SWI      +77
   \   000003DC   87FFFFEA           B        ??OnKey_18
    790                    }
    791                  }
    792                  else
    793                  {
    794          	CSMtoTop(((CSM_RAM *)(nl->p))->id,-1);
   \                     ??OnKey_38:
   \   000003E0   0C0090E5           LDR      R0,[R0, #+12]
   \   000003E4   001064E2           RSB      R1,R4,#+0
   \   000003E8   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   000003EC   92FFFFEA           B        ??OnKey_23
    795                  return(1);
    796                  }
    797                }
    798                else
    799                  closing=0;
    800                }
    801                }
    802                break;
    803              case LEFT_SOFT:
    804                CSMtoTop(CSM_root()->idle_id,-1);
    805                return(1);
    806              case RIGHT_SOFT:
    807                total_pos=1;
   \                     ??OnKey_44:
   \   000003F0   004085E5           STR      R4,[R5, #+0]
    808                goto minine;
   \   000003F4   B4FFFFEA           B        ??OnKey_34
    809                case GREEN_BUTTON:
    810                    task_list=2;
   \                     ??OnKey_45:
   \   000003F8   0200A0E3           MOV      R0,#+2
   \   000003FC   00008AE5           STR      R0,[R10, #+0]
    811                    shutd=1;
   \   00000400   ........           LDR      R0,??DataTable69  ;; shutd
   \   00000404   58FFFFEA           B        ??OnKey_12
    812                    DirectRedrawGUI();
    813                  break;
    814           //     return(1);
    815              }
    816              }
    817              else//=======================================do the links
    818                if(task_list==0)
   \                     ??OnKey_3:
   \   00000408   00005BE3           CMP      R11,#+0
   \   0000040C   5C00001A           BNE      ??OnKey_46
    819              {
    820                switch(msg->gbsmsg->submess)
   \   00000410   04B09CE5           LDR      R11,[R12, #+4]
   \   00000414   01B04BE2           SUB      R11,R11,#+1
   \   00000418   3C005BE3           CMP      R11,#+60
   \   0000041C   7C00008A           BHI      ??OnKey_2
   \   00000420   02CF8FE2           ADR      R12,??OnKey_1
   \   00000424   8BB0A0E1           MOV      R11,R11, LSL #+1
   \   00000428   FBC09CE1           LDRSH    R12,[R12, R11]
   \   0000042C   0CF18FE0           ADD      PC,PC,R12, LSL #+2
   \                     ??OnKey_1:
   \   00000430   4E0078007800       DC16     +78,+120,+120,+65519
   \              EFFF        
   \   00000438   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000440   78007800F1FF       DC16     +120,+120,+65521,+120
   \              7800        
   \   00000448   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000450   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000458   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000460   780081FF7800       DC16     +120,+65409,+120,+120
   \              7800        
   \   00000468   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000470   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000478   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000480   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000488   780078007800       DC16     +120,+120,+120,+65397
   \              75FF        
   \   00000490   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   00000498   780078007800       DC16     +120,+120,+120,+120
   \              7800        
   \   000004A0   780078003A00       DC16     +120,+120,+58,+38
   \              2600        
   \   000004A8   1E000000           DC16     +30,+0
    821                {
    822                case LEFT_BUTTON:
    823                  pos=1;
    824                  total_pos=1;
    825                  move_skip=0;
    826                  task_list=1;
    827                  sm=0;
    828                  forward=1;
   \                     ??OnKey_47:
   \   000004AC   ........           LDR      R0,??DataTable79  ;; forward
   \   000004B0   004088E5           STR      R4,[R8, #+0]
   \   000004B4   004085E5           STR      R4,[R5, #+0]
   \   000004B8   009087E5           STR      R9,[R7, #+0]
   \   000004BC   00408AE5           STR      R4,[R10, #+0]
   \   000004C0   009086E5           STR      R9,[R6, #+0]
   \   000004C4   004080E5           STR      R4,[R0, #+0]
    829                  DirectRedrawGUI();
   \   000004C8   4BFFFFEA           B        ??OnKey_6
    830                  break;
    831                case DOWN_BUTTON:
    832                total_pos++;
   \                     ??OnKey_48:
   \   000004CC   002085E5           STR      R2,[R5, #+0]
    833                if(total_pos<=book_show)
   \   000004D0   02005EE1           CMP      LR,R2
   \   000004D4   0E0000BA           BLT      ??OnKey_49
    834                {
    835                if((total_pos<=3)||(total_pos>book_show-2)) pos++;
   \   000004D8   02004EE2           SUB      R0,LR,#+2
   \   000004DC   040052E3           CMP      R2,#+4
   \   000004E0   020050A1           CMPGE    R0,R2
   \   000004E4   040000AA           BGE      ??OnKey_50
   \   000004E8   001098E5           LDR      R1,[R8, #+0]
    836                if((total_pos>3)&&(total_pos<=book_show-2)) move_skip++;
   \   000004EC   040052E3           CMP      R2,#+4
   \   000004F0   011081E2           ADD      R1,R1,#+1
   \   000004F4   001088E5           STR      R1,[R8, #+0]
   \   000004F8   3FFFFFBA           BLT      ??OnKey_6
   \                     ??OnKey_50:
   \   000004FC   020050E1           CMP      R0,R2
   \   00000500   3DFFFFBA           BLT      ??OnKey_6
   \   00000504   000097E5           LDR      R0,[R7, #+0]
   \   00000508   010080E2           ADD      R0,R0,#+1
   \                     ??OnKey_51:
   \   0000050C   000087E5           STR      R0,[R7, #+0]
   \   00000510   39FFFFEA           B        ??OnKey_6
    837                }
    838                else
    839                  total_pos--;
   \                     ??OnKey_49:
   \   00000514   000085E5           STR      R0,[R5, #+0]
    840                DirectRedrawGUI();
   \   00000518   37FFFFEA           B        ??OnKey_6
    841                break;
    842              case UP_BUTTON:
    843                total_pos--;
   \                     ??OnKey_52:
   \   0000051C   003085E5           STR      R3,[R5, #+0]
    844                if(total_pos)
   \   00000520   000053E3           CMP      R3,#+0
   \   00000524   0E00000A           BEQ      ??OnKey_53
    845                {
    846                if((total_pos<3)||(total_pos>=book_show-2)) pos--;
   \   00000528   02004EE2           SUB      R0,LR,#+2
   \   0000052C   030053E3           CMP      R3,#+3
   \   00000530   010000BA           BLT      ??OnKey_54
   \   00000534   000053E1           CMP      R3,R0
   \   00000538   040000BA           BLT      ??OnKey_55
   \                     ??OnKey_54:
   \   0000053C   001098E5           LDR      R1,[R8, #+0]
    847                if((total_pos>=3)&&(total_pos<book_show-2)) move_skip--;
   \   00000540   030053E3           CMP      R3,#+3
   \   00000544   011041E2           SUB      R1,R1,#+1
   \   00000548   001088E5           STR      R1,[R8, #+0]
   \   0000054C   2AFFFFBA           BLT      ??OnKey_6
   \                     ??OnKey_55:
   \   00000550   000053E1           CMP      R3,R0
   \   00000554   28FFFFAA           BGE      ??OnKey_6
   \   00000558   000097E5           LDR      R0,[R7, #+0]
   \   0000055C   010040E2           SUB      R0,R0,#+1
   \   00000560   E9FFFFEA           B        ??OnKey_51
    848                }
    849                else
    850                  total_pos++;
   \                     ??OnKey_53:
   \   00000564   004085E5           STR      R4,[R5, #+0]
   \   00000568   23FFFFEA           B        ??OnKey_6
    851                DirectRedrawGUI();
    852                break;
    853              case 0x30:
    854                time_not=!time_not;
    855                DirectRedrawGUI();
    856                break;
    857              case LEFT_SOFT:
    858                CSMtoTop(CSM_root()->idle_id,-1);
   \                     ??OnKey_56:
   \   0000056C   068100EF           SWI      +33030
   \   00000570   040090E5           LDR      R0,[R0, #+4]
   \   00000574   001064E2           RSB      R1,R4,#+0
   \   00000578   ........           _BLF     CSMtoTop,??CSMtoTop??rA
    859                return(1);
   \   0000057C   0100A0E3           MOV      R0,#+1
   \   00000580   F08FBDE8           POP      {R4-R11,PC}
    860              case RIGHT_SOFT:
    861                total_pos=1;
    862                goto minine;
    863                case ENTER_BUTTON:
    864                  Start_bookmark(total_pos);
    865                  return(1);
    866                  case GREEN_BUTTON:
    867                    task_list=2;
    868                    shutd=1;
    869                    DirectRedrawGUI();
    870                  break;
    871                }
    872              }//==========================================end links
    873              else
    874                if(task_list==2)
   \                     ??OnKey_46:
   \   00000584   02005BE3           CMP      R11,#+2
   \   00000588   2100001A           BNE      ??OnKey_2
    875                {
    876                  switch(msg->gbsmsg->submess)
   \   0000058C   04009CE5           LDR      R0,[R12, #+4]
   \   00000590   0B0050E2           SUBS     R0,R0,#+11
   \   00000594   0700000A           BEQ      ??OnKey_57
   \   00000598   0F0050E2           SUBS     R0,R0,#+15
   \   0000059C   1900000A           BEQ      ??OnKey_58
   \   000005A0   160050E2           SUBS     R0,R0,#+22
   \   000005A4   0B00000A           BEQ      ??OnKey_59
   \   000005A8   0B0040E2           SUB      R0,R0,#+11
   \   000005AC   010050E3           CMP      R0,#+1
   \   000005B0   0D00009A           BLS      ??OnKey_60
   \   000005B4   11FFFFEA           B        ??OnKey_18
    877                {
    878                case GREEN_BUTTON:
    879                  pos=1;
    880                  total_pos=1;
    881                  move_skip=0;
    882                  task_list=1;
    883                  sm=0;
    884                  forward=1;
   \                     ??OnKey_57:
   \   000005B8   ........           LDR      R0,??DataTable79  ;; forward
   \   000005BC   004088E5           STR      R4,[R8, #+0]
   \   000005C0   004085E5           STR      R4,[R5, #+0]
   \   000005C4   009087E5           STR      R9,[R7, #+0]
   \   000005C8   009086E5           STR      R9,[R6, #+0]
   \   000005CC   004080E5           STR      R4,[R0, #+0]
    885                  task_list=1;
   \   000005D0   00408AE5           STR      R4,[R10, #+0]
    886                  DirectRedrawGUI();
   \   000005D4   08FFFFEA           B        ??OnKey_6
    887                  break;
    888                case 0x30:
    889                time_not=!time_not;
   \                     ??OnKey_59:
   \   000005D8   000091E5           LDR      R0,[R1, #+0]
   \   000005DC   000050E3           CMP      R0,#+0
   \   000005E0   0040A013           MOVNE    R4,#+0
   \   000005E4   004081E5           STR      R4,[R1, #+0]
    890                DirectRedrawGUI();
   \   000005E8   03FFFFEA           B        ??OnKey_6
    891                break;
    892                case DOWN_BUTTON:
    893                case UP_BUTTON:
    894                  shutd=!shutd;
   \                     ??OnKey_60:
   \   000005EC   ........           LDR      R0,??DataTable69  ;; shutd
   \   000005F0   000090E5           LDR      R0,[R0, #+0]
   \   000005F4   000050E3           CMP      R0,#+0
   \   000005F8   ........           LDR      R0,??DataTable69  ;; shutd
   \   000005FC   0040A013           MOVNE    R4,#+0
   \   00000600   004080E5           STR      R4,[R0, #+0]
   \   00000604   FDFEFFEA           B        ??OnKey_18
    895                  break;
    896                case ENTER_BUTTON:
    897                  task_list=3;
   \                     ??OnKey_58:
   \   00000608   0300A0E3           MOV      R0,#+3
   \   0000060C   00008AE5           STR      R0,[R10, #+0]
    898                  task_list3();
   \   00000610   ........           BL       task_list3
    899                  break;
    900                }
    901                }
    902            }
    903            return(0);
   \                     ??OnKey_2:
   \   00000614   0000A0E3           MOV      R0,#+0
   \   00000618   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??OnKey_32:
   \   0000061C   ........           DC32     cleseri
   \   00000620   ........           DC32     closing
    904          }
    905          
    906          extern void kill_data(void *p, void (*func_p)(void *));

   \                                 In segment CODE, align 4, keep-with-next
    907          void ElfKiller(void)
    908          {
   \                     ElfKiller:
   \   00000000   00402DE9           PUSH     {LR}
    909            extern void *ELF_BEGIN;
    910            kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
   \   00000004   158000EF           SWI      +32789
   \   00000008   0010A0E1           MOV      R1,R0
   \   0000000C   ........           LDR      R0,??DataTable96  ;; ELF_BEGIN
   \   00000010   0040BDE8           POP      {LR}             ;; Pop
   \   00000014   ........           _BF      kill_data,??kill_data??rA  ;; tailcall
    911          }
    912          

   \                                 In segment CODE, align 4, keep-with-next
    913          int method8(void){return(0);}
   \                     method8:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
    914          

   \                                 In segment CODE, align 4, keep-with-next
    915          int method9(void){return(0);}
   \                     method9:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
    916          

   \                                 In segment DATA_C, align 4, align-sorted
    917          const void * const gui_methods[11]={
   \                     gui_methods:
   \   00000000   ............       DC32 OnRedraw, onCreate, onClose, onFocus, onUnfocus, OnKey, 0H
   \              ............
   \              ............
   \              ............
   \              00000000    
   \   0000001C   ............       DC32 kill_data, method8, method9, 0H
   \              ............
   \              00000000    
    918            (void *)OnRedraw,	//Redraw
    919            (void *)onCreate,	//Create
    920            (void *)onClose,	//Close
    921            (void *)onFocus,	//Focus
    922            (void *)onUnfocus,	//Unfocus
    923            (void *)OnKey,	//OnKey
    924            0,
    925            (void *)kill_data,	//Destroy
    926            (void *)method8,
    927            (void *)method9,
    928            0
    929          };
    930          

   \                                 In segment DATA_C, align 4, align-sorted
    931          const RECT Canvas={0,0,132,176};
   \                     Canvas:
   \   00000000   000000008400       DC16 0, 0, 132, 176
   \              B000        
    932          
    933          #pragma inline
    934          void patch_rect(const RECT*rcc,int x,int y, int x2, int y2)
    935          {
    936            RECT *rc=(RECT *)rcc;
    937            rc->x=x;
    938            rc->y=y;
    939            rc->x2=x2;
    940            rc->y2=y2;
    941          }
    942          

   \                                 In segment CODE, align 4, keep-with-next
    943          void maincsm_oncreate(CSM_RAM *data)
    944          {
   \                     maincsm_oncreate:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    945          #ifdef NEWSGOLD
    946            DoScreen2();
    947          #endif
    948            MAIN_GUI *main_gui=malloc(sizeof(MAIN_GUI));
    949            MAIN_CSM*csm=(MAIN_CSM*)data;
    950            zeromem(main_gui,sizeof(MAIN_GUI));
    951            main_gui->gui.canvas=(void *)(&Canvas);
   \   00000004   64609FE5           LDR      R6,??maincsm_oncreate_0  ;; Canvas
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   3C00A0E3           MOV      R0,#+60
   \   00000010   140000EF           SWI      +20
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   3C10A0E3           MOV      R1,#+60
   \   0000001C   1D0100EF           SWI      +285
    952            main_gui->gui.methods=(void *)gui_methods;
   \   00000020   4C009FE5           LDR      R0,??maincsm_oncreate_0+0x4  ;; gui_methods
   \   00000024   006085E5           STR      R6,[R5, #+0]
   \   00000028   040085E5           STR      R0,[R5, #+4]
    953            main_gui->gui.item_ll.data_mfree=(void (*)(void *))mfree_adr();
   \   0000002C   158000EF           SWI      +32789
   \   00000030   1C0085E5           STR      R0,[R5, #+28]
    954            patch_rect((RECT*)&Canvas,0,YDISP,ScreenW()-1,ScreenH()-1);
   \   00000034   898100EF           SWI      +33161
   \   00000038   0070A0E1           MOV      R7,R0
   \   0000003C   888100EF           SWI      +33160
   \   00000040   011047E2           SUB      R1,R7,#+1
   \   00000044   010040E2           SUB      R0,R0,#+1
   \   00000048   0020A0E3           MOV      R2,#+0
   \   0000004C   002086E5           STR      R2,[R6, #+0]
   \   00000050   B400C6E1           STRH     R0,[R6, #+4]
   \   00000054   B610C6E1           STRH     R1,[R6, #+6]
    955            csm->csm.state=0;
   \   00000058   102084E5           STR      R2,[R4, #+16]
    956            csm->csm.unk1=0;
   \   0000005C   142084E5           STR      R2,[R4, #+20]
    957            csm->gui_id=CreateGUI(main_gui);
   \   00000060   0500A0E1           MOV      R0,R5
   \   00000064   370100EF           SWI      +311
   \   00000068   280084E5           STR      R0,[R4, #+40]
    958          }
   \   0000006C   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??maincsm_oncreate_0:
   \   00000070   ........           DC32     Canvas
   \   00000074   ........           DC32     gui_methods
    959          
    960          

   \                                 In segment CODE, align 4, keep-with-next
    961          void maincsm_onclose(CSM_RAM *csm)
    962          {
    963            //SUBPROC((void *)ElfKiller);
    964          }
   \                     maincsm_onclose:
   \   00000000   1EFF2FE1           BX       LR               ;; return
    965          

   \                                 In segment CODE, align 4, keep-with-next
    966          int maincsm_onmessage(CSM_RAM *data, GBS_MSG *msg)
    967          {
    968            MAIN_CSM *csm=(MAIN_CSM*)data;
    969             if ((msg->msg==MSG_GUI_DESTROYED)&&((int)msg->data0==csm->gui_id))
   \                     maincsm_onmessage:
   \   00000000   F230D1E1           LDRSH    R3,[R1, #+2]
   \   00000004   0220E0E3           MVN      R2,#+2
   \   00000008   980053E3           CMP      R3,#+152
   \   0000000C   0400001A           BNE      ??maincsm_onmessage_0
   \   00000010   083091E5           LDR      R3,[R1, #+8]
   \   00000014   28C090E5           LDR      R12,[R0, #+40]
   \   00000018   0C0053E1           CMP      R3,R12
   \   0000001C   0300001A           BNE      ??maincsm_onmessage_1
    970            {
    971              csm->csm.state=-3;
   \   00000020   102080E5           STR      R2,[R0, #+16]
    972            } 
    973            if (msg->msg==MSG_INCOMMING_CALL)
   \                     ??maincsm_onmessage_0:
   \   00000024   F210D1E1           LDRSH    R1,[R1, #+2]
   \   00000028   080051E3           CMP      R1,#+8
    974            {
    975              csm->csm.state=-3;
   \   0000002C   10208005           STREQ    R2,[R0, #+16]
    976            }
    977            return(1); 
   \                     ??maincsm_onmessage_1:
   \   00000030   0100A0E3           MOV      R0,#+1
   \   00000034   1EFF2FE1           BX       LR               ;; return
    978          }
    979          
    980          const struct
    981          {
    982            CSM_DESC maincsm;
    983            WSHDR maincsm_name;

   \                                 In segment DATA_C, align 4, align-sorted
    984          }MAINCSM =
   \                     MAINCSM:
   \   00000000   ............       DC32 maincsm_onmessage, maincsm_oncreate, maincsm_onclose, 44, 1
   \              ............
   \              2C0000000100
   \              0000        
   \   00000014   ............       DC32 minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0, 139
   \              ....CCCCAA55
   \              55AA33330000
   \              00008B000000
    985          {
    986            {
    987            maincsm_onmessage,
    988            maincsm_oncreate,
    989          #ifdef NEWSGOLD
    990            0,
    991            0,
    992            0,
    993            0,
    994          #endif
    995            maincsm_onclose,
    996            sizeof(MAIN_CSM),
    997            1,
    998            &minus11
    999            },
   1000            {
   1001              maincsm_name_body,
   1002              NAMECSM_MAGIC1,
   1003              NAMECSM_MAGIC2,
   1004              0x0,
   1005              139
   1006            }
   1007          };
   1008          

   \                                 In segment CODE, align 4, keep-with-next
   1009          void UpdateCSMname(void)
   1010          {
   \                     UpdateCSMname:
   \   00000000   10402DE9           PUSH     {R4,LR}
   1011            WSHDR *ws=AllocWS(256);
   \   00000004   400FA0E3           MOV      R0,#+256
   \   00000008   250100EF           SWI      +293
   1012            wsprintf((WSHDR *)(&MAINCSM.maincsm_name),"xtask 3 mod");
   \   0000000C   14109FE5           LDR      R1,??UpdateCSMname_0  ;; `?<Constant "xtask 3 mod">`
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   10009FE5           LDR      R0,??UpdateCSMname_0+0x4  ;; MAINCSM + 24
   \   00000018   240100EF           SWI      +292
   1013            FreeWS(ws);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   290100EF           SWI      +297
   1014          }
   \   00000024   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??UpdateCSMname_0:
   \   00000028   ........           DC32     `?<Constant "xtask 3 mod">`
   \   0000002C   ........           DC32     MAINCSM + 24
   1015          /*
   1016          CSM_RAM *GetUnderIdleCSM(void)
   1017          {
   1018            CSM_RAM *u;
   1019            CSM_DESC *UnderIdleDesc;
   1020            UnderIdleDesc=(CSM_DESC *)strtoul((char *)"A042B384",0,0x10);
   1021            LockSched();
   1022            u=CSM_root()->csm_q->csm.first;
   1023            while(u && u->constr!=UnderIdleDesc) u=u->next;
   1024            UnlockSched();
   1025            return u;
   1026          }*/
   1027          
   1028          extern const char UNDER_IDLE_CONSTR[];
   1029          extern const char *successed_config_filename;
   1030          

   \                                 In segment CODE, align 4, keep-with-next
   1031          CSM_RAM *GetUnderIdleCSM(void)
   1032          {
   \                     GetUnderIdleCSM:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   1033            CSM_RAM *u;
   1034            CSM_DESC *UnderIdleDesc;
   1035            if (strlen((char *)UNDER_IDLE_CONSTR)==8)
   \   00000004   88409FE5           LDR      R4,??GetUnderIdleCSM_0  ;; UNDER_IDLE_CONSTR
   \   00000008   0400A0E1           MOV      R0,R4
   \   0000000C   1B0000EF           SWI      +27
   \   00000010   080050E3           CMP      R0,#+8
   \   00000014   0500001A           BNE      ??GetUnderIdleCSM_1
   1036            {
   1037              UnderIdleDesc=(CSM_DESC *)strtoul((char *)UNDER_IDLE_CONSTR,0,0x10);
   \   00000018   1020A0E3           MOV      R2,#+16
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   ........           _BLF     strtoul,??strtoul??rA
   \   00000028   0050A0E1           MOV      R5,R0
   \   0000002C   0B0000EA           B        ??GetUnderIdleCSM_2
   1038            }
   1039            else
   1040            {
   1041              UnderIdleDesc=((CSM_RAM *)(FindCSMbyID(CSM_root()->idle_id))->prev)->constr;
   \                     ??GetUnderIdleCSM_1:
   \   00000030   068100EF           SWI      +33030
   \   00000034   040090E5           LDR      R0,[R0, #+4]
   \   00000038   080100EF           SWI      +264
   \   0000003C   040090E5           LDR      R0,[R0, #+4]
   1042              sprintf((char *)UNDER_IDLE_CONSTR,"%08X",UnderIdleDesc);
   \   00000040   50109FE5           LDR      R1,??GetUnderIdleCSM_0+0x4  ;; `?<Constant "%08X">`
   \   00000044   085090E5           LDR      R5,[R0, #+8]
   \   00000048   0400A0E1           MOV      R0,R4
   \   0000004C   0520A0E1           MOV      R2,R5
   \   00000050   160000EF           SWI      +22
   1043              SaveConfigData(successed_config_filename);
   \   00000054   ........           LDR      R0,??DataTable92  ;; successed_config_filename
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   ........           _BLF     SaveConfigData,??SaveConfigData??rA
   1044            }
   1045            LockSched();
   \                     ??GetUnderIdleCSM_2:
   \   00000060   460100EF           SWI      +326
   1046            u=CSM_root()->csm_q->csm.first;
   \   00000064   068100EF           SWI      +33030
   \   00000068   080090E5           LDR      R0,[R0, #+8]
   \   0000006C   084090E5           LDR      R4,[R0, #+8]
   \   00000070   000000EA           B        ??GetUnderIdleCSM_3
   1047            while(u && u->constr!=UnderIdleDesc) u=u->next;
   \                     ??GetUnderIdleCSM_4:
   \   00000074   004094E5           LDR      R4,[R4, #+0]
   \                     ??GetUnderIdleCSM_3:
   \   00000078   000054E3           CMP      R4,#+0
   \   0000007C   08009415           LDRNE    R0,[R4, #+8]
   \   00000080   05005011           CMPNE    R0,R5
   \   00000084   FAFFFF1A           BNE      ??GetUnderIdleCSM_4
   1048            UnlockSched();
   \   00000088   470100EF           SWI      +327
   1049            return u;
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??GetUnderIdleCSM_0:
   \   00000094   ........           DC32     UNDER_IDLE_CONSTR
   \   00000098   ........           DC32     `?<Constant "%08X">`
   1050          }
   1051          
   1052          //------------add on---------------------------//
   1053          #ifdef NEWSGOLD
   1054           #define USE_ONE_KEY
   1055          #endif
   1056          
   1057          #define TMR_SECOND(A) (1300L*A/6)
   1058          

   \                                 In segment DATA_Z, align 4, align-sorted
   1059          volatile int SHOW_LOCK;
   \                     SHOW_LOCK:
   \   00000000                      DS8 4
   1060          

   \                                 In segment DATA_Z, align 4, align-sorted
   1061          CSM_DESC icsmd;
   \                     icsmd:
   \   00000000                      DS8 24

   \                                 In segment DATA_Z, align 4, align-sorted
   1062          int (*old_icsm_onMessage)(CSM_RAM*,GBS_MSG*);
   \                     old_icsm_onMessage:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
   1063          void (*old_icsm_onClose)(CSM_RAM*);
   \                     old_icsm_onClose:
   \   00000000                      DS8 4
   1064          
   1065          

   \                                 In segment DATA_Z, align 4, align-sorted
   1066          CSM_RAM *under_idle;
   \                     under_idle:
   \   00000000                      DS8 4
   1067          
   1068          extern const int ACTIVE_KEY;
   1069          extern const int ACTIVE_KEY_STYLE;
   1070          extern const int RED_BUT_MODE;
   1071          extern const int ENA_LONG_PRESS;
   1072          extern const int ENA_LOCK;
   1073          
   1074          extern const char *successed_config_filename;
   1075          
   1076          

   \                                 In segment DATA_Z, align 4, align-sorted
   1077          int mode;
   \                     mode:
   \   00000000                      DS8 4
   1078          

   \                                 In segment DATA_Z, align 4, align-sorted
   1079          int mode_red;
   \                     mode_red:
   \   00000000                      DS8 4
   1080          

   \                                 In segment DATA_Z, align 4, align-sorted
   1081          int mode_enter;
   \                     mode_enter:
   \   00000000                      DS8 4
   1082          
   1083          

   \                                 In segment CODE, align 4, keep-with-next
   1084          void ShowMenu()
   1085          {
   \                     ShowMenu:
   \   00000000   10402DE9           PUSH     {R4,LR}
   1086            if(!IsGuiOnTop(MAINCSM_ID))
   \   00000004   ........           LDR      R4,??DataTable93  ;; MAINCSM_ID
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   000094E5           LDR      R0,[R4, #+0]
   \   00000010   350100EF           SWI      +309
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   1A00001A           BNE      ??ShowMenu_0
   1087            {
   1088              pos=1;
   \   0000001C   ........           LDR      R1,??DataTable73  ;; pos
   1089              total_pos=1;
   1090              move_skip=0;
   \   00000020   ........           LDR      R2,??DataTable74  ;; move_skip
   \   00000024   0100A0E3           MOV      R0,#+1
   \   00000028   000081E5           STR      R0,[R1, #+0]
   \   0000002C   ........           LDR      R1,??DataTable87  ;; total_pos
   \   00000030   000081E5           STR      R0,[R1, #+0]
   \   00000034   0010A0E3           MOV      R1,#+0
   \   00000038   001082E5           STR      R1,[R2, #+0]
   1091              task_list=1;
   \   0000003C   ........           LDR      R2,??DataTable82  ;; task_list
   \   00000040   000082E5           STR      R0,[R2, #+0]
   1092              time_not=1;
   \   00000044   ........           LDR      R2,??DataTable77  ;; time_not
   \   00000048   000082E5           STR      R0,[R2, #+0]
   1093              sm=0;
   \   0000004C   ........           LDR      R2,??DataTable78  ;; sm
   \   00000050   001082E5           STR      R1,[R2, #+0]
   1094              forward=1;
   \   00000054   ........           LDR      R2,??DataTable79  ;; forward
   \   00000058   000082E5           STR      R0,[R2, #+0]
   1095              logout=0;
   \   0000005C   2C009FE5           LDR      R0,??ShowMenu_1  ;; logout
   \   00000060   001080E5           STR      R1,[R0, #+0]
   1096              total_d=GetNumberOfDialogs()-1;
   \   00000064   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   \   00000068   ........           LDR      R1,??DataTable86  ;; total_d
   \   0000006C   010040E2           SUB      R0,R0,#+1
   \   00000070   000081E5           STR      R0,[R1, #+0]
   1097              char dummy[sizeof(MAIN_CSM)];
   1098              MAINCSM_ID = CreateCSM(&MAINCSM.maincsm,dummy,2);
   \   00000074   18009FE5           LDR      R0,??ShowMenu_1+0x4  ;; MAINCSM
   \   00000078   0220A0E3           MOV      R2,#+2
   \   0000007C   0D10A0E1           MOV      R1,SP
   \   00000080   070100EF           SWI      +263
   \   00000084   000084E5           STR      R0,[R4, #+0]
   1099            }
   1100          }
   \                     ??ShowMenu_0:
   \   00000088   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   0000008C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??ShowMenu_1:
   \   00000090   ........           DC32     logout
   \   00000094   ........           DC32     MAINCSM
   1101          
   1102          

   \                                 In segment CODE, align 4, keep-with-next
   1103          int my_keyhook(int submsg, int msg)
   1104          {
   \                     my_keyhook:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   1105          #ifdef NEWSGOLD
   1106            void *icsm=FindCSMbyID(CSM_root()->idle_id);
   1107            if ((submsg==RED_BUTTON)&&(RED_BUT_MODE))
   1108            {
   1109              if ((CSM_root()->csm_q->csm.last==icsm)||(IsCalling())) //(IsGuiOnTop(((int *)icsm)[DISPLACE_OF_IDLEGUI_ID/4]))
   1110              {
   1111                if (msg==KEY_UP)
   1112                {
   1113          	if (mode_red!=2)
   1114          	{
   1115          	  mode_red=0;
   1116          	  return KEYHOOK_BREAK;
   1117          	}
   1118                }
   1119                mode_red=2; //????? ?? ??????????
   1120              }
   1121              else
   1122              {
   1123                if (msg==KEY_DOWN)
   1124                {
   1125          	if (mode_red==1)
   1126          	{
   1127          	  mode_red=0;
   1128          	  return KEYHOOK_NEXT; //Long press, continue with REDB PRESS
   1129          	}
   1130                }
   1131                if (msg==KEY_UP)
   1132                {
   1133          	if (mode_red)
   1134          	{
   1135          	  mode_red=0; //Release after longpress
   1136          	  return KEYHOOK_NEXT;
   1137          	}
   1138          	else
   1139          	  //Release after short press
   1140          	{
   1141                    if (RED_BUT_MODE==1)
   1142                    {
   1143                      if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,RIGHT_SOFT);
   1144                    }
   1145                    else
   1146                    {
   1147          	    if (!MAINCSM_ID)
   1148          	    {
   1149          	      CSMtoTop(CSM_root()->idle_id,-1);
   1150          	    }
   1151                    }
   1152          	}
   1153                }
   1154                if (msg==LONG_PRESS)
   1155                {
   1156          	mode_red=1;
   1157          	if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,RED_BUTTON);
   1158                }
   1159                return KEYHOOK_BREAK;
   1160              }
   1161            }
   1162          #endif
   1163          //#ifndef NEWSGOLD
   1164            if (ACTIVE_KEY_STYLE==3)
   \   00000004   ........           LDR      R5,??DataTable126  ;; mode
   \   00000008   0020A0E1           MOV      R2,R0
   \   0000000C   ........           LDR      R0,??DataTable82  ;; task_list
   \   00000010   0130A0E1           MOV      R3,R1
   \   00000014   00C090E5           LDR      R12,[R0, #+0]
   \   00000018   78029FE5           LDR      R0,??my_keyhook_0  ;; ENA_LOCK
   \   0000001C   9310A0E3           MOV      R1,#+147
   \   00000020   004090E5           LDR      R4,[R0, #+0]
   \   00000024   ........           LDR      R0,??DataTable88  ;; ACTIVE_KEY_STYLE
   \   00000028   401F81E3           ORR      R1,R1,#0x100
   \   0000002C   00E090E5           LDR      LR,[R0, #+0]
   \   00000030   0900A0E3           MOV      R0,#+9
   \   00000034   420C80E3           ORR      R0,R0,#0x4200
   \   00000038   0170A0E3           MOV      R7,#+1
   \   0000003C   0060A0E3           MOV      R6,#+0
   \   00000040   03005EE3           CMP      LR,#+3
   \   00000044   2400001A           BNE      ??my_keyhook_1
   1165            {
   1166              if (submsg!=ENTER_BUTTON) return KEYHOOK_NEXT;
   \   00000048   1A0052E3           CMP      R2,#+26
   \   0000004C   0D00001A           BNE      ??my_keyhook_2
   1167          /*    if (my_csm_id)
   1168              {
   1169                if (((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=my_csm_id)
   1170                {
   1171                  CloseCSM(my_csm_id);
   1172                }
   1173                return KEYHOOK_NEXT;
   1174              }*/
   1175              switch(msg)
   \   00000050   44829FE5           LDR      R8,??my_keyhook_0+0x4  ;; mode_enter
   \   00000054   010053E1           CMP      R3,R1
   \   00000058   009098E5           LDR      R9,[R8, #+0]
   \   0000005C   0500000A           BEQ      ??my_keyhook_3
   \   00000060   650F53E3           CMP      R3,#+404
   \   00000064   0B00000A           BEQ      ??my_keyhook_4
   \   00000068   02B081E2           ADD      R11,R1,#+2
   \   0000006C   0B0053E1           CMP      R3,R11
   \   00000070   1100000A           BEQ      ??my_keyhook_5
   \   00000074   180000EA           B        ??my_keyhook_1
   1176              {
   1177              case KEY_DOWN:
   1178                if (mode_enter==2)
   \                     ??my_keyhook_3:
   \   00000078   020059E3           CMP      R9,#+2
   \   0000007C   0300001A           BNE      ??my_keyhook_6
   1179                {
   1180          	GBS_SendMessage(MMI_CEPID,KEY_UP,ENTER_BUTTON);
   \   00000080   651FA0E3           MOV      R1,#+404
   \   00000084   000100EF           SWI      +256
   1181          	return KEYHOOK_NEXT;
   \                     ??my_keyhook_2:
   \   00000088   0000A0E3           MOV      R0,#+0
   \   0000008C   F08FBDE8           POP      {R4-R11,PC}
   1182                }
   1183                mode_enter=0;
   \                     ??my_keyhook_6:
   \   00000090   006088E5           STR      R6,[R8, #+0]
   1184                return KEYHOOK_BREAK;
   \   00000094   430000EA           B        ??my_keyhook_7
   1185              case KEY_UP:
   1186                if (mode_enter==0)
   \                     ??my_keyhook_4:
   \   00000098   000059E3           CMP      R9,#+0
   \   0000009C   0200001A           BNE      ??my_keyhook_8
   1187                {
   1188                  mode_enter=2;
   \   000000A0   0220A0E3           MOV      R2,#+2
   \   000000A4   002088E5           STR      R2,[R8, #+0]
   1189                  if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,ENTER_BUTTON);
   \   000000A8   390000EA           B        ??my_keyhook_9
   1190                  return KEYHOOK_BREAK;
   1191                }
   1192                if (mode_enter==2)
   \                     ??my_keyhook_8:
   \   000000AC   020059E3           CMP      R9,#+2
   \   000000B0   F6FFFF1A           BNE      ??my_keyhook_6
   1193                {
   1194                  mode_enter=0;
   \   000000B4   006088E5           STR      R6,[R8, #+0]
   1195                  return KEYHOOK_NEXT;
   \   000000B8   180000EA           B        ??my_keyhook_10
   1196                }
   1197                mode_enter=0;
   1198                return KEYHOOK_BREAK;      
   1199              case LONG_PRESS:
   1200                mode_enter=1;
   \                     ??my_keyhook_5:
   \   000000BC   007088E5           STR      R7,[R8, #+0]
   1201                if (IsUnlocked()||ENA_LOCK)
   \   000000C0   430000EF           SWI      +67
   \   000000C4   000050E3           CMP      R0,#+0
   \   000000C8   00005403           CMPEQ    R4,#+0
   \   000000CC   0000000A           BEQ      ??my_keyhook_11
   1202                {
   1203                  ShowMenu();
   \   000000D0   ........           BL       ShowMenu
   1204                }
   1205                mode=0;
   \                     ??my_keyhook_11:
   \   000000D4   006085E5           STR      R6,[R5, #+0]
   1206                return KEYHOOK_BREAK;
   \   000000D8   320000EA           B        ??my_keyhook_7
   1207              }
   1208            }
   1209            // * + # implementation
   1210            if ((ACTIVE_KEY_STYLE==2) && !(MAINCSM_ID))
   \                     ??my_keyhook_1:
   \   000000DC   ........           LDR      R9,??DataTable93  ;; MAINCSM_ID
   \   000000E0   008095E5           LDR      R8,[R5, #+0]
   \   000000E4   009099E5           LDR      R9,[R9, #+0]
   \   000000E8   02005EE3           CMP      LR,#+2
   \   000000EC   1700001A           BNE      ??my_keyhook_12
   \   000000F0   000059E3           CMP      R9,#+0
   \   000000F4   E3FFFF1A           BNE      ??my_keyhook_2
   1211            {
   1212              if (msg==KEY_UP)
   \   000000F8   650F53E3           CMP      R3,#+404
   1213              {
   1214                mode=0;
   \   000000FC   00608505           STREQ    R6,[R5, #+0]
   1215                return KEYHOOK_NEXT;
   \   00000100   E0FFFF0A           BEQ      ??my_keyhook_2
   1216              }
   1217              if (msg==KEY_DOWN)
   \   00000104   010053E1           CMP      R3,R1
   \   00000108   DEFFFF1A           BNE      ??my_keyhook_2
   1218              {
   1219                switch (submsg)
   \   0000010C   23A052E2           SUBS     R10,R2,#+35
   \   00000110   0400000A           BEQ      ??my_keyhook_13
   \   00000114   07A05AE2           SUBS     R10,R10,#+7
   \   00000118   0C00001A           BNE      ??my_keyhook_12
   1220                {
   1221                case '*':
   1222                  mode=1;
   \   0000011C   007085E5           STR      R7,[R5, #+0]
   1223                  return (0);
   \                     ??my_keyhook_10:
   \   00000120   0000A0E3           MOV      R0,#+0
   \   00000124   F08FBDE8           POP      {R4-R11,PC}
   1224                case '#':
   1225                  if (mode==1)
   \                     ??my_keyhook_13:
   \   00000128   010058E3           CMP      R8,#+1
   \   0000012C   D5FFFF1A           BNE      ??my_keyhook_2
   1226                  {
   1227                    if (IsUnlocked()||ENA_LOCK)
   \   00000130   430000EF           SWI      +67
   \   00000134   000050E3           CMP      R0,#+0
   \   00000138   00005403           CMPEQ    R4,#+0
   \   0000013C   0100000A           BEQ      ??my_keyhook_14
   1228                      ShowMenu();
   \   00000140   ........           BL       ShowMenu
   1229                    else mode=0;
   1230                  }
   1231                  else return KEYHOOK_NEXT;
   1232                }
   1233              }
   1234            }
   1235          //#endif
   1236            if (ACTIVE_KEY_STYLE<2)
   1237            {
   1238              if (submsg!=ACTIVE_KEY) return KEYHOOK_NEXT;
   1239              if (MAINCSM_ID)
   1240              {
   1241          /*      if (((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=my_csm_id)
   1242                {
   1243          	CloseCSM(my_csm_id);
   1244                }*/
   1245                if (msg==KEY_UP)
   1246                {
   1247                  total_pos=2;
   1248                  if(total_pos>total_d) total_pos--;
   1249          	if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,ENTER_BUTTON);
   1250                }
   1251                return KEYHOOK_BREAK;
   1252              }
   1253              switch(msg)
   1254              {
   1255              case KEY_DOWN:
   1256                mode=0;
   1257                if (ACTIVE_KEY_STYLE==0)
   1258          	return KEYHOOK_BREAK;
   1259                else 
   1260          	return KEYHOOK_NEXT;
   1261              case KEY_UP:
   1262                if (mode==1)
   1263                {
   1264          	//Release after longpress
   1265          	mode=0;
   1266          	if ((ACTIVE_KEY_STYLE==1) || (ENA_LONG_PRESS==3))
   1267          	{
   1268          	  //Launch on LongPress or Extra on LP - Launch
   1269          	  if (IsUnlocked()||ENA_LOCK)
   1270          	  {
   1271          	    ShowMenu();
   1272          	  }
   1273          	  return KEYHOOK_BREAK;
   1274          	}
   1275                  if (ENA_LONG_PRESS==1) return KEYHOOK_BREAK;
   1276          	if (ENA_LONG_PRESS==2)
   1277          	{
   1278          	  if ((task_list!=2)&&(task_list!=3)) CSMtoTop(CSM_root()->idle_id,-1);
   1279          	  return KEYHOOK_BREAK;
   1280          	}
   1281                  if (ENA_LONG_PRESS==4)
   1282                  {
   1283                    if ((task_list!=2)&&(task_list!=3)){
   1284                    CSMtoTop(CSM_root()->idle_id,-1);
   1285                    KbdLock();}
   1286                    return KEYHOOK_BREAK;
   1287                  }
   1288          	break;
   1289                }
   1290                if (ACTIVE_KEY_STYLE==0)
   1291                {
   1292          	if (IsUnlocked()||ENA_LOCK)
   1293          	{
   1294          	  ShowMenu();
   1295          	}
   1296          	return KEYHOOK_BREAK;
   1297                }
   1298                break;
   1299              case LONG_PRESS:
   1300                mode=1;
   1301          #ifndef NEWSGOLD
   1302                if (ACTIVE_KEY_STYLE==1)
   1303                {
   1304          	if (ENA_LONG_PRESS)
   1305          	  return KEYHOOK_NEXT;
   1306          	else 
   1307          	  return KEYHOOK_BREAK;
   1308                }
   1309          #else
   1310                return KEYHOOK_BREAK;
   1311          #endif
   1312              }
   1313            }
   1314            return KEYHOOK_NEXT;
   \   00000144   F5FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_14:
   \   00000148   006085E5           STR      R6,[R5, #+0]
   \   0000014C   F3FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_12:
   \   00000150   02005EE3           CMP      LR,#+2
   \   00000154   CBFFFFAA           BGE      ??my_keyhook_2
   \   00000158   ........           LDR      R10,??DataTable89  ;; ACTIVE_KEY
   \   0000015C   00A09AE5           LDR      R10,[R10, #+0]
   \   00000160   0A0052E1           CMP      R2,R10
   \   00000164   C7FFFF1A           BNE      ??my_keyhook_2
   \   00000168   000059E3           CMP      R9,#+0
   \   0000016C   0F00000A           BEQ      ??my_keyhook_15
   \   00000170   650F53E3           CMP      R3,#+404
   \   00000174   3F00001A           BNE      ??my_keyhook_16
   \   00000178   ........           LDR      R3,??DataTable86  ;; total_d
   \   0000017C   0220A0E3           MOV      R2,#+2
   \   00000180   003093E5           LDR      R3,[R3, #+0]
   \   00000184   020053E3           CMP      R3,#+2
   \   00000188   ........           LDR      R3,??DataTable87  ;; total_pos
   \   0000018C   0120A0B3           MOVLT    R2,#+1
   \   00000190   002083E5           STR      R2,[R3, #+0]
   \                     ??my_keyhook_9:
   \   00000194   03005CE3           CMP      R12,#+3
   \   00000198   02005C13           CMPNE    R12,#+2
   \   0000019C   3500000A           BEQ      ??my_keyhook_16
   \   000001A0   1A20A0E3           MOV      R2,#+26
   \   000001A4   000100EF           SWI      +256
   \                     ??my_keyhook_7:
   \   000001A8   0200A0E3           MOV      R0,#+2
   \   000001AC   F08FBDE8           POP      {R4-R11,PC}
   \                     ??my_keyhook_15:
   \   000001B0   E8009FE5           LDR      R0,??my_keyhook_0+0x8  ;; ENA_LONG_PRESS
   \   000001B4   010053E1           CMP      R3,R1
   \   000001B8   000090E5           LDR      R0,[R0, #+0]
   \   000001BC   0500000A           BEQ      ??my_keyhook_17
   \   000001C0   650F53E3           CMP      R3,#+404
   \   000001C4   0700000A           BEQ      ??my_keyhook_18
   \   000001C8   021081E2           ADD      R1,R1,#+2
   \   000001CC   010053E1           CMP      R3,R1
   \   000001D0   2A00000A           BEQ      ??my_keyhook_19
   \   000001D4   D1FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_17:
   \   000001D8   006085E5           STR      R6,[R5, #+0]
   \   000001DC   00005EE3           CMP      LR,#+0
   \   000001E0   A8FFFF1A           BNE      ??my_keyhook_2
   \   000001E4   EFFFFFEA           B        ??my_keyhook_7
   \                     ??my_keyhook_18:
   \   000001E8   010058E3           CMP      R8,#+1
   \   000001EC   1A00001A           BNE      ??my_keyhook_20
   \   000001F0   006085E5           STR      R6,[R5, #+0]
   \   000001F4   01005EE3           CMP      LR,#+1
   \   000001F8   03005013           CMPNE    R0,#+3
   \   000001FC   1800000A           BEQ      ??my_keyhook_21
   \   00000200   010050E3           CMP      R0,#+1
   \   00000204   1B00000A           BEQ      ??my_keyhook_16
   \   00000208   020050E3           CMP      R0,#+2
   \   0000020C   0700001A           BNE      ??my_keyhook_22
   \   00000210   02005CE3           CMP      R12,#+2
   \   00000214   03005C13           CMPNE    R12,#+3
   \   00000218   1600000A           BEQ      ??my_keyhook_16
   \   0000021C   068100EF           SWI      +33030
   \   00000220   040090E5           LDR      R0,[R0, #+4]
   \   00000224   0610E0E1           MVN      R1,R6
   \   00000228   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   0000022C   DDFFFFEA           B        ??my_keyhook_7
   \                     ??my_keyhook_22:
   \   00000230   040050E3           CMP      R0,#+4
   \   00000234   93FFFF1A           BNE      ??my_keyhook_2
   \   00000238   02005CE3           CMP      R12,#+2
   \   0000023C   03005C13           CMPNE    R12,#+3
   \   00000240   0C00000A           BEQ      ??my_keyhook_16
   \   00000244   068100EF           SWI      +33030
   \   00000248   040090E5           LDR      R0,[R0, #+4]
   \   0000024C   0610E0E1           MVN      R1,R6
   \   00000250   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   00000254   A90000EF           SWI      +169
   \   00000258   D2FFFFEA           B        ??my_keyhook_7
   \                     ??my_keyhook_20:
   \   0000025C   00005EE3           CMP      LR,#+0
   \   00000260   88FFFF1A           BNE      ??my_keyhook_2
   \                     ??my_keyhook_21:
   \   00000264   430000EF           SWI      +67
   \   00000268   000050E3           CMP      R0,#+0
   \   0000026C   00005403           CMPEQ    R4,#+0
   \   00000270   0000000A           BEQ      ??my_keyhook_16
   \   00000274   ........           BL       ShowMenu
   \                     ??my_keyhook_16:
   \   00000278   0200A0E3           MOV      R0,#+2
   \   0000027C   F08FBDE8           POP      {R4-R11,PC}
   \                     ??my_keyhook_19:
   \   00000280   007085E5           STR      R7,[R5, #+0]
   \   00000284   01005EE3           CMP      LR,#+1
   \   00000288   7EFFFF1A           BNE      ??my_keyhook_2
   \   0000028C   000050E3           CMP      R0,#+0
   \   00000290   F8FFFF0A           BEQ      ??my_keyhook_16
   \   00000294   A1FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_0:
   \   00000298   ........           DC32     ENA_LOCK
   \   0000029C   ........           DC32     mode_enter
   \   000002A0   ........           DC32     ENA_LONG_PRESS
   1315          }
   1316          

   \                                 In segment DATA_Z, align 4, align-sorted
   1317          volatile int callhide_mode=0;
   \                     callhide_mode:
   \   00000000                      DS8 4
   1318          
   1319          #pragma inline=forced
   1320          int toupper(int c)
   1321          {
   1322            if ((c>='a')&&(c<='z')) c+='A'-'a';
   1323            return(c);
   1324          }
   1325          

   \                                 In segment CODE, align 4, keep-with-next
   1326          int strcmp_nocase(const char *s1,const char *s2)
   1327          {
   1328            int i;
   1329            int c;
   1330            while(!(i=(c=toupper(*s1++))-toupper(*s2++))) if (!c) break;
   \                     strcmp_nocase:
   \                     ??strcmp_nocase_0:
   \   00000000   0020D0E5           LDRB     R2,[R0, #+0]
   \   00000004   610052E3           CMP      R2,#+97
   \   00000008   010000BA           BLT      ??strcmp_nocase_1
   \   0000000C   7B0052E3           CMP      R2,#+123
   \   00000010   202042B2           SUBLT    R2,R2,#+32
   \                     ??strcmp_nocase_1:
   \   00000014   00C0D1E5           LDRB     R12,[R1, #+0]
   \   00000018   010080E2           ADD      R0,R0,#+1
   \   0000001C   0230A0E1           MOV      R3,R2
   \   00000020   61005CE3           CMP      R12,#+97
   \   00000024   010000BA           BLT      ??strcmp_nocase_2
   \   00000028   7B005CE3           CMP      R12,#+123
   \   0000002C   20C04CB2           SUBLT    R12,R12,#+32
   \                     ??strcmp_nocase_2:
   \   00000030   011081E2           ADD      R1,R1,#+1
   \   00000034   0C2052E0           SUBS     R2,R2,R12
   \   00000038   0100001A           BNE      ??strcmp_nocase_3
   \   0000003C   000053E3           CMP      R3,#+0
   \   00000040   EEFFFF1A           BNE      ??strcmp_nocase_0
   1331            return(i);
   \                     ??strcmp_nocase_3:
   \   00000044   0200A0E1           MOV      R0,R2
   \   00000048   1EFF2FE1           BX       LR               ;; return
   1332          }
   1333          

   \                                 In segment DATA_C, align 4, align-sorted
   1334          const char my_ipc_name[]=IPC_XTASK_NAME;
   \                     my_ipc_name:
   \   00000000   585461736B00       DC8 "XTask"
   \   00000006   0000               DC8 0, 0
   1335          

   \                                 In segment CODE, align 4, keep-with-next
   1336          int MyIDLECSM_onMessage(CSM_RAM* data,GBS_MSG* msg)
   1337          {
   \                     MyIDLECSM_onMessage:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0090A0E1           MOV      R9,R0
   1338            int csm_result;
   1339            int icgui_id;
   1340            //  int ocgui_id;
   1341            int idlegui_id;
   1342            
   1343          #ifndef NEWSGOLD 
   1344          #define EXT_BUTTON 0x63  
   1345            if ((ACTIVE_KEY_STYLE!=2)&&(ACTIVE_KEY_STYLE!=3)) //?? "* + #" ? ?? "Enter Button"
   \   00000008   ........           LDR      R0,??DataTable88  ;; ACTIVE_KEY_STYLE
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   0170A0E1           MOV      R7,R1
   \   00000018   020050E3           CMP      R0,#+2
   \   0000001C   03005013           CMPNE    R0,#+3
   \   00000020   2000000A           BEQ      ??MyIDLECSM_onMessage_0
   1346            {//???? ????? ???? ??????? ??????? ??? ???? ???????
   1347              if (ACTIVE_KEY==EXT_BUTTON) //?????? ?????? ????????
   \   00000024   ........           LDR      R0,??DataTable89  ;; ACTIVE_KEY
   \   00000028   000090E5           LDR      R0,[R0, #+0]
   \   0000002C   630050E3           CMP      R0,#+99
   \   00000030   1C00001A           BNE      ??MyIDLECSM_onMessage_0
   1348              {
   1349                if (msg->msg==439) //?????? ???????
   \   00000034   F200D7E1           LDRSH    R0,[R7, #+2]
   \   00000038   B710A0E3           MOV      R1,#+183
   \   0000003C   401F81E3           ORR      R1,R1,#0x100
   \   00000040   010050E1           CMP      R0,R1
   \   00000044   1700001A           BNE      ??MyIDLECSM_onMessage_0
   1350                {
   1351                  switch (msg->submess) 
   \   00000048   ........           LDR      R0,??DataTable90  ;; task_list
   \   0000004C   042097E5           LDR      R2,[R7, #+4]
   \   00000050   001090E5           LDR      R1,[R0, #+0]
   \   00000054   0900A0E3           MOV      R0,#+9
   \   00000058   420C80E3           ORR      R0,R0,#0x4200
   \   0000005C   012052E2           SUBS     R2,R2,#+1
   \   00000060   0200000A           BEQ      ??MyIDLECSM_onMessage_1
   \   00000064   012052E2           SUBS     R2,R2,#+1
   \   00000068   0800000A           BEQ      ??MyIDLECSM_onMessage_2
   \   0000006C   130000EA           B        ??MyIDLECSM_onMessage_3
   1352                  {
   1353          	case 1:
   1354          	  if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,LONG_PRESS,EXT_BUTTON);
   \                     ??MyIDLECSM_onMessage_1:
   \   00000070   030051E3           CMP      R1,#+3
   \   00000074   02005113           CMPNE    R1,#+2
   \   00000078   1000000A           BEQ      ??MyIDLECSM_onMessage_3
   \   0000007C   6320A0E3           MOV      R2,#+99
   \   00000080   9510A0E3           MOV      R1,#+149
   \   00000084   401F81E3           ORR      R1,R1,#0x100
   \                     ??MyIDLECSM_onMessage_4:
   \   00000088   000100EF           SWI      +256
   \   0000008C   0B0000EA           B        ??MyIDLECSM_onMessage_3
   1355                    break;
   1356          	case 2:
   1357          	  if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_UP,EXT_BUTTON);
   \                     ??MyIDLECSM_onMessage_2:
   \   00000090   030051E3           CMP      R1,#+3
   \   00000094   02005113           CMPNE    R1,#+2
   \   00000098   0800000A           BEQ      ??MyIDLECSM_onMessage_3
   \   0000009C   6320A0E3           MOV      R2,#+99
   \   000000A0   651FA0E3           MOV      R1,#+404
   \   000000A4   F7FFFFEA           B        ??MyIDLECSM_onMessage_4
   1358                    break; // ???????? default!!!
   1359                  }
   1360                }
   1361                else //??????? ?? ?????????
   1362          	goto L1;
   1363              }
   1364              else //?????? ?????? ?? ???????? ?????? ??????? ?????? ????????
   1365                goto L1;
   1366            }
   1367            else
   1368          L1:
   1369            csm_result=old_icsm_onMessage(data,msg);
   \                     ??MyIDLECSM_onMessage_0:
   \   000000A8   ........           LDR      R2,??DataTable125  ;; old_icsm_onMessage
   \   000000AC   0710A0E1           MOV      R1,R7
   \   000000B0   002092E5           LDR      R2,[R2, #+0]
   \   000000B4   0900A0E1           MOV      R0,R9
   \   000000B8   32FF2FE1           BLX      R2
   \   000000BC   0040A0E1           MOV      R4,R0
   1370          #else    
   1371            csm_result = old_icsm_onMessage(data, msg); //???????? ?????? ?????????? ???????    
   1372          #endif
   1373            
   1374            icgui_id=((int *)data)[DISPLACE_OF_INCOMMINGGUI/4];
   \                     ??MyIDLECSM_onMessage_3:
   \   000000C0   308099E5           LDR      R8,[R9, #+48]
   1375            idlegui_id=((int *)data)[DISPLACE_OF_IDLEGUI_ID/4];
   \   000000C4   281099E5           LDR      R1,[R9, #+40]
   1376            //  ocgui_id=((int *)data)[DISPLACE_OF_OUTGOINGGUI/4];
   1377            if (!icgui_id) callhide_mode=0;
   \   000000C8   A0519FE5           LDR      R5,??MyIDLECSM_onMessage_5  ;; callhide_mode
   \   000000CC   00108DE5           STR      R1,[SP, #+0]
   \   000000D0   0060A0E3           MOV      R6,#+0
   \   000000D4   000058E3           CMP      R8,#+0
   \   000000D8   00608505           STREQ    R6,[R5, #+0]
   1378            //  if (!ocgui_id) callhide_mode=0;
   1379            
   1380            if(msg->msg == MSG_RECONFIGURE_REQ) 
   \   000000DC   F200D7E1           LDRSH    R0,[R7, #+2]
   \   000000E0   F110A0E3           MOV      R1,#+241
   \   000000E4   C01F81E3           ORR      R1,R1,#0x300
   \   000000E8   010050E1           CMP      R0,R1
   \   000000EC   0A00001A           BNE      ??MyIDLECSM_onMessage_6
   1381            {
   1382              if (strcmp_nocase(successed_config_filename,(char *)msg->data0)==0)
   \   000000F0   ........           LDR      R0,??DataTable92  ;; successed_config_filename
   \   000000F4   081097E5           LDR      R1,[R7, #+8]
   \   000000F8   000090E5           LDR      R0,[R0, #+0]
   \   000000FC   ........           BL       strcmp_nocase
   \   00000100   000050E3           CMP      R0,#+0
   \   00000104   4700001A           BNE      ??MyIDLECSM_onMessage_7
   1383              {
   1384                ShowMSG(1,(int)"XTask config updated!");
   \   00000108   64119FE5           LDR      R1,??MyIDLECSM_onMessage_5+0x4  ;; `?<Constant "XTask config updated!">`
   \   0000010C   0100A0E3           MOV      R0,#+1
   \   00000110   480100EF           SWI      +328
   1385                InitConfig();
   \   00000114   ........           _BLF     InitConfig,??InitConfig??rA
   1386                init_turnoff();
   \   00000118   ........           BL       init_turnoff
   1387              }
   1388            }
   1389            //IPC
   1390            if (msg->msg==MSG_IPC)
   \                     ??MyIDLECSM_onMessage_6:
   \   0000011C   F200D7E1           LDRSH    R0,[R7, #+2]
   \   00000120   F210A0E3           MOV      R1,#+242
   \   00000124   C01F81E3           ORR      R1,R1,#0x300
   \   00000128   010050E1           CMP      R0,R1
   \   0000012C   3900001A           BNE      ??MyIDLECSM_onMessage_8
   1391            {
   1392              IPC_REQ *ipc;
   1393              if ((ipc=(IPC_REQ*)msg->data0))
   \   00000130   08A097E5           LDR      R10,[R7, #+8]
   \   00000134   00005AE3           CMP      R10,#+0
   \   00000138   3A00000A           BEQ      ??MyIDLECSM_onMessage_7
   1394              {
   1395                if (strcmp(ipc->name_to,my_ipc_name)==0)
   \   0000013C   00009AE5           LDR      R0,[R10, #+0]
   \   00000140   30119FE5           LDR      R1,??MyIDLECSM_onMessage_5+0x8  ;; my_ipc_name
   \   00000144   190000EF           SWI      +25
   \   00000148   000050E3           CMP      R0,#+0
   \   0000014C   3100001A           BNE      ??MyIDLECSM_onMessage_8
   1396                {
   1397          	switch (msg->submess)
   \   00000150   ........           LDR      R0,??DataTable93  ;; MAINCSM_ID
   \   00000154   041097E5           LDR      R1,[R7, #+4]
   \   00000158   000090E5           LDR      R0,[R0, #+0]
   \   0000015C   18B19FE5           LDR      R11,??MyIDLECSM_onMessage_5+0xC  ;; SHOW_LOCK
   \   00000160   011051E2           SUBS     R1,R1,#+1
   \   00000164   1A00000A           BEQ      ??MyIDLECSM_onMessage_9
   \   00000168   011051E2           SUBS     R1,R1,#+1
   \   0000016C   0400000A           BEQ      ??MyIDLECSM_onMessage_10
   \   00000170   011051E2           SUBS     R1,R1,#+1
   \   00000174   1E00000A           BEQ      ??MyIDLECSM_onMessage_11
   \   00000178   011051E2           SUBS     R1,R1,#+1
   \   0000017C   1F00000A           BEQ      ??MyIDLECSM_onMessage_12
   \   00000180   240000EA           B        ??MyIDLECSM_onMessage_8
   1398          	{
   1399          	case IPC_XTASK_SHOW_CSM:
   1400          	  if (MAINCSM_ID) break;
   \                     ??MyIDLECSM_onMessage_10:
   \   00000184   000050E3           CMP      R0,#+0
   \   00000188   2200001A           BNE      ??MyIDLECSM_onMessage_8
   1401          	  if ((!IsCalling())&&(!SHOW_LOCK))
   \   0000018C   6E0000EF           SWI      +110
   \   00000190   000050E3           CMP      R0,#+0
   \   00000194   00009B05           LDREQ    R0,[R11, #+0]
   \   00000198   00005003           CMPEQ    R0,#+0
   \   0000019C   1D00001A           BNE      ??MyIDLECSM_onMessage_8
   1402          	  {
   1403          	    if ((CSM_root()->csm_q->csm.last!=data)||IsGuiOnTop(idlegui_id))
   \   000001A0   068100EF           SWI      +33030
   \   000001A4   080090E5           LDR      R0,[R0, #+8]
   \   000001A8   0C0090E5           LDR      R0,[R0, #+12]
   \   000001AC   090050E1           CMP      R0,R9
   \   000001B0   0300001A           BNE      ??MyIDLECSM_onMessage_13
   \   000001B4   00009DE5           LDR      R0,[SP, #+0]
   \   000001B8   350100EF           SWI      +309
   \   000001BC   000050E3           CMP      R0,#+0
   \   000001C0   1400000A           BEQ      ??MyIDLECSM_onMessage_8
   1404          	    {
   1405          	      CSMtoTop((int)(ipc->data),-1);
   \                     ??MyIDLECSM_onMessage_13:
   \   000001C4   08009AE5           LDR      R0,[R10, #+8]
   \                     ??MyIDLECSM_onMessage_14:
   \   000001C8   0610E0E1           MVN      R1,R6
   \   000001CC   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   000001D0   100000EA           B        ??MyIDLECSM_onMessage_8
   1406          	    }
   1407          	  }
   1408          	  break;
   1409          	case IPC_XTASK_IDLE:
   1410          	  if (MAINCSM_ID) break;
   \                     ??MyIDLECSM_onMessage_9:
   \   000001D4   000050E3           CMP      R0,#+0
   \   000001D8   0E00001A           BNE      ??MyIDLECSM_onMessage_8
   1411          	  if ((!IsCalling())/*&&(!SHOW_LOCK)*/)
   \   000001DC   6E0000EF           SWI      +110
   \   000001E0   000050E3           CMP      R0,#+0
   \   000001E4   0B00001A           BNE      ??MyIDLECSM_onMessage_8
   1412          	    CSMtoTop(CSM_root()->idle_id,-1);
   \   000001E8   068100EF           SWI      +33030
   \   000001EC   040090E5           LDR      R0,[R0, #+4]
   \   000001F0   F4FFFFEA           B        ??MyIDLECSM_onMessage_14
   1413          	  break;
   1414          	case IPC_XTASK_LOCK_SHOW:
   1415          	  SHOW_LOCK++;
   \                     ??MyIDLECSM_onMessage_11:
   \   000001F4   00009BE5           LDR      R0,[R11, #+0]
   \   000001F8   010080E2           ADD      R0,R0,#+1
   \   000001FC   040000EA           B        ??MyIDLECSM_onMessage_15
   1416          	  break;
   1417          	case IPC_XTASK_UNLOCK_SHOW:
   1418          	  if (SHOW_LOCK) SHOW_LOCK--;
   \                     ??MyIDLECSM_onMessage_12:
   \   00000200   00009BE5           LDR      R0,[R11, #+0]
   \   00000204   000050E3           CMP      R0,#+0
   \   00000208   0200000A           BEQ      ??MyIDLECSM_onMessage_8
   \   0000020C   00009BE5           LDR      R0,[R11, #+0]
   \   00000210   010040E2           SUB      R0,R0,#+1
   \                     ??MyIDLECSM_onMessage_15:
   \   00000214   00008BE5           STR      R0,[R11, #+0]
   1419          	  break;
   1420          	}
   1421                }
   1422              }
   1423            }
   1424            if (msg->msg==MSG_INCOMMING_CALL)
   \                     ??MyIDLECSM_onMessage_8:
   \   00000218   F200D7E1           LDRSH    R0,[R7, #+2]
   \   0000021C   080050E3           CMP      R0,#+8
   1425            {
   1426              callhide_mode=1;
   \   00000220   0100A003           MOVEQ    R0,#+1
   \   00000224   00008505           STREQ    R0,[R5, #+0]
   1427            }
   1428            //  #ifdef NEWSGOLD
   1429            //  if ((msg->msg==MSG_STATE_OF_CALL)&&(msg->submess==0)&&((int)msg->data0==3)) callhide_mode=1;
   1430            //  #else
   1431            //if ((msg->msg==MSG_STATE_OF_CALL)&&(msg->submess==0)&&((int)msg->data0==0)) callhide_mode=1;
   1432            //    ?????!!!! ??????!!!
   1433            //  #endif   
   1434            if (callhide_mode)
   \                     ??MyIDLECSM_onMessage_7:
   \   00000228   000095E5           LDR      R0,[R5, #+0]
   \   0000022C   000050E3           CMP      R0,#+0
   \   00000230   0C00000A           BEQ      ??MyIDLECSM_onMessage_16
   1435            {
   1436              if ((IsGuiOnTop(icgui_id))/*||(IsGuiOnTop(ocgui_id))*/)
   \   00000234   0800A0E1           MOV      R0,R8
   \   00000238   350100EF           SWI      +309
   \   0000023C   000050E3           CMP      R0,#+0
   \   00000240   0800000A           BEQ      ??MyIDLECSM_onMessage_16
   1437              {
   1438                CSMtoTop(CSM_root()->idle_id,((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id);
   \   00000244   068100EF           SWI      +33030
   \   00000248   0070A0E1           MOV      R7,R0
   \   0000024C   068100EF           SWI      +33030
   \   00000250   081097E5           LDR      R1,[R7, #+8]
   \   00000254   040090E5           LDR      R0,[R0, #+4]
   \   00000258   0C1091E5           LDR      R1,[R1, #+12]
   \   0000025C   0C1091E5           LDR      R1,[R1, #+12]
   \   00000260   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   1439                callhide_mode=0;
   \   00000264   006085E5           STR      R6,[R5, #+0]
   1440              }
   1441            }
   1442            return csm_result;  
   \                     ??MyIDLECSM_onMessage_16:
   \   00000268   0400A0E1           MOV      R0,R4
   \   0000026C   F28FBDE8           POP      {R1,R4-R11,PC}   ;; return
   \                     ??MyIDLECSM_onMessage_5:
   \   00000270   ........           DC32     callhide_mode
   \   00000274   ........           DC32     `?<Constant "XTask config updated!">`
   \   00000278   ........           DC32     my_ipc_name
   \   0000027C   ........           DC32     SHOW_LOCK
   1443          }
   1444          

   \                                 In segment CODE, align 4, keep-with-next
   1445          void MyIDLECSM_onClose(CSM_RAM *data)
   1446          {
   \                     MyIDLECSM_onClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1447            extern void seqkill(void *data, void(*next_in_seq)(CSM_RAM *), void *data_to_kill, void *seqkiller);
   1448            extern void *ELF_BEGIN;
   1449            GBS_DelTimer(&start_tmr);
   \   00000008   ........           LDR      R0,??DataTable127  ;; start_tmr
   \   0000000C   8C0100EF           SWI      +396
   1450            RemoveKeybMsgHook((void *)my_keyhook);
   \   00000010   ........           LDR      R0,??DataTable123  ;; my_keyhook
   \   00000014   2D0100EF           SWI      +301
   1451            seqkill(data,old_icsm_onClose,&ELF_BEGIN,SEQKILLER_ADR());
   \   00000018   9C8100EF           SWI      +33180
   \   0000001C   ........           LDR      R2,??DataTable96  ;; ELF_BEGIN
   \   00000020   0030A0E1           MOV      R3,R0
   \   00000024   ........           LDR      R0,??DataTable124  ;; old_icsm_onClose
   \   00000028   001090E5           LDR      R1,[R0, #+0]
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000034   ........           _BF      seqkill,??seqkill??rA  ;; tailcall
   1452          }
   1453          

   \                                 In segment CODE, align 4, keep-with-next
   1454          void load_icon_list()
   1455          {
   \                     load_icon_list:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1456              int fi;
   1457              int fsizei;
   1458              FSTATS stati;
   1459              unsigned int uli;
   1460              GetFileStats(icon_list_path,&stati,&uli);
   \   00000004   8C409FE5           LDR      R4,??load_icon_list_0  ;; icon_list_path
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0D20A0E1           MOV      R2,SP
   \   00000010   04108DE2           ADD      R1,SP,#+4
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   840000EF           SWI      +132
   1461              if(stati.size>0)
   \   0000001C   08009DE5           LDR      R0,[SP, #+8]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   1900000A           BEQ      ??load_icon_list_1
   1462              {
   1463                fi=fopen(icon_list_path,A_ReadOnly+A_BIN,P_READ,&uli);
   \   00000028   0D30A0E1           MOV      R3,SP
   \   0000002C   8020A0E3           MOV      R2,#+128
   \   00000030   801CA0E3           MOV      R1,#+32768
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   0A0000EF           SWI      +10
   1464                fsizei=stati.size;
   \   0000003C   08509DE5           LDR      R5,[SP, #+8]
   \   00000040   0040A0E1           MOV      R4,R0
   1465                char *pi=malloc(fsizei);
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   140000EF           SWI      +20
   \   0000004C   0060A0E1           MOV      R6,R0
   1466                pi[fread(fi,pi,fsizei,&uli)];
   \   00000050   0D30A0E1           MOV      R3,SP
   \   00000054   0520A0E1           MOV      R2,R5
   \   00000058   0610A0E1           MOV      R1,R6
   \   0000005C   0400A0E1           MOV      R0,R4
   \   00000060   0B0000EF           SWI      +11
   1467                fclose(fi,&uli);
   \   00000064   0400A0E1           MOV      R0,R4
   1468                strcpy(icon_text, pi);
   \   00000068   ........           LDR      R4,??DataTable98  ;; icon_text
   \   0000006C   0D10A0E1           MOV      R1,SP
   \   00000070   0D0000EF           SWI      +13
   \   00000074   0610A0E1           MOV      R1,R6
   \   00000078   0400A0E1           MOV      R0,R4
   \   0000007C   1A0000EF           SWI      +26
   1469                icon_text[fsizei]='\0';
   \   00000080   0000A0E3           MOV      R0,#+0
   \   00000084   0400C5E7           STRB     R0,[R5, +R4]
   1470                mfree(pi);
   \   00000088   0600A0E1           MOV      R0,R6
   \   0000008C   150000EF           SWI      +21
   1471              }
   1472          }
   \                     ??load_icon_list_1:
   \   00000090   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   00000094   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??load_icon_list_0:
   \   00000098   ........           DC32     icon_list_path

   \                                 In segment DATA_Z, align 4, align-sorted
   1473          int serti;
   \                     serti:
   \   00000000                      DS8 4
   1474          

   \                                 In segment CODE, align 4, keep-with-next
   1475          void get_bookmark(char *name, char *path, int w, char *search)
   1476          {
   \                     get_bookmark:
   \   00000000   10002DE9           PUSH     {R4}
   1477            int q=0;
   \   00000004   0340D2E7           LDRB     R4,[R2, +R3]
   \   00000008   00C0A0E3           MOV      R12,#+0
   \   0000000C   7C0054E3           CMP      R4,#+124
   \   00000010   0600000A           BEQ      ??get_bookmark_0
   1478            while(search[w]!='|')
   1479            {
   1480              name[q]=search[w];
   \                     ??get_bookmark_1:
   \   00000014   0340D2E7           LDRB     R4,[R2, +R3]
   1481              q++;
   1482              w++;
   \   00000018   012082E2           ADD      R2,R2,#+1
   \   0000001C   0040CCE7           STRB     R4,[R12, +R0]
   1483            }
   \   00000020   0340D2E7           LDRB     R4,[R2, +R3]
   \   00000024   01C08CE2           ADD      R12,R12,#+1
   \   00000028   7C0054E3           CMP      R4,#+124
   \   0000002C   F8FFFF1A           BNE      ??get_bookmark_1
   1484            name[q]='\0';
   \                     ??get_bookmark_0:
   \   00000030   0040A0E3           MOV      R4,#+0
   \   00000034   0040CCE7           STRB     R4,[R12, +R0]
   1485            w++;
   \   00000038   010082E2           ADD      R0,R2,#+1
   1486            q=0;
   \   0000003C   03C0D0E7           LDRB     R12,[R0, +R3]
   \   00000040   0020A0E3           MOV      R2,#+0
   \   00000044   7C005CE3           CMP      R12,#+124
   \   00000048   0600000A           BEQ      ??get_bookmark_2
   1487            while(search[w]!='|')
   1488            {
   1489              path[q]=search[w];
   \                     ??get_bookmark_3:
   \   0000004C   03C0D0E7           LDRB     R12,[R0, +R3]
   1490              q++;
   1491              w++;
   \   00000050   010080E2           ADD      R0,R0,#+1
   \   00000054   01C0C2E7           STRB     R12,[R2, +R1]
   1492            }
   \   00000058   03C0D0E7           LDRB     R12,[R0, +R3]
   \   0000005C   012082E2           ADD      R2,R2,#+1
   \   00000060   7C005CE3           CMP      R12,#+124
   \   00000064   F8FFFF1A           BNE      ??get_bookmark_3
   1493            path[q]='\0';
   \                     ??get_bookmark_2:
   \   00000068   0140C2E7           STRB     R4,[R2, +R1]
   1494            serti=w+3;
   \   0000006C   ........           LDR      R1,??DataTable101  ;; serti
   \   00000070   030080E2           ADD      R0,R0,#+3
   \   00000074   000081E5           STR      R0,[R1, #+0]
   1495            book_show++;
   \   00000078   ........           LDR      R0,??DataTable100  ;; book_show
   \   0000007C   001090E5           LDR      R1,[R0, #+0]
   \   00000080   011081E2           ADD      R1,R1,#+1
   \   00000084   001080E5           STR      R1,[R0, #+0]
   1496          }
   \   00000088   1000BDE8           POP      {R4}
   \   0000008C   1EFF2FE1           BX       LR               ;; return
   1497          

   \                                 In segment CODE, align 4, keep-with-next
   1498          void load_bookmark_list()
   1499          {
   \                     load_bookmark_list:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1500              int f;
   1501              int fsize;
   1502              FSTATS stat;
   1503              unsigned int ul;
   1504              GetFileStats(bokmark_list_path,&stat,&ul);
   \   00000004   9C419FE5           LDR      R4,??load_bookmark_list_0  ;; bokmark_list_path
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0D20A0E1           MOV      R2,SP
   \   00000010   04108DE2           ADD      R1,SP,#+4
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   840000EF           SWI      +132
   1505              if(stat.size>0)
   \   0000001C   08009DE5           LDR      R0,[SP, #+8]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   5D00000A           BEQ      ??load_bookmark_list_1
   1506              {
   1507                f=fopen(bokmark_list_path,A_ReadOnly+A_BIN,P_READ,&ul);
   \   00000028   0D30A0E1           MOV      R3,SP
   \   0000002C   8020A0E3           MOV      R2,#+128
   \   00000030   801CA0E3           MOV      R1,#+32768
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   0A0000EF           SWI      +10
   1508                fsize=stat.size;
   \   0000003C   08609DE5           LDR      R6,[SP, #+8]
   \   00000040   0050A0E1           MOV      R5,R0
   1509                char *p=malloc(fsize);
   \   00000044   0600A0E1           MOV      R0,R6
   \   00000048   140000EF           SWI      +20
   \   0000004C   0040A0E1           MOV      R4,R0
   1510                p[fread(f,p,fsize,&ul)];
   \   00000050   0D30A0E1           MOV      R3,SP
   \   00000054   0620A0E1           MOV      R2,R6
   \   00000058   0410A0E1           MOV      R1,R4
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   0B0000EF           SWI      +11
   1511                fclose(f,&ul);
   \   00000064   0500A0E1           MOV      R0,R5
   1512                serti=0;
   \   00000068   ........           LDR      R5,??DataTable101  ;; serti
   \   0000006C   0D10A0E1           MOV      R1,SP
   \   00000070   0D0000EF           SWI      +13
   \   00000074   0000A0E3           MOV      R0,#+0
   \   00000078   000085E5           STR      R0,[R5, #+0]
   1513                if(serti<fsize-2) get_bookmark(BM1NAME, BM1FILE, serti, p);
   \   0000007C   026046E2           SUB      R6,R6,#+2
   \   00000080   010056E3           CMP      R6,#+1
   \   00000084   040000BA           BLT      ??load_bookmark_list_2
   \   00000088   ........           LDR      R1,??DataTable102  ;; BM1FILE
   \   0000008C   ........           LDR      R0,??DataTable103  ;; BM1NAME
   \   00000090   0430A0E1           MOV      R3,R4
   \   00000094   0020A0E3           MOV      R2,#+0
   \   00000098   ........           BL       get_bookmark
   1514                if(serti<fsize-2) get_bookmark(BM2NAME, BM2FILE, serti, p);
   \                     ??load_bookmark_list_2:
   \   0000009C   002095E5           LDR      R2,[R5, #+0]
   \   000000A0   060052E1           CMP      R2,R6
   \   000000A4   030000AA           BGE      ??load_bookmark_list_3
   \   000000A8   ........           LDR      R1,??DataTable104  ;; BM2FILE
   \   000000AC   ........           LDR      R0,??DataTable105  ;; BM2NAME
   \   000000B0   0430A0E1           MOV      R3,R4
   \   000000B4   ........           BL       get_bookmark
   1515                if(serti<fsize-2) get_bookmark(BM3NAME, BM3FILE, serti, p);
   \                     ??load_bookmark_list_3:
   \   000000B8   002095E5           LDR      R2,[R5, #+0]
   \   000000BC   060052E1           CMP      R2,R6
   \   000000C0   030000AA           BGE      ??load_bookmark_list_4
   \   000000C4   ........           LDR      R1,??DataTable106  ;; BM3FILE
   \   000000C8   ........           LDR      R0,??DataTable107  ;; BM3NAME
   \   000000CC   0430A0E1           MOV      R3,R4
   \   000000D0   ........           BL       get_bookmark
   1516                if(serti<fsize-2) get_bookmark(BM4NAME, BM4FILE, serti, p);
   \                     ??load_bookmark_list_4:
   \   000000D4   002095E5           LDR      R2,[R5, #+0]
   \   000000D8   060052E1           CMP      R2,R6
   \   000000DC   030000AA           BGE      ??load_bookmark_list_5
   \   000000E0   ........           LDR      R1,??DataTable108  ;; BM4FILE
   \   000000E4   ........           LDR      R0,??DataTable109  ;; BM4NAME
   \   000000E8   0430A0E1           MOV      R3,R4
   \   000000EC   ........           BL       get_bookmark
   1517                if(serti<fsize-2) get_bookmark(BM5NAME, BM5FILE, serti, p);
   \                     ??load_bookmark_list_5:
   \   000000F0   002095E5           LDR      R2,[R5, #+0]
   \   000000F4   060052E1           CMP      R2,R6
   \   000000F8   030000AA           BGE      ??load_bookmark_list_6
   \   000000FC   ........           LDR      R1,??DataTable110  ;; BM5FILE
   \   00000100   ........           LDR      R0,??DataTable111  ;; BM5NAME
   \   00000104   0430A0E1           MOV      R3,R4
   \   00000108   ........           BL       get_bookmark
   1518                if(serti<fsize-2) get_bookmark(BM6NAME, BM6FILE, serti, p);
   \                     ??load_bookmark_list_6:
   \   0000010C   002095E5           LDR      R2,[R5, #+0]
   \   00000110   060052E1           CMP      R2,R6
   \   00000114   030000AA           BGE      ??load_bookmark_list_7
   \   00000118   ........           LDR      R1,??DataTable112  ;; BM6FILE
   \   0000011C   ........           LDR      R0,??DataTable113  ;; BM6NAME
   \   00000120   0430A0E1           MOV      R3,R4
   \   00000124   ........           BL       get_bookmark
   1519                if(serti<fsize-2) get_bookmark(BM7NAME, BM7FILE, serti, p);
   \                     ??load_bookmark_list_7:
   \   00000128   002095E5           LDR      R2,[R5, #+0]
   \   0000012C   060052E1           CMP      R2,R6
   \   00000130   030000AA           BGE      ??load_bookmark_list_8
   \   00000134   ........           LDR      R1,??DataTable114  ;; BM7FILE
   \   00000138   ........           LDR      R0,??DataTable115  ;; BM7NAME
   \   0000013C   0430A0E1           MOV      R3,R4
   \   00000140   ........           BL       get_bookmark
   1520                if(serti<fsize-2) get_bookmark(BM8NAME, BM8FILE, serti, p);
   \                     ??load_bookmark_list_8:
   \   00000144   002095E5           LDR      R2,[R5, #+0]
   \   00000148   060052E1           CMP      R2,R6
   \   0000014C   030000AA           BGE      ??load_bookmark_list_9
   \   00000150   ........           LDR      R1,??DataTable116  ;; BM8FILE
   \   00000154   ........           LDR      R0,??DataTable117  ;; BM8NAME
   \   00000158   0430A0E1           MOV      R3,R4
   \   0000015C   ........           BL       get_bookmark
   1521                if(serti<fsize-2) get_bookmark(BM9NAME, BM9FILE, serti, p);
   \                     ??load_bookmark_list_9:
   \   00000160   002095E5           LDR      R2,[R5, #+0]
   \   00000164   060052E1           CMP      R2,R6
   \   00000168   030000AA           BGE      ??load_bookmark_list_10
   \   0000016C   ........           LDR      R1,??DataTable118  ;; BM9FILE
   \   00000170   ........           LDR      R0,??DataTable119  ;; BM9NAME
   \   00000174   0430A0E1           MOV      R3,R4
   \   00000178   ........           BL       get_bookmark
   1522                if(serti<fsize-2) get_bookmark(BM0NAME, BM0FILE, serti, p);
   \                     ??load_bookmark_list_10:
   \   0000017C   002095E5           LDR      R2,[R5, #+0]
   \   00000180   060052E1           CMP      R2,R6
   \   00000184   030000AA           BGE      ??load_bookmark_list_11
   \   00000188   ........           LDR      R1,??DataTable120  ;; BM0FILE
   \   0000018C   ........           LDR      R0,??DataTable121  ;; BM0NAME
   \   00000190   0430A0E1           MOV      R3,R4
   \   00000194   ........           BL       get_bookmark
   1523                mfree(p);
   \                     ??load_bookmark_list_11:
   \   00000198   0400A0E1           MOV      R0,R4
   \   0000019C   150000EF           SWI      +21
   1524              }
   1525          }
   \                     ??load_bookmark_list_1:
   \   000001A0   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   000001A4   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??load_bookmark_list_0:
   \   000001A8   ........           DC32     bokmark_list_path
   1526          

   \                                 In segment CODE, align 4, keep-with-next
   1527          void DoSplices(void)
   1528          {
   1529            extern const int SHOW_DAEMONS;
   1530            extern int show_daemons;
   1531            show_daemons=SHOW_DAEMONS;
   \                     DoSplices:
   \   00000000   ........           LDR      R0,??DataTable122  ;; show_daemons
   \   00000004   04119FE5           LDR      R1,??DoSplices_0  ;; SHOW_DAEMONS
   \   00000008   70402DE9           PUSH     {R4-R6,LR}
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   001091E5           LDR      R1,[R1, #+0]
   \   00000014   001080E5           STR      R1,[R0, #+0]
   1532            LockSched();
   \   00000018   460100EF           SWI      +326
   1533            if (!AddKeybMsgHook_end((void *)my_keyhook))
   \   0000001C   ........           LDR      R0,??DataTable123  ;; my_keyhook
   \   00000020   2C0100EF           SWI      +300
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   0600001A           BNE      ??DoSplices_1
   1534            {
   1535              ShowMSG(1,(int)"Cant Start Elf!");
   \   0000002C   E0109FE5           LDR      R1,??DoSplices_0+0x4  ;; `?<Constant "Cant Start Elf!">`
   \   00000030   0100A0E3           MOV      R0,#+1
   \   00000034   480100EF           SWI      +328
   1536              SUBPROC((void *)ElfKiller);
   \   00000038   D8009FE5           LDR      R0,??DoSplices_0+0x8  ;; ElfKiller
   \   0000003C   710100EF           SWI      +369
   \   00000040   470100EF           SWI      +327
   \   00000044   7180BDE8           POP      {R0,R4-R6,PC}
   1537            }
   1538            else
   1539            {
   1540              {
   1541                CSM_RAM *icsm=FindCSMbyID(CSM_root()->idle_id);
   1542                memcpy(&icsmd,icsm->constr,sizeof(icsmd));
   \                     ??DoSplices_1:
   \   00000048   CC509FE5           LDR      R5,??DoSplices_0+0xC  ;; icsmd
   1543                old_icsm_onClose=icsmd.onClose;
   1544                old_icsm_onMessage=icsmd.onMessage;
   1545                icsmd.onClose=MyIDLECSM_onClose;
   1546                icsmd.onMessage=MyIDLECSM_onMessage;
   1547                icsm->constr=&icsmd;
   1548              }
   1549              load_icon_list();
   1550              load_bookmark_list();
   1551              under_idle=GetUnderIdleCSM(); //???? idle_dialog
   1552              int f;
   1553            int sz=0;
   1554            unsigned int ul;
   1555            extern const char csmlist_fname[128];
   1556            extern char csm_text[32768];
   1557            if ((f=fopen(csmlist_fname,A_ReadOnly+A_BIN,P_READ,&ul))!=-1)
   \   0000004C   CC609FE5           LDR      R6,??DoSplices_0+0x10  ;; csm_text
   \   00000050   068100EF           SWI      +33030
   \   00000054   040090E5           LDR      R0,[R0, #+4]
   \   00000058   080100EF           SWI      +264
   \   0000005C   0040A0E1           MOV      R4,R0
   \   00000060   081094E5           LDR      R1,[R4, #+8]
   \   00000064   1820A0E3           MOV      R2,#+24
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   1E0100EF           SWI      +286
   \   00000070   ........           LDR      R0,??DataTable124  ;; old_icsm_onClose
   \   00000074   081095E5           LDR      R1,[R5, #+8]
   \   00000078   001080E5           STR      R1,[R0, #+0]
   \   0000007C   ........           LDR      R0,??DataTable125  ;; old_icsm_onMessage
   \   00000080   001095E5           LDR      R1,[R5, #+0]
   \   00000084   001080E5           STR      R1,[R0, #+0]
   \   00000088   94009FE5           LDR      R0,??DoSplices_0+0x14  ;; MyIDLECSM_onClose
   \   0000008C   080085E5           STR      R0,[R5, #+8]
   \   00000090   90009FE5           LDR      R0,??DoSplices_0+0x18  ;; MyIDLECSM_onMessage
   \   00000094   000085E5           STR      R0,[R5, #+0]
   \   00000098   085084E5           STR      R5,[R4, #+8]
   \   0000009C   ........           BL       load_icon_list
   \   000000A0   ........           BL       load_bookmark_list
   \   000000A4   ........           BL       GetUnderIdleCSM
   \   000000A8   7C109FE5           LDR      R1,??DoSplices_0+0x1C  ;; under_idle
   \   000000AC   0040A0E3           MOV      R4,#+0
   \   000000B0   000081E5           STR      R0,[R1, #+0]
   \   000000B4   74009FE5           LDR      R0,??DoSplices_0+0x20  ;; csmlist_fname
   \   000000B8   0D30A0E1           MOV      R3,SP
   \   000000BC   8020A0E3           MOV      R2,#+128
   \   000000C0   801CA0E3           MOV      R1,#+32768
   \   000000C4   0A0000EF           SWI      +10
   \   000000C8   0050A0E1           MOV      R5,R0
   \   000000CC   010075E3           CMN      R5,#+1
   \   000000D0   0A00000A           BEQ      ??DoSplices_2
   1558            {
   1559              sz=fread(f,csm_text,32767,&ul);
   \   000000D4   0D30A0E1           MOV      R3,SP
   \   000000D8   FF20A0E3           MOV      R2,#+255
   \   000000DC   7F2C82E3           ORR      R2,R2,#0x7F00
   \   000000E0   0610A0E1           MOV      R1,R6
   \   000000E4   0B0000EF           SWI      +11
   \   000000E8   0040A0E1           MOV      R4,R0
   1560              fclose(f,&ul);
   \   000000EC   0D10A0E1           MOV      R1,SP
   \   000000F0   0500A0E1           MOV      R0,R5
   \   000000F4   0D0000EF           SWI      +13
   1561            }
   1562            if (sz>=0) csm_text[sz]=0;
   \   000000F8   000054E3           CMP      R4,#+0
   \   000000FC   0100004A           BMI      ??DoSplices_3
   \                     ??DoSplices_2:
   \   00000100   0000A0E3           MOV      R0,#+0
   \   00000104   0600C4E7           STRB     R0,[R4, +R6]
   1563            
   1564            }
   1565            
   1566            UnlockSched();
   \                     ??DoSplices_3:
   \   00000108   470100EF           SWI      +327
   1567          }
   \   0000010C   7180BDE8           POP      {R0,R4-R6,PC}    ;; return
   \                     ??DoSplices_0:
   \   00000110   ........           DC32     SHOW_DAEMONS
   \   00000114   ........           DC32     `?<Constant "Cant Start Elf!">`
   \   00000118   ........           DC32     ElfKiller
   \   0000011C   ........           DC32     icsmd
   \   00000120   ........           DC32     csm_text
   \   00000124   ........           DC32     MyIDLECSM_onClose
   \   00000128   ........           DC32     MyIDLECSM_onMessage
   \   0000012C   ........           DC32     under_idle
   \   00000130   ........           DC32     csmlist_fname
   1568            

   \                                 In segment CODE, align 4, keep-with-next
   1569          void main(void)
   1570          {
   \                     main:
   \   00000000   00402DE9           PUSH     {LR}
   1571            if(ScreenW()>140)
   \   00000004   888100EF           SWI      +33160
   \   00000008   8D0050E3           CMP      R0,#+141
   \   0000000C   030000BA           BLT      ??main_0
   1572            {
   1573              ShowMSG(1,(int)"wrong display");
   \   00000010   48109FE5           LDR      R1,??main_1      ;; `?<Constant "wrong display">`
   \   00000014   0100A0E3           MOV      R0,#+1
   \   00000018   480100EF           SWI      +328
   \   0000001C   0080BDE8           POP      {PC}
   1574            }
   1575            else
   1576            {
   1577            mode=0;
   \                     ??main_0:
   \   00000020   ........           LDR      R0,??DataTable126  ;; mode
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   001080E5           STR      R1,[R0, #+0]
   1578            if (InitConfig()!=2) GBS_StartTimerProc(&start_tmr,TMR_SECOND(60),DoSplices);
   \   0000002C   ........           _BLF     InitConfig,??InitConfig??rA
   \   00000030   020050E3           CMP      R0,#+2
   \   00000034   0600000A           BEQ      ??main_2
   \   00000038   24209FE5           LDR      R2,??main_1+0x4  ;; DoSplices
   \   0000003C   ........           LDR      R0,??DataTable127  ;; start_tmr
   \   00000040   C810A0E3           MOV      R1,#+200
   \   00000044   C81D81E3           ORR      R1,R1,#0x3200
   \   00000048   4D0000EF           SWI      +77
   \   0000004C   0040BDE8           POP      {LR}             ;; Pop
   \   00000050   ........           B        init_turnoff     ;; tailcall
   1579            else DoSplices();
   \                     ??main_2:
   \   00000054   ........           BL       DoSplices
   1580            init_turnoff();
   \   00000058   0040BDE8           POP      {LR}             ;; Pop
   \   0000005C   ........           B        init_turnoff     ;; tailcall
   \                     ??main_1:
   \   00000060   ........           DC32     `?<Constant "wrong display">`
   \   00000064   ........           DC32     DoSplices
   1581            }
   1582          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   ........           DC32     shutdown1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   ........           DC32     shutdown2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32     reboot1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   ........           DC32     reboot2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   ........           DC32     BM1FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   ........           DC32     BM2FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   ........           DC32     BM3FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   ........           DC32     BM4FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable8:
   \   00000000   ........           DC32     BM5FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable9:
   \   00000000   ........           DC32     BM6FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable10:
   \   00000000   ........           DC32     BM7FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   ........           DC32     BM8FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable12:
   \   00000000   ........           DC32     BM9FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable13:
   \   00000000   ........           DC32     BM0FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable15:
   \   00000000   ........           DC32     total_d

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable16:
   \   00000000   ........           DC32     screen2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable17:
   \   00000000   ........           DC32     background_img

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable18:
   \   00000000   ........           DC32     tasks_img

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable19:
   \   00000000   ........           DC32     bookmarks_img

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable20:
   \   00000000   ........           DC32     nltop

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable21:
   \   00000000   ........           DC32     shutd

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable22:
   \   00000000   ........           DC32     icon_text

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable23:
   \   00000000   ........           DC32     sm

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable24:
   \   00000000   ........           DC32     forward

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable26:
   \   00000000   ........           DC32     screen2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable27:
   \   00000000   ........           DC32     book_show

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable28:
   \   00000000   ........           DC32     BM1NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   ........           DC32     BM2NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable30:
   \   00000000   ........           DC32     BM3NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable31:
   \   00000000   ........           DC32     BM4NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable32:
   \   00000000   ........           DC32     BM5NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable33:
   \   00000000   ........           DC32     BM6NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable34:
   \   00000000   ........           DC32     BM7NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable35:
   \   00000000   ........           DC32     BM8NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable36:
   \   00000000   ........           DC32     BM9NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable37:
   \   00000000   ........           DC32     BM0NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable39:
   \   00000000   ........           DC32     shutdown1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable40:
   \   00000000   ........           DC32     reboot2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable41:
   \   00000000   ........           DC32     shutdown2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable42:
   \   00000000   ........           DC32     reboot1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable43:
   \   00000000   ........           DC32     time_not

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable50:
   \   00000000   ........           DC32     book_show

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable58:
   \   00000000   ........           DC32     show_daemons

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable60:
   \   00000000   ........           DC32     nltop

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable63:
   \   00000000   ........           DC32     redrit

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable64:
   \   00000000   ........           DC32     start_tmr

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable69:
   \   00000000   ........           DC32     shutd

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable73:
   \   00000000   ........           DC32     pos

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable74:
   \   00000000   ........           DC32     move_skip

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable77:
   \   00000000   ........           DC32     time_not

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable78:
   \   00000000   ........           DC32     sm

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable79:
   \   00000000   ........           DC32     forward

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable82:
   \   00000000   ........           DC32     task_list

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable86:
   \   00000000   ........           DC32     total_d

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable87:
   \   00000000   ........           DC32     total_pos

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable88:
   \   00000000   ........           DC32     ACTIVE_KEY_STYLE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable89:
   \   00000000   ........           DC32     ACTIVE_KEY

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable90:
   \   00000000   ........           DC32     task_list

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable92:
   \   00000000   ........           DC32     successed_config_filename

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable93:
   \   00000000   ........           DC32     MAINCSM_ID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable96:
   \   00000000   ........           DC32     ELF_BEGIN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable98:
   \   00000000   ........           DC32     icon_text

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable100:
   \   00000000   ........           DC32     book_show

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable101:
   \   00000000   ........           DC32     serti

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable102:
   \   00000000   ........           DC32     BM1FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable103:
   \   00000000   ........           DC32     BM1NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable104:
   \   00000000   ........           DC32     BM2FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable105:
   \   00000000   ........           DC32     BM2NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable106:
   \   00000000   ........           DC32     BM3FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable107:
   \   00000000   ........           DC32     BM3NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable108:
   \   00000000   ........           DC32     BM4FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable109:
   \   00000000   ........           DC32     BM4NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable110:
   \   00000000   ........           DC32     BM5FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable111:
   \   00000000   ........           DC32     BM5NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable112:
   \   00000000   ........           DC32     BM6FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable113:
   \   00000000   ........           DC32     BM6NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable114:
   \   00000000   ........           DC32     BM7FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable115:
   \   00000000   ........           DC32     BM7NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable116:
   \   00000000   ........           DC32     BM8FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable117:
   \   00000000   ........           DC32     BM8NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable118:
   \   00000000   ........           DC32     BM9FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable119:
   \   00000000   ........           DC32     BM9NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable120:
   \   00000000   ........           DC32     BM0FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable121:
   \   00000000   ........           DC32     BM0NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable122:
   \   00000000   ........           DC32     show_daemons

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable123:
   \   00000000   ........           DC32     my_keyhook

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable124:
   \   00000000   ........           DC32     old_icsm_onClose

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable125:
   \   00000000   ........           DC32     old_icsm_onMessage

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable126:
   \   00000000   ........           DC32     mode

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable127:
   \   00000000   ........           DC32     start_tmr

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for time_not>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for screen2>`:
   \   00000000   0000               DC8 0, 0
   \   00000002   0800               DC16 8
   \   00000004   ........           DC32 `?<Constant "">`

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for task_list>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for pos>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for total_pos>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for shf1>`:
   \   00000000   3C000000           DC32 60

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for shf2>`:
   \   00000000   5B000000           DC32 91

   \                                 In segment DATA_C, align 1, align-sorted
   \                     `?<Constant "||">`:
   \   00000000   7C7C00             DC8 "||"

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   4D4300             DC8 "MC"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "SieJC">`:
   \   00000000   5369654A4300       DC8 "SieJC"
   \   00000006   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "NATICQ">`:
   \   00000000   4E4154494351       DC8 "NATICQ"
   \              00          
   \   00000007   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "reboot2.png">`:
   \   00000000   7265626F6F74       DC8 "reboot2.png"
   \              322E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "reboot1.png">`:
   \   00000000   7265626F6F74       DC8 "reboot1.png"
   \              312E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "shutdown2.png">`:
   \   00000000   73687574646F       DC8 "shutdown2.png"
   \              776E322E706E
   \              6700        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "shutdown1.png">`:
   \   00000000   73687574646F       DC8 "shutdown1.png"
   \              776E312E706E
   \              6700        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%s%s">`:
   \   00000000   2573257300         DC8 "%s%s"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \                     `?<Constant "">`:
   \   00000000   00                 DC8 ""

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "wrong display">`:
   \   00000000   77726F6E6720       DC8 "wrong display"
   \              646973706C61
   \              7900        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Cant Start Elf!">`:
   \   00000000   43616E742053       DC8 "Cant Start Elf!"
   \              746172742045
   \              6C662100    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "XTask config updated!">`:
   \   00000000   585461736B20       DC8 "XTask config updated!"
   \              636F6E666967
   \              207570646174
   \              65642100    
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%08X">`:
   \   00000000   2530385800         DC8 "%08X"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "xtask 3 mod">`:
   \   00000000   787461736B20       DC8 "xtask 3 mod"
   \              33206D6F6400

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%02d:%02d:%02d">`:
   \   00000000   253032643A25       DC8 "%02d:%02d:%02d"
   \              3032643A2530
   \              326400      
   \   0000000F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   25642500           DC8 "%d%"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Ram:%dKb">`:
   \   00000000   52616D3A2564       DC8 "Ram:%dKb"
   \              4B6200      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "T:%d">`:
   \   00000000   543A256400         DC8 "T:%d"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Tasks:%d">`:
   \   00000000   5461736B733A       DC8 "Tasks:%d"
   \              256400      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   424D3A00           DC8 "BM:"

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   4D433A00           DC8 "MC:"

   Maximum stack usage in bytes:

     Function            CSTACK
     --------            ------
     DoScreen2              20
     DoSplices              20
     DrwImg3                64
     ElfKiller               4
     GetUnderIdleCSM        12
     MyIDLECSM_onClose       8
     MyIDLECSM_onMessage    40
     OnKey                  36
     OnRedraw              128
     SearchIcon            288
     ShowMenu               52
     Start_bookmark          8
     UpdateCSMname           8
     get_bookmark            4
     init_turnoff           12
     load_bookmark_list     60
     load_icon_list         60
     main                    4
     maincsm_onclose         0
     maincsm_oncreate       20
     maincsm_onmessage       0
     method8                 0
     method9                 0
     my_keyhook             36
     onClose                 8
     onCreate                0
     onFocus                 0
     onUnfocus               0
     redrit                  4
     strcmp_nocase           0
     task_list3             12


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     shutdown1                        128
     shutdown2                        128
     reboot1                          128
     reboot2                          128
     book_show                          4
     time_not                           4
     start_tmr                         16
     init_turnoff                     120
     BM1NAME                           32
     BM1FILE                          128
     BM2NAME                           32
     BM2FILE                          128
     BM3NAME                           32
     BM3FILE                          128
     BM4NAME                           32
     BM4FILE                          128
     BM5NAME                           32
     BM5FILE                          128
     BM6NAME                           32
     BM6FILE                          128
     BM7NAME                           32
     BM7FILE                          128
     BM8NAME                           32
     BM8FILE                          128
     BM9NAME                           32
     BM9FILE                          128
     BM0NAME                           32
     BM0FILE                          128
     Start_bookmark                   264
     screen2                            8
     tasks                              4
     icon_text                      32768
     task_list                          4
     DrwImg3                           92
     DoScreen2                         76
     minus11                            4
     maincsm_name_body                280
     MAINCSM_ID                         4
     pos                                4
     total_pos                          4
     total_d                            4
     move_skip                          4
     sm                                 4
     forward                            4
     halt                               4
     shutd                              4
     logout                             4
     shf1                               4
     shf2                               4
     task_list3                       184
     SearchIcon                       368
     OnRedraw                        4160
     onCreate                          12
     onClose                           32
     onFocus                           12
     onUnfocus                         20
     closing                            4
     show_daemons                       4
     redrit                            12
     OnKey                           1572
     ElfKiller                         24
     method8                            8
     method9                            8
     gui_methods                       44
     Canvas                             8
     maincsm_oncreate                 120
     maincsm_onclose                    4
     maincsm_onmessage                 56
     MAINCSM                           44
     UpdateCSMname                     48
     GetUnderIdleCSM                  156
     SHOW_LOCK                          4
     icsmd                             24
     old_icsm_onMessage                 4
     old_icsm_onClose                   4
     under_idle                         4
     mode                               4
     mode_red                           4
     mode_enter                         4
     ShowMenu                         152
     my_keyhook                       676
     callhide_mode                      4
     ??strcmp_nocase_0                 76
     my_ipc_name                        8
     MyIDLECSM_onMessage              640
     MyIDLECSM_onClose                 56
     load_icon_list                   156
     serti                              4
     get_bookmark                     144
     load_bookmark_list               428
     DoSplices                        308
     main                             104
     ??DataTable0                       4
     ??DataTable1                       4
     ??DataTable2                       4
     ??DataTable3                       4
     ??DataTable4                       4
     ??DataTable5                       4
     ??DataTable6                       4
     ??DataTable7                       4
     ??DataTable8                       4
     ??DataTable9                       4
     ??DataTable10                      4
     ??DataTable11                      4
     ??DataTable12                      4
     ??DataTable13                      4
     ??DataTable15                      4
     ??DataTable16                      4
     ??DataTable17                      4
     ??DataTable18                      4
     ??DataTable19                      4
     ??DataTable20                      4
     ??DataTable21                      4
     ??DataTable22                      4
     ??DataTable23                      4
     ??DataTable24                      4
     ??DataTable26                      4
     ??DataTable27                      4
     ??DataTable28                      4
     ??DataTable29                      4
     ??DataTable30                      4
     ??DataTable31                      4
     ??DataTable32                      4
     ??DataTable33                      4
     ??DataTable34                      4
     ??DataTable35                      4
     ??DataTable36                      4
     ??DataTable37                      4
     ??DataTable39                      4
     ??DataTable40                      4
     ??DataTable41                      4
     ??DataTable42                      4
     ??DataTable43                      4
     ??DataTable50                      4
     ??DataTable58                      4
     ??DataTable60                      4
     ??DataTable63                      4
     ??DataTable64                      4
     ??DataTable69                      4
     ??DataTable73                      4
     ??DataTable74                      4
     ??DataTable77                      4
     ??DataTable78                      4
     ??DataTable79                      4
     ??DataTable82                      4
     ??DataTable86                      4
     ??DataTable87                      4
     ??DataTable88                      4
     ??DataTable89                      4
     ??DataTable90                      4
     ??DataTable92                      4
     ??DataTable93                      4
     ??DataTable96                      4
     ??DataTable98                      4
     ??DataTable100                     4
     ??DataTable101                     4
     ??DataTable102                     4
     ??DataTable103                     4
     ??DataTable104                     4
     ??DataTable105                     4
     ??DataTable106                     4
     ??DataTable107                     4
     ??DataTable108                     4
     ??DataTable109                     4
     ??DataTable110                     4
     ??DataTable111                     4
     ??DataTable112                     4
     ??DataTable113                     4
     ??DataTable114                     4
     ??DataTable115                     4
     ??DataTable116                     4
     ??DataTable117                     4
     ??DataTable118                     4
     ??DataTable119                     4
     ??DataTable120                     4
     ??DataTable121                     4
     ??DataTable122                     4
     ??DataTable123                     4
     ??DataTable124                     4
     ??DataTable125                     4
     ??DataTable126                     4
     ??DataTable127                     4
     ?<Initializer for time_not>        4
     ?<Initializer for screen2>         8
     ?<Initializer for task_list>       4
     ?<Initializer for pos>             4
     ?<Initializer for total_pos>       4
     ?<Initializer for shf1>            4
     ?<Initializer for shf2>            4
     ?<Constant "||">                   3
     ?<Constant "MC">                   3
     ?<Constant "SieJC">                8
     ?<Constant "NATICQ">               8
     ?<Constant "reboot2.png">         12
     ?<Constant "reboot1.png">         12
     ?<Constant "shutdown2.png">       16
     ?<Constant "shutdown1.png">       16
     ?<Constant "%s%s">                 8
     ?<Constant "">                     1
     ?<Constant "wrong display">       16
     ?<Constant "Cant Start Elf!">     16
     ?<Constant "XTask config updated!">
                                       24
     ?<Constant "%08X">                 8
     ?<Constant "xtask 3 mod">         12
     ?<Constant "%02d:%02d:%02d">      16
     ?<Constant "%d%">                  4
     ?<Constant "Ram:%dKb">            12
     ?<Constant "T:%d">                 8
     ?<Constant "Tasks:%d">            12
     ?<Constant "BM:">                  4
     ?<Constant "MC:">                  4
      Others                          268

 
 10 692 bytes in segment CODE
    331 bytes in segment DATA_C
     32 bytes in segment DATA_I
     32 bytes in segment DATA_ID
 35 284 bytes in segment DATA_Z
     24 bytes in segment INITTAB
 
 10 448 bytes of CODE  memory (+ 268 bytes shared)
    363 bytes of CONST memory
 35 316 bytes of DATA  memory

Errors: none
Warnings: 1
