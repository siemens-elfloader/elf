##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    12/Feb/2010  22:12:13 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  C:\arm\ubuntu_xtask3_mod\main.c                      #
#    Command line    =  C:\arm\ubuntu_xtask3_mod\main.c -D NEWSGOLD -D       #
#                       EVILFOX -D ELKA -lC C:\arm\ubuntu_xtask3_mod\Release #
#                       \List\ -o C:\arm\ubuntu_xtask3_mod\Release\Obj\ -s9  #
#                       --no_unroll --no_clustering --cpu_mode arm --endian  #
#                       little --cpu ARM926EJ-S --stack_align 4 --interwork  #
#                       -e --fpu None --dlib_config "C:\arm2\Embedded        #
#                       Workbench 4.0 Evaluation\ARM\LIB\dl5tpainl8n.h" -I   #
#                       "C:\arm2\Embedded Workbench 4.0                      #
#                       Evaluation\ARM\INC\" --inline_threshold=2            #
#    List file       =  C:\arm\ubuntu_xtask3_mod\Release\List\main.lst       #
#    Object file     =  C:\arm\ubuntu_xtask3_mod\Release\Obj\main.r79        #
#                                                                            #
#                                                                            #
##############################################################################

C:\arm\ubuntu_xtask3_mod\main.c
      1          #include "..\inc\swilib.h"
      2          #include "..\inc\xtask_ipc.h"
      3          #include "swaper.h"
      4          #include "gui.h"
      5          #include "main.h"
      6          #include "conf_loader.h"
      7          #include "reboot_loader.h"
      8          
      9          extern const char background_img[128];
     10          extern const char cursor_img[128];
     11          extern const char icon_list_path[128];
     12          extern const char bokmark_list_path[128];
     13          extern const char selection_img[128];

   \                                 In segment DATA_Z, align 4, align-sorted
     14          char shutdown1[128];
   \                     shutdown1:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     15          char shutdown2[128];
   \                     shutdown2:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     16          char reboot1[128];
   \                     reboot1:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     17          char reboot2[128];
   \                     reboot2:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     18          int book_show;
   \                     book_show:
   \   00000000                      DS8 4

   \                                 In segment DATA_I, align 4, align-sorted
     19          int time_not=1;
   \                     time_not:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for time_not>`
     20          extern const int style;

   \                                 In segment DATA_Z, align 4, align-sorted
     21          GBSTMR start_tmr;
   \                     start_tmr:
   \   00000000                      DS8 16
     22          extern const char ctasks[4];
     23          extern const char cdaemons[4];
     24          extern const char cinfo[4];
     25          extern const char turnoff_path[128];
     26          extern const int cleseri;
     27          extern const int use_idle;

   \                                 In segment DATA_Z, align 4, align-sorted
     28          int lock_other;
   \                     lock_other:
   \   00000000                      DS8 4
     29          

   \                                 In segment CODE, align 4, keep-with-next
     30          void init_turnoff()
     31          {
     32            sprintf(shutdown1, "%s%s", turnoff_path, "shutdown1.png");
   \                     init_turnoff:
   \   00000000   44309FE5           LDR      R3,??init_turnoff_0  ;; `?<Constant "shutdown1.png">`
   \   00000004   ........           LDR      R0,??DataTable0  ;; shutdown1
   \   00000008   30402DE9           PUSH     {R4,R5,LR}
   \   0000000C   3C409FE5           LDR      R4,??init_turnoff_0+0x4  ;; `?<Constant "%s%s">`
   \   00000010   3C509FE5           LDR      R5,??init_turnoff_0+0x8  ;; turnoff_path
   \   00000014   0410A0E1           MOV      R1,R4
   \   00000018   0520A0E1           MOV      R2,R5
   \   0000001C   160000EF           SWI      +22
     33            sprintf(shutdown2, "%s%s", turnoff_path, "shutdown_logo.png");
   \   00000020   30309FE5           LDR      R3,??init_turnoff_0+0xC  ;; `?<Constant "shutdown_logo.png">`
   \   00000024   ........           LDR      R0,??DataTable18  ;; shutdown2
   \   00000028   0520A0E1           MOV      R2,R5
   \   0000002C   0410A0E1           MOV      R1,R4
   \   00000030   160000EF           SWI      +22
     34            sprintf(reboot1, "%s%s", turnoff_path, "reboot1.png");
   \   00000034   20309FE5           LDR      R3,??init_turnoff_0+0x10  ;; `?<Constant "reboot1.png">`
   \   00000038   ........           LDR      R0,??DataTable2  ;; reboot1
   \   0000003C   0520A0E1           MOV      R2,R5
   \   00000040   0410A0E1           MOV      R1,R4
   \   00000044   160000EF           SWI      +22
     35          }
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??init_turnoff_0:
   \   0000004C   ........           DC32     `?<Constant "shutdown1.png">`
   \   00000050   ........           DC32     `?<Constant "%s%s">`
   \   00000054   ........           DC32     turnoff_path
   \   00000058   ........           DC32     `?<Constant "shutdown_logo.png">`
   \   0000005C   ........           DC32     `?<Constant "reboot1.png">`
     36          
     37          
     38          //=================================bookmarks

   \                                 In segment DATA_Z, align 4, align-sorted
     39          char BM1NAME[32];
   \                     BM1NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     40          char BM1FILE[128];
   \                     BM1FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     41          char BM2NAME[32];
   \                     BM2NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     42          char BM2FILE[128];
   \                     BM2FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     43          char BM3NAME[32];
   \                     BM3NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     44          char BM3FILE[128];
   \                     BM3FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     45          char BM4NAME[32];
   \                     BM4NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     46          char BM4FILE[128];
   \                     BM4FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     47          char BM5NAME[32];
   \                     BM5NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     48          char BM5FILE[128];
   \                     BM5FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     49          char BM6NAME[32];
   \                     BM6NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     50          char BM6FILE[128];
   \                     BM6FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     51          char BM7NAME[32];
   \                     BM7NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     52          char BM7FILE[128];
   \                     BM7FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     53          char BM8NAME[32];
   \                     BM8NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     54          char BM8FILE[128];
   \                     BM8FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     55          char BM9NAME[32];
   \                     BM9NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     56          char BM9FILE[128];
   \                     BM9FILE:
   \   00000000                      DS8 128

   \                                 In segment DATA_Z, align 4, align-sorted
     57          char BM0NAME[32];
   \                     BM0NAME:
   \   00000000                      DS8 32

   \                                 In segment DATA_Z, align 4, align-sorted
     58          char BM0FILE[128];
   \                     BM0FILE:
   \   00000000                      DS8 128
     59          

   \                                 In segment CODE, align 4, keep-with-next
     60          void Start_bookmark(int casa)
     61          {
   \                     Start_bookmark:
   \   00000000   10402DE9           PUSH     {R4,LR}
     62            switch(casa)
   \   00000004   010040E2           SUB      R0,R0,#+1
   \   00000008   090050E3           CMP      R0,#+9
   \   0000000C   1080BD88           POPHI    {R4,PC}
   \   00000010   011F8FE2           ADR      R1,??Start_bookmark_0
   \   00000014   0010D1E7           LDRB     R1,[R1, R0]
   \   00000018   01F18FE0           ADD      PC,PC,R1, LSL #+2
   \                     ??Start_bookmark_0:
   \   0000001C   02061216           DC8      +2,+6,+18,+22
   \   00000020   1A1E2226           DC8      +26,+30,+34,+38
   \   00000024   2A2E0000           DC8      +42,+46,+0,+0
     63            {
     64            case 1:
     65              {
     66              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_1:
   \   00000028   400FA0E3           MOV      R0,#+256
   \   0000002C   250100EF           SWI      +293
     67              wsprintf(elfname, BM1FILE);
   \   00000030   ........           LDR      R1,??DataTable3  ;; BM1FILE
   \   00000034   020000EA           B        ??Start_bookmark_2
     68              ExecuteFile(elfname,NULL,NULL);
     69              FreeWS(elfname);
     70              }
     71              break;
     72            case 2:
     73              {
     74              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_3:
   \   00000038   400FA0E3           MOV      R0,#+256
   \   0000003C   250100EF           SWI      +293
     75              wsprintf(elfname, BM2FILE);
   \   00000040   ........           LDR      R1,??DataTable4  ;; BM2FILE
   \                     ??Start_bookmark_2:
   \   00000044   0040A0E1           MOV      R4,R0
   \   00000048   240100EF           SWI      +292
     76              ExecuteFile(elfname,NULL,NULL);
   \   0000004C   0020A0E3           MOV      R2,#+0
   \   00000050   0010A0E3           MOV      R1,#+0
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   940000EF           SWI      +148
     77              FreeWS(elfname);
   \   0000005C   0400A0E1           MOV      R0,R4
   \   00000060   290100EF           SWI      +297
   \   00000064   1080BDE8           POP      {R4,PC}
     78              }
     79              break;
     80            case 3:
     81              {
     82              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_4:
   \   00000068   400FA0E3           MOV      R0,#+256
   \   0000006C   250100EF           SWI      +293
     83              wsprintf(elfname, BM3FILE);
   \   00000070   ........           LDR      R1,??DataTable5  ;; BM3FILE
   \   00000074   F2FFFFEA           B        ??Start_bookmark_2
     84              ExecuteFile(elfname,NULL,NULL);
     85              FreeWS(elfname);
     86              }
     87              break;
     88            case 4:
     89              {
     90              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_5:
   \   00000078   400FA0E3           MOV      R0,#+256
   \   0000007C   250100EF           SWI      +293
     91              wsprintf(elfname, BM4FILE);
   \   00000080   ........           LDR      R1,??DataTable6  ;; BM4FILE
   \   00000084   EEFFFFEA           B        ??Start_bookmark_2
     92              ExecuteFile(elfname,NULL,NULL);
     93              FreeWS(elfname);
     94              }
     95              break;
     96            case 5:
     97              {
     98              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_6:
   \   00000088   400FA0E3           MOV      R0,#+256
   \   0000008C   250100EF           SWI      +293
     99              wsprintf(elfname, BM5FILE);
   \   00000090   ........           LDR      R1,??DataTable7  ;; BM5FILE
   \   00000094   EAFFFFEA           B        ??Start_bookmark_2
    100              ExecuteFile(elfname,NULL,NULL);
    101              FreeWS(elfname);
    102              }
    103              break;
    104            case 6:
    105              {
    106              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_7:
   \   00000098   400FA0E3           MOV      R0,#+256
   \   0000009C   250100EF           SWI      +293
    107              wsprintf(elfname, BM6FILE);
   \   000000A0   ........           LDR      R1,??DataTable8  ;; BM6FILE
   \   000000A4   E6FFFFEA           B        ??Start_bookmark_2
    108              ExecuteFile(elfname,NULL,NULL);
    109              FreeWS(elfname);
    110              }
    111              break;
    112            case 7:
    113              {
    114              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_8:
   \   000000A8   400FA0E3           MOV      R0,#+256
   \   000000AC   250100EF           SWI      +293
    115              wsprintf(elfname, BM7FILE);
   \   000000B0   ........           LDR      R1,??DataTable9  ;; BM7FILE
   \   000000B4   E2FFFFEA           B        ??Start_bookmark_2
    116              ExecuteFile(elfname,NULL,NULL);
    117              FreeWS(elfname);
    118              }
    119              break;
    120            case 8:
    121              {
    122              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_9:
   \   000000B8   400FA0E3           MOV      R0,#+256
   \   000000BC   250100EF           SWI      +293
    123              wsprintf(elfname, BM8FILE);
   \   000000C0   ........           LDR      R1,??DataTable10  ;; BM8FILE
   \   000000C4   DEFFFFEA           B        ??Start_bookmark_2
    124              ExecuteFile(elfname,NULL,NULL);
    125              FreeWS(elfname);
    126              }
    127              break;
    128            case 9:
    129              {
    130              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_10:
   \   000000C8   400FA0E3           MOV      R0,#+256
   \   000000CC   250100EF           SWI      +293
    131              wsprintf(elfname, BM9FILE);
   \   000000D0   ........           LDR      R1,??DataTable11  ;; BM9FILE
   \   000000D4   DAFFFFEA           B        ??Start_bookmark_2
    132              ExecuteFile(elfname,NULL,NULL);
    133              FreeWS(elfname);
    134              }
    135              break;
    136            case 10:
    137              {
    138              WSHDR *elfname=AllocWS(256);
   \                     ??Start_bookmark_11:
   \   000000D8   400FA0E3           MOV      R0,#+256
   \   000000DC   250100EF           SWI      +293
    139              wsprintf(elfname, BM0FILE);
   \   000000E0   ........           LDR      R1,??DataTable12  ;; BM0FILE
   \   000000E4   0040A0E1           MOV      R4,R0
   \   000000E8   240100EF           SWI      +292
    140              ExecuteFile(elfname,NULL,NULL);
   \   000000EC   0020A0E3           MOV      R2,#+0
   \   000000F0   0010A0E3           MOV      R1,#+0
   \   000000F4   0400A0E1           MOV      R0,R4
   \   000000F8   940000EF           SWI      +148
    141              FreeWS(elfname);
   \   000000FC   0400A0E1           MOV      R0,R4
   \   00000100   290100EF           SWI      +297
    142              }
    143              break;
    144            }
    145          }
   \                     ??Start_bookmark_12:
   \   00000104   1080BDE8           POP      {R4,PC}          ;; return
    146          //=================================bookmarks
    147          
    148          

   \                                 In segment DATA_I, align 4, align-sorted
    149          IMGHDR screen2={0,0,8,""};
   \                     screen2:
   \   00000000                      DS8 12
   \   0000000C                      REQUIRE `?<Initializer for screen2>`

   \                                 In segment DATA_Z, align 4, align-sorted
    150          int tasks;
   \                     tasks:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    151          char icon_text[32768];
   \                     icon_text:
   \   00000000                      DS8 32768

   \                                 In segment DATA_I, align 4, align-sorted
    152          int task_list=1;
   \                     task_list:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for task_list>`
    153          

   \                                 In segment CODE, align 4, keep-with-next
    154          void DrwImg3(IMGHDR *img, int x, int y, char *pen, char *brush)
    155          {
   \                     DrwImg3:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   2CD04DE2           SUB      SP,SP,#+44
   \   00000008   3C609DE5           LDR      R6,[SP, #+60]
   \   0000000C   0040A0E1           MOV      R4,R0
    156            RECT rc;
    157            DRWOBJ drwobj;
    158            StoreXYWHtoRECT(&rc,x,y,img->w,img->h);
   \   00000010   B200D4E1           LDRH     R0,[R4, #+2]
   \   00000014   0350A0E1           MOV      R5,R3
   \   00000018   01002DE9           PUSH     {R0}
   \   0000001C   B030D4E1           LDRH     R3,[R4, #+0]
   \   00000020   04008DE2           ADD      R0,SP,#+4
   \   00000024   330100EF           SWI      +307
    159            SetPropTo_Obj5(&drwobj,&rc,0,img);
   \   00000028   0430A0E1           MOV      R3,R4
   \   0000002C   0020A0E3           MOV      R2,#+0
   \   00000030   04108DE2           ADD      R1,SP,#+4
   \   00000034   0C008DE2           ADD      R0,SP,#+12
   \   00000038   510100EF           SWI      +337
    160            SetColor(&drwobj,pen,brush);
   \   0000003C   0620A0E1           MOV      R2,R6
   \   00000040   0510A0E1           MOV      R1,R5
   \   00000044   0C008DE2           ADD      R0,SP,#+12
   \   00000048   4B0100EF           SWI      +331
    161            DrawObject(&drwobj);
   \   0000004C   0C008DE2           ADD      R0,SP,#+12
   \   00000050   2A0100EF           SWI      +298
    162          }
   \   00000054   30D08DE2           ADD      SP,SP,#+48
   \   00000058   7080BDE8           POP      {R4-R6,PC}       ;; return
    163          

   \                                 In segment CODE, align 4, keep-with-next
    164          void DoScreen2()
    165          {
   \                     DoScreen2:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    166              int ScrH=ScreenH();
    167              int ScrW=ScreenW();
    168              char *ms=RamScreenBuffer();
    169              screen2.w=ScrW;
   \   00000004   ........           LDR      R7,??DataTable19  ;; screen2
   \   00000008   898100EF           SWI      +33161
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   888100EF           SWI      +33160
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   E08000EF           SWI      +32992
   \   0000001C   0060A0E1           MOV      R6,R0
    170              screen2.h=ScrH;
    171              screen2.bitmap=malloc(ScrW*ScrH*2);
   \   00000020   940500E0           MUL      R0,R4,R5
   \   00000024   B050C7E1           STRH     R5,[R7, #+0]
   \   00000028   B240C7E1           STRH     R4,[R7, #+2]
   \   0000002C   8040A0E1           LSL      R4,R0,#+1
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   140000EF           SWI      +20
   \   00000038   080087E5           STR      R0,[R7, #+8]
    172              memcpy(screen2.bitmap, ms, ScrW*ScrH*2);
   \   0000003C   0420A0E1           MOV      R2,R4
   \   00000040   0610A0E1           MOV      R1,R6
   \   00000044   1E0100EF           SWI      +286
    173          }
   \   00000048   F080BDE8           POP      {R4-R7,PC}       ;; return
    174          
    175          

   \                                 In segment DATA_C, align 4, align-sorted
    176          const int minus11=-11; // стремная константа =)
   \                     minus11:
   \   00000000   F5FFFFFF           DC32 -11

   \                                 In segment DATA_Z, align 4, align-sorted
    177          unsigned short maincsm_name_body[140];
   \                     maincsm_name_body:
   \   00000000                      DS8 280
    178          extern unsigned long  strtoul (const char *nptr,char **endptr,int base);
    179          

   \                                 In segment DATA_Z, align 4, align-sorted
    180          unsigned int MAINCSM_ID = 0;
   \                     MAINCSM_ID:
   \   00000000                      DS8 4
    181          
    182          typedef struct
    183          {
    184            CSM_RAM csm;
    185            int gui_id;
    186          }MAIN_CSM;
    187          
    188          typedef struct
    189          {
    190            GUI gui;
    191            WSHDR *ws1;
    192            WSHDR *ws2;
    193            int i1;
    194          }MAIN_GUI;
    195          
    196          extern NAMELIST * volatile nltop;

   \                                 In segment DATA_I, align 4, align-sorted
    197          int pos=1;
   \                     pos:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for pos>`

   \                                 In segment DATA_I, align 4, align-sorted
    198          int total_pos=1;
   \                     total_pos:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for total_pos>`

   \                                 In segment DATA_Z, align 4, align-sorted
    199          int total_d;
   \                     total_d:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    200          int move_skip;
   \                     move_skip:
   \   00000000                      DS8 4
    201          void redrit(void);

   \                                 In segment DATA_Z, align 4, align-sorted
    202          int sm;
   \                     sm:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    203          int forward;
   \                     forward:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    204          int halt;
   \                     halt:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    205          int shutd;
   \                     shutd:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    206          int logout;
   \                     logout:
   \   00000000                      DS8 4
    207          
    208          #include "strings2.h"
    209          

   \                                 In segment DATA_Z, align 4, align-sorted
    210          WSHDR *data4;
   \                     data4:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    211          WSHDR *data5;
   \                     data5:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    212          int draw_rec;
   \                     draw_rec:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    213          int this_rec;
   \                     this_rec:
   \   00000000                      DS8 4
    214          
    215          //=====================reboot========================

   \                                 In segment CODE, align 4, keep-with-next
    216          void SaveRebootList(WSHDR *ramed)
    217          {
   \                     SaveRebootList:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   88D04DE2           SUB      SP,SP,#+136
    218            char buffer[128];
    219            convWS_to_ANSI(ramed, buffer);
   \   00000008   08108DE2           ADD      R1,SP,#+8
   \   0000000C   ........           _BLF     convWS_to_ANSI,??convWS_to_ANSI??rA
    220            volatile int hFile;
    221            unsigned int io_error = 0;
   \   00000010   0010A0E3           MOV      R1,#+0
   \   00000014   00108DE5           STR      R1,[SP, #+0]
    222            sprintf(buffer,"%s|", buffer);
   \   00000018   08208DE2           ADD      R2,SP,#+8
   \   0000001C   171F8FE2           ADR      R1,??SaveRebootList_0  ;; "%s|"
   \   00000020   08008DE2           ADD      R0,SP,#+8
   \   00000024   160000EF           SWI      +22
    223            hFile = fopen("0:\\system\\data.bin",A_ReadWrite + A_Create + A_Append + A_BIN,P_READ+P_WRITE, &io_error);
   \   00000028   54009FE5           LDR      R0,??SaveRebootList_0+0x4  ;; `?<Constant "0:\\\\system\\\\data.bin">`
   \   0000002C   0D30A0E1           MOV      R3,SP
   \   00000030   602FA0E3           MOV      R2,#+384
   \   00000034   0A10A0E3           MOV      R1,#+10
   \   00000038   811C81E3           ORR      R1,R1,#0x8100
   \   0000003C   0A0000EF           SWI      +10
   \   00000040   04008DE5           STR      R0,[SP, #+4]
    224            if(hFile!=-1)
   \   00000044   04009DE5           LDR      R0,[SP, #+4]
   \   00000048   010070E3           CMN      R0,#+1
   \   0000004C   0900000A           BEQ      ??SaveRebootList_1
    225            {
    226              fwrite(hFile, buffer, strlen(buffer), &io_error);
   \   00000050   08008DE2           ADD      R0,SP,#+8
   \   00000054   1B0000EF           SWI      +27
   \   00000058   0D30A0E1           MOV      R3,SP
   \   0000005C   0020A0E1           MOV      R2,R0
   \   00000060   04009DE5           LDR      R0,[SP, #+4]
   \   00000064   08108DE2           ADD      R1,SP,#+8
   \   00000068   0C0000EF           SWI      +12
    227              fclose(hFile, &io_error);
   \   0000006C   04009DE5           LDR      R0,[SP, #+4]
   \   00000070   0D10A0E1           MOV      R1,SP
   \   00000074   0D0000EF           SWI      +13
    228            }
    229          }
   \                     ??SaveRebootList_1:
   \   00000078   88D08DE2           ADD      SP,SP,#+136      ;; stack cleaning
   \   0000007C   0080BDE8           POP      {PC}             ;; return
   \                     ??SaveRebootList_0:
   \   00000080   25737C00           DC8      "%s|"
   \   00000084   ........           DC32     `?<Constant "0:\\\\system\\\\data.bin">`
    230          //=====================reboot========================
    231          

   \                                 In segment CODE, align 4, keep-with-next
    232          void DrawProgress(WSHDR *dat, int casi)
    233          {
   \                     DrawProgress:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
    234            if (casi)
   \   00000004   ........           LDR      R7,??DataTable14  ;; data4
   \   00000008   ........           LDR      R5,??DataTable15  ;; ctasks
   \   0000000C   F0419FE5           LDR      R4,??DrawProgress_0  ;; this_rec
   \   00000010   0060A0E1           MOV      R6,R0
   \   00000014   000097E5           LDR      R0,[R7, #+0]
   \   00000018   000051E3           CMP      R1,#+0
   \   0000001C   4A00000A           BEQ      ??DrawProgress_1
    235            {
    236              this_rec++;
   \   00000020   001094E5           LDR      R1,[R4, #+0]
   \   00000024   011081E2           ADD      R1,R1,#+1
   \   00000028   001084E5           STR      R1,[R4, #+0]
    237              wsprintf(data4, "Closing...");
   \   0000002C   D4119FE5           LDR      R1,??DrawProgress_0+0x4  ;; `?<Constant "Closing...">`
   \   00000030   240100EF           SWI      +292
    238              DrawScrollString(data4,18,97,100,97+GetFontYSIZE(11),1,11,TEXT_ALIGNLEFT,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000034   1700A0E3           MOV      R0,#+23
   \   00000038   2E0100EF           SWI      +302
   \   0000003C   0080A0E1           MOV      R8,R0
   \   00000040   0B00A0E3           MOV      R0,#+11
   \   00000044   C50100EF           SWI      +453
   \   00000048   00012DE9           PUSH     {R8}
   \   0000004C   0510A0E1           MOV      R1,R5
   \   00000050   02002DE9           PUSH     {R1}
   \   00000054   610080E2           ADD      R0,R0,#+97
   \   00000058   6430A0E3           MOV      R3,#+100
   \   0000005C   6120A0E3           MOV      R2,#+97
   \   00000060   0110A0E3           MOV      R1,#+1
   \   00000064   02002DE9           PUSH     {R1}
   \   00000068   0B10A0E3           MOV      R1,#+11
   \   0000006C   02002DE9           PUSH     {R1}
   \   00000070   0110A0E3           MOV      R1,#+1
   \   00000074   02002DE9           PUSH     {R1}
   \   00000078   01002DE9           PUSH     {R0}
   \   0000007C   000097E5           LDR      R0,[R7, #+0]
   \   00000080   1210A0E3           MOV      R1,#+18
   \   00000084   070200EF           SWI      +519
    239              wsprintf(data4,"[OK]");
   \   00000088   000097E5           LDR      R0,[R7, #+0]
   \   0000008C   78119FE5           LDR      R1,??DrawProgress_0+0x8  ;; `?<Constant "[OK]">`
   \   00000090   240100EF           SWI      +292
    240              DrawString(data4,115-Get_WS_width(data4,11),109,115+3,109+GetFontYSIZE(11)+1,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000094   1700A0E3           MOV      R0,#+23
   \   00000098   2E0100EF           SWI      +302
   \   0000009C   0090A0E1           MOV      R9,R0
   \   000000A0   0B00A0E3           MOV      R0,#+11
   \   000000A4   C50100EF           SWI      +453
   \   000000A8   0080A0E1           MOV      R8,R0
   \   000000AC   000097E5           LDR      R0,[R7, #+0]
   \   000000B0   0B10A0E3           MOV      R1,#+11
   \   000000B4   080200EF           SWI      +520
   \   000000B8   00022DE9           PUSH     {R9}
   \   000000BC   0510A0E1           MOV      R1,R5
   \   000000C0   02002DE9           PUSH     {R1}
   \   000000C4   7630A0E3           MOV      R3,#+118
   \   000000C8   6D20A0E3           MOV      R2,#+109
   \   000000CC   0010A0E3           MOV      R1,#+0
   \   000000D0   02002DE9           PUSH     {R1}
   \   000000D4   0B10A0E3           MOV      R1,#+11
   \   000000D8   02002DE9           PUSH     {R1}
   \   000000DC   6E1088E2           ADD      R1,R8,#+110
   \   000000E0   02002DE9           PUSH     {R1}
   \   000000E4   731060E2           RSB      R1,R0,#+115
   \   000000E8   000097E5           LDR      R0,[R7, #+0]
   \   000000EC   4C0100EF           SWI      +332
   \   000000F0   2CD08DE2           ADD      SP,SP,#+44
    241          /*    void *canv = BuildCanvas();
    242              if(Get_WS_width(dat,11)<70)
    243              DrawRectangle(17,109,17+Get_WS_width(dat,11),109+GetFontYSIZE(11),1);
    244              else DrawRectangle(17,109,87,109+GetFontYSIZE(11),1);*/
    245              DrawScrollString(dat,18,109,87,109+GetFontYSIZE(11),1,11,TEXT_ALIGNLEFT,ctasks,GetPaletteAdrByColorIndex(23)); 
   \   000000F4   1700A0E3           MOV      R0,#+23
   \   000000F8   2E0100EF           SWI      +302
   \   000000FC   0070A0E1           MOV      R7,R0
   \   00000100   0B00A0E3           MOV      R0,#+11
   \   00000104   C50100EF           SWI      +453
   \   00000108   80002DE9           PUSH     {R7}
   \   0000010C   20002DE9           PUSH     {R5}
   \   00000110   0110A0E3           MOV      R1,#+1
   \   00000114   02002DE9           PUSH     {R1}
   \   00000118   6D0080E2           ADD      R0,R0,#+109
   \   0000011C   5730A0E3           MOV      R3,#+87
   \   00000120   6D20A0E3           MOV      R2,#+109
   \   00000124   0B10A0E3           MOV      R1,#+11
   \   00000128   02002DE9           PUSH     {R1}
   \   0000012C   0110A0E3           MOV      R1,#+1
   \   00000130   02002DE9           PUSH     {R1}
   \   00000134   01002DE9           PUSH     {R0}
   \   00000138   1210A0E3           MOV      R1,#+18
   \   0000013C   0600A0E1           MOV      R0,R6
   \   00000140   070200EF           SWI      +519
   \   00000144   18D08DE2           ADD      SP,SP,#+24
   \   00000148   180000EA           B        ??DrawProgress_2
    246            }
    247            else
    248            {
    249              if(shutd) wsprintf(data4,"Shut down......");
   \                     ??DrawProgress_1:
   \   0000014C   ........           LDR      R1,??DataTable24  ;; shutd
   \   00000150   001091E5           LDR      R1,[R1, #+0]
   \   00000154   000051E3           CMP      R1,#+0
   \   00000158   B0109F15           LDRNE    R1,??DrawProgress_0+0xC  ;; `?<Constant "Shut down......">`
    250              else wsprintf(data4,"Restarting......");
   \   0000015C   B0109F05           LDREQ    R1,??DrawProgress_0+0x10  ;; `?<Constant "Restarting......">`
   \   00000160   240100EF           SWI      +292
    251              DrawString(data4,18,109,115,109+GetFontYSIZE(11)+1,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000164   1700A0E3           MOV      R0,#+23
   \   00000168   2E0100EF           SWI      +302
   \   0000016C   0060A0E1           MOV      R6,R0
   \   00000170   0B00A0E3           MOV      R0,#+11
   \   00000174   C50100EF           SWI      +453
   \   00000178   40002DE9           PUSH     {R6}
   \   0000017C   20002DE9           PUSH     {R5}
   \   00000180   0010A0E3           MOV      R1,#+0
   \   00000184   02002DE9           PUSH     {R1}
   \   00000188   6E0080E2           ADD      R0,R0,#+110
   \   0000018C   7330A0E3           MOV      R3,#+115
   \   00000190   6D20A0E3           MOV      R2,#+109
   \   00000194   0B10A0E3           MOV      R1,#+11
   \   00000198   02002DE9           PUSH     {R1}
   \   0000019C   01002DE9           PUSH     {R0}
   \   000001A0   000097E5           LDR      R0,[R7, #+0]
   \   000001A4   1210A0E3           MOV      R1,#+18
   \   000001A8   4C0100EF           SWI      +332
   \   000001AC   14D08DE2           ADD      SP,SP,#+20
    252            }
    253            DrawRectangle(18,125,(115 * this_rec)/draw_rec,135,0,GetPaletteAdrByColorIndex(23),GetPaletteAdrByColorIndex(4));
   \                     ??DrawProgress_2:
   \   000001B0   0400A0E3           MOV      R0,#+4
   \   000001B4   2E0100EF           SWI      +302
   \   000001B8   0050A0E1           MOV      R5,R0
   \   000001BC   1700A0E3           MOV      R0,#+23
   \   000001C0   2E0100EF           SWI      +302
   \   000001C4   20002DE9           PUSH     {R5}
   \   000001C8   01002DE9           PUSH     {R0}
   \   000001CC   7310A0E3           MOV      R1,#+115
   \   000001D0   8730A0E3           MOV      R3,#+135
   \   000001D4   0000A0E3           MOV      R0,#+0
   \   000001D8   01002DE9           PUSH     {R0}
   \   000001DC   000094E5           LDR      R0,[R4, #+0]
   \   000001E0   910000E0           MUL      R0,R1,R0
   \   000001E4   ........           LDR      R1,??DataTable22  ;; draw_rec
   \   000001E8   001091E5           LDR      R1,[R1, #+0]
   \   000001EC   ........           _BLF     ??div32_a,??rA??div32_a
   \   000001F0   0120A0E1           MOV      R2,R1
   \   000001F4   7D10A0E3           MOV      R1,#+125
   \   000001F8   1200A0E3           MOV      R0,#+18
   \   000001FC   B40100EF           SWI      +436
    254          }
   \   00000200   F783BDE8           POP      {R0-R2,R4-R9,PC}  ;; return
   \                     ??DrawProgress_0:
   \   00000204   ........           DC32     this_rec
   \   00000208   ........           DC32     `?<Constant "Closing...">`
   \   0000020C   ........           DC32     `?<Constant "[OK]">`
   \   00000210   ........           DC32     `?<Constant "Shut down......">`
   \   00000214   ........           DC32     `?<Constant "Restarting......">`
    255          

   \                                 In segment DATA_Z, align 4, align-sorted
    256          int zin;
   \                     zin:
   \   00000000                      DS8 4

   \                                 In segment DATA_I, align 4, align-sorted
    257          int init_rec=1;
   \                     init_rec:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for init_rec>`
    258          

   \                                 In segment CODE, align 4, keep-with-next
    259          void task_list3()
    260          {
   \                     task_list3:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
    261            DrwImg3(&screen2, 0, 0, NULL, NULL);
    262            DrawImg(12, 26,(int)background_img);  //12,37
    263            DrawImg(23, 60, (int)shutdown2);
   \   00000008   ........           LDR      R4,??DataTable18  ;; shutdown2
   \   0000000C   0000A0E3           MOV      R0,#+0
   \   00000010   01002DE9           PUSH     {R0}
   \   00000014   0030A0E3           MOV      R3,#+0
   \   00000018   0020A0E1           MOV      R2,R0
   \   0000001C   0010A0E1           MOV      R1,R0
   \   00000020   ........           LDR      R0,??DataTable19  ;; screen2
   \   00000024   ........           BL       DrwImg3
   \   00000028   ........           LDR      R2,??DataTable20  ;; background_img
   \   0000002C   1A10A0E3           MOV      R1,#+26
   \   00000030   0C00A0E3           MOV      R0,#+12
   \   00000034   230000EF           SWI      +35
   \   00000038   0420A0E1           MOV      R2,R4
   \   0000003C   3C10A0E3           MOV      R1,#+60
   \   00000040   1700A0E3           MOV      R0,#+23
   \   00000044   230000EF           SWI      +35
    264            DrawImg(68, 60, (int)shutdown2);
   \   00000048   0420A0E1           MOV      R2,R4
    265            total_d=GetNumberOfDialogs()-2;
   \   0000004C   ........           LDR      R4,??DataTable21  ;; total_d
   \   00000050   3C10A0E3           MOV      R1,#+60
   \   00000054   4400A0E3           MOV      R0,#+68
   \   00000058   230000EF           SWI      +35
   \   0000005C   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   \   00000060   020040E2           SUB      R0,R0,#+2
   \   00000064   000084E5           STR      R0,[R4, #+0]
    266            if(init_rec) {draw_rec=total_d; init_rec=0;}
   \   00000068   D4009FE5           LDR      R0,??task_list3_0  ;; init_rec
   \   0000006C   001090E5           LDR      R1,[R0, #+0]
   \   00000070   04D08DE2           ADD      SP,SP,#+4
   \   00000074   000051E3           CMP      R1,#+0
   \   00000078   0400000A           BEQ      ??task_list3_1
   \   0000007C   ........           LDR      R1,??DataTable22  ;; draw_rec
   \   00000080   002094E5           LDR      R2,[R4, #+0]
   \   00000084   002081E5           STR      R2,[R1, #+0]
   \   00000088   0010A0E3           MOV      R1,#+0
   \   0000008C   001080E5           STR      R1,[R0, #+0]
    267            NAMELIST *nl=nltop;
   \                     ??task_list3_1:
   \   00000090   ........           LDR      R0,??DataTable23  ;; nltop
    268            if(total_d>0)
   \   00000094   ........           LDR      R5,??DataTable24  ;; shutd
   \   00000098   006090E5           LDR      R6,[R0, #+0]
   \   0000009C   000094E5           LDR      R0,[R4, #+0]
   \   000000A0   010050E3           CMP      R0,#+1
   \   000000A4   1C0000BA           BLT      ??task_list3_2
    269            {
    270              NAMELIST *p=nl;
    271              nl=p->next;
   \   000000A8   006096E5           LDR      R6,[R6, #+0]
    272              zin=((CSM_RAM *)(nl->p))->id;
   \   000000AC   94409FE5           LDR      R4,??task_list3_0+0x4  ;; zin
   \   000000B0   0C0096E5           LDR      R0,[R6, #+12]
   \   000000B4   0C0090E5           LDR      R0,[R0, #+12]
   \   000000B8   000084E5           STR      R0,[R4, #+0]
    273              if (zin==CSM_root()->idle_id) 
   \   000000BC   068100EF           SWI      +33030
   \   000000C0   001094E5           LDR      R1,[R4, #+0]
   \   000000C4   040090E5           LDR      R0,[R0, #+4]
   \   000000C8   000051E1           CMP      R1,R0
   \   000000CC   0300001A           BNE      ??task_list3_3
    274              {
    275                NAMELIST *p=nl;
    276                nl=p->next; 
   \   000000D0   006096E5           LDR      R6,[R6, #+0]
    277                zin=((CSM_RAM *)(nl->p))->id;
   \   000000D4   0C0096E5           LDR      R0,[R6, #+12]
   \   000000D8   0C0090E5           LDR      R0,[R0, #+12]
   \   000000DC   000084E5           STR      R0,[R4, #+0]
    278              }
    279              if(shutd==0) SaveRebootList(nl->name);
   \                     ??task_list3_3:
   \   000000E0   000095E5           LDR      R0,[R5, #+0]
   \   000000E4   000050E3           CMP      R0,#+0
   \   000000E8   0100001A           BNE      ??task_list3_4
   \   000000EC   080096E5           LDR      R0,[R6, #+8]
   \   000000F0   ........           BL       SaveRebootList
    280              DrawProgress(nl->name, 1);
   \                     ??task_list3_4:
   \   000000F4   080096E5           LDR      R0,[R6, #+8]
   \   000000F8   0110A0E3           MOV      R1,#+1
   \   000000FC   ........           BL       DrawProgress
    281              CloseCSM(zin);
   \   00000100   000094E5           LDR      R0,[R4, #+0]
   \   00000104   FC0100EF           SWI      +508
    282              GBS_StartTimerProc(&start_tmr, 100, task_list3);
   \   00000108   3C209FE5           LDR      R2,??task_list3_0+0x8  ;; task_list3
   \   0000010C   ........           LDR      R0,??DataTable25  ;; start_tmr
   \   00000110   6410A0E3           MOV      R1,#+100
   \   00000114   4D0000EF           SWI      +77
   \   00000118   7180BDE8           POP      {R0,R4-R6,PC}
    283            }
    284            else
    285            {
    286              DrawProgress(NULL, 0);
   \                     ??task_list3_2:
   \   0000011C   0010A0E3           MOV      R1,#+0
   \   00000120   0000A0E3           MOV      R0,#+0
   \   00000124   ........           BL       DrawProgress
    287              if (shutd==1) SwitchPhoneOff();
   \   00000128   000095E5           LDR      R0,[R5, #+0]
   \   0000012C   010050E3           CMP      R0,#+1
   \   00000130   0100001A           BNE      ??task_list3_5
   \   00000134   090000EF           SWI      +9
   \   00000138   7180BDE8           POP      {R0,R4-R6,PC}
    288              else RebootPhone();
   \                     ??task_list3_5:
   \   0000013C   930000EF           SWI      +147
    289            }
    290          }
   \   00000140   7180BDE8           POP      {R0,R4-R6,PC}    ;; return
   \                     ??task_list3_0:
   \   00000144   ........           DC32     init_rec
   \   00000148   ........           DC32     zin
   \   0000014C   ........           DC32     task_list3
    291          

   \                                 In segment CODE, align 4, keep-with-next
    292          void SearchIcon(WSHDR *ramed, int w, int show)
    293          {
   \                     SearchIcon:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
    294            char buffer[256];
    295            //ws_2str(ramed, buffer, 64);
    296            convWS_to_ANSI(ramed, buffer);
    297            if(strstr(buffer, "NATICQ")>0) strcpy(buffer, "NATICQ");
   \   00000004   58619FE5           LDR      R6,??SearchIcon_0+0xC  ;; `?<Constant "NATICQ">`
   \   00000008   42DF4DE2           SUB      SP,SP,#+264
   \   0000000C   0140A0E1           MOV      R4,R1
   \   00000010   0250A0E1           MOV      R5,R2
   \   00000014   08108DE2           ADD      R1,SP,#+8
   \   00000018   ........           _BLF     convWS_to_ANSI,??convWS_to_ANSI??rA
   \   0000001C   0610A0E1           MOV      R1,R6
   \   00000020   08008DE2           ADD      R0,SP,#+8
   \   00000024   180100EF           SWI      +280
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   0200000A           BEQ      ??SearchIcon_1
   \   00000030   0610A0E1           MOV      R1,R6
   \   00000034   08008DE2           ADD      R0,SP,#+8
   \   00000038   1A0000EF           SWI      +26
    298            if(strstr(buffer, "SieJC")>0) strcpy(buffer, "SieJC");
   \                     ??SearchIcon_1:
   \   0000003C   24619FE5           LDR      R6,??SearchIcon_0+0x10  ;; `?<Constant "SieJC">`
   \   00000040   08008DE2           ADD      R0,SP,#+8
   \   00000044   0610A0E1           MOV      R1,R6
   \   00000048   180100EF           SWI      +280
   \   0000004C   000050E3           CMP      R0,#+0
   \   00000050   0200000A           BEQ      ??SearchIcon_2
   \   00000054   0610A0E1           MOV      R1,R6
   \   00000058   08008DE2           ADD      R0,SP,#+8
   \   0000005C   1A0000EF           SWI      +26
    299            if(strstr(buffer, "MC:")>0) strcpy(buffer, "MC");
   \                     ??SearchIcon_2:
   \   00000060   3C1F8FE2           ADR      R1,??SearchIcon_0  ;; "MC:"
   \   00000064   08008DE2           ADD      R0,SP,#+8
   \   00000068   180100EF           SWI      +280
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   0200000A           BEQ      ??SearchIcon_3
   \   00000074   381F8FE2           ADR      R1,??SearchIcon_0+0x4  ;; "MC"
   \   00000078   08008DE2           ADD      R0,SP,#+8
   \   0000007C   1A0000EF           SWI      +26
    300            if(strstr(buffer, "BM:")>0) strcpy(buffer, "BM:");
   \                     ??SearchIcon_3:
   \   00000080   366F8FE2           ADR      R6,??SearchIcon_0+0x8  ;; "BM:"
   \   00000084   0610A0E1           MOV      R1,R6
   \   00000088   08008DE2           ADD      R0,SP,#+8
   \   0000008C   180100EF           SWI      +280
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   0200000A           BEQ      ??SearchIcon_4
   \   00000098   0610A0E1           MOV      R1,R6
   \   0000009C   08008DE2           ADD      R0,SP,#+8
   \   000000A0   1A0000EF           SWI      +26
    301            char p2[]="||";
   \                     ??SearchIcon_4:
   \   000000A4   C0109FE5           LDR      R1,??SearchIcon_0+0x14  ;; `?<Constant "||">`
   \   000000A8   0D00A0E1           MOV      R0,SP
   \   000000AC   0020D1E5           LDRB     R2,[R1, #0]
   \   000000B0   0020C0E5           STRB     R2,[R0, #+0]
   \   000000B4   0120D1E5           LDRB     R2,[R1, #+1]
   \   000000B8   0120C0E5           STRB     R2,[R0, #+1]
   \   000000BC   0220D1E5           LDRB     R2,[R1, #+2]
    302            char *s,*s1,*s2;
    303            int len;
    304            if((s1=strstr(icon_text,buffer))>0)
   \   000000C0   08108DE2           ADD      R1,SP,#+8
   \   000000C4   0220C0E5           STRB     R2,[R0, #+2]
   \   000000C8   ........           LDR      R0,??DataTable26  ;; icon_text
   \   000000CC   180100EF           SWI      +280
   \   000000D0   0060B0E1           MOVS     R6,R0
   \   000000D4   1D00000A           BEQ      ??SearchIcon_5
    305            {
    306              s1+=strlen(buffer);
   \   000000D8   08008DE2           ADD      R0,SP,#+8
   \   000000DC   1B0000EF           SWI      +27
   \   000000E0   066080E0           ADD      R6,R0,R6
    307              if((s2=strstr(s1,p2))>0)
   \   000000E4   0D10A0E1           MOV      R1,SP
   \   000000E8   0600A0E1           MOV      R0,R6
   \   000000EC   180100EF           SWI      +280
   \   000000F0   000050E3           CMP      R0,#+0
   \   000000F4   1500000A           BEQ      ??SearchIcon_5
    308              {
    309                len=s2-s1-1;
   \   000000F8   060040E0           SUB      R0,R0,R6
   \   000000FC   017040E2           SUB      R7,R0,#+1
    310                s=malloc(len+1);
   \   00000100   140000EF           SWI      +20
   \   00000104   0080A0E1           MOV      R8,R0
    311                strncpy(s,s1+1,len);
   \   00000108   0720A0E1           MOV      R2,R7
   \   0000010C   011086E2           ADD      R1,R6,#+1
   \   00000110   160100EF           SWI      +278
    312                s[len]='\0';
   \   00000114   0000A0E3           MOV      R0,#+0
   \   00000118   0800C7E7           STRB     R0,[R7, +R8]
    313                if(show) DrawImg(18,w+1,(int)s);
   \   0000011C   014084E2           ADD      R4,R4,#+1
   \   00000120   000055E3           CMP      R5,#+0
   \   00000124   0300000A           BEQ      ??SearchIcon_6
   \   00000128   0820A0E1           MOV      R2,R8
   \   0000012C   0410A0E1           MOV      R1,R4
   \   00000130   1200A0E3           MOV      R0,#+18
   \   00000134   230000EF           SWI      +35
    314                DrawImg(102,w+1,(int)s);
   \                     ??SearchIcon_6:
   \   00000138   0820A0E1           MOV      R2,R8
   \   0000013C   0410A0E1           MOV      R1,R4
   \   00000140   6600A0E3           MOV      R0,#+102
   \   00000144   230000EF           SWI      +35
    315                mfree(s);
   \   00000148   0800A0E1           MOV      R0,R8
   \   0000014C   150000EF           SWI      +21
    316              }
    317            }
    318          }
   \                     ??SearchIcon_5:
   \   00000150   42DF8DE2           ADD      SP,SP,#+264      ;; stack cleaning
   \   00000154   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??SearchIcon_0:
   \   00000158   4D433A00           DC8      "MC:"
   \   0000015C   4D430000           DC8      "MC",+0
   \   00000160   424D3A00           DC8      "BM:"
   \   00000164   ........           DC32     `?<Constant "NATICQ">`
   \   00000168   ........           DC32     `?<Constant "SieJC">`
   \   0000016C   ........           DC32     `?<Constant "||">`
    319          

   \                                 In segment DATA_Z, align 4, align-sorted
    320          int refresh;
   \                     refresh:
   \   00000000                      DS8 4
    321          

   \                                 In segment CODE, align 4, keep-with-next
    322          void OnRedraw(MAIN_GUI *data)
    323          { 
   \                     OnRedraw:
   \   00000000   4C089FE5           LDR      R0,??OnRedraw_0+0x4  ;; refresh
   \   00000004   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
    324            refresh=216;
    325            if(task_list==1)
   \   0000000C   44689FE5           LDR      R6,??OnRedraw_0+0x8  ;; selection_img
   \   00000010   44789FE5           LDR      R7,??OnRedraw_0+0xC  ;; cursor_img
   \   00000014   44889FE5           LDR      R8,??OnRedraw_0+0x10  ;; background_img
   \   00000018   44489FE5           LDR      R4,??OnRedraw_0+0x14  ;; ctasks
   \   0000001C   44A89FE5           LDR      R10,??OnRedraw_0+0x18  ;; move_skip
   \   00000020   44589FE5           LDR      R5,??OnRedraw_0+0x1C  ;; cinfo
   \   00000024   44989FE5           LDR      R9,??OnRedraw_0+0x20  ;; screen2
   \   00000028   D810A0E3           MOV      R1,#+216
   \   0000002C   001080E5           STR      R1,[R0, #+0]
   \   00000030   3C089FE5           LDR      R0,??OnRedraw_0+0x24  ;; task_list
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   010050E3           CMP      R0,#+1
   \   0000003C   6501001A           BNE      ??OnRedraw_1
    326            {
    327            total_d=GetNumberOfDialogs()-1;
   \   00000040   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   \   00000044   2C189FE5           LDR      R1,??OnRedraw_0+0x28  ;; total_d
   \   00000048   010040E2           SUB      R0,R0,#+1
   \   0000004C   000081E5           STR      R0,[R1, #+0]
    328          #ifdef NEWSGOLD
    329            DrwImg3(&screen2, 0, 0, NULL, NULL);
   \   00000050   0000A0E3           MOV      R0,#+0
   \   00000054   01002DE9           PUSH     {R0}
   \   00000058   0030A0E3           MOV      R3,#+0
   \   0000005C   0020A0E1           MOV      R2,R0
   \   00000060   0010A0E1           MOV      R1,R0
   \   00000064   0900A0E1           MOV      R0,R9
   \   00000068   ........           BL       DrwImg3
    330          #endif
    331            DrawImg(12, 26,(int)background_img);  //12,37
   \   0000006C   0820A0E1           MOV      R2,R8
   \   00000070   1A10A0E3           MOV      R1,#+26
   \   00000074   0C00A0E3           MOV      R0,#+12
   \   00000078   230000EF           SWI      +35
    332            DrawImg(16,48+(pos*12),(int)cursor_img);
   \   0000007C   F8079FE5           LDR      R0,??OnRedraw_0+0x2C  ;; pos
   \   00000080   0C10A0E3           MOV      R1,#+12
   \   00000084   000090E5           LDR      R0,[R0, #+0]
   \   00000088   0720A0E1           MOV      R2,R7
   \   0000008C   910000E0           MUL      R0,R1,R0
   \   00000090   301080E2           ADD      R1,R0,#+48
   \   00000094   1000A0E3           MOV      R0,#+16
   \   00000098   230000EF           SWI      +35
    333            DrawImg(82,39,(int)selection_img);
   \   0000009C   0620A0E1           MOV      R2,R6
   \   000000A0   2710A0E3           MOV      R1,#+39
   \   000000A4   5200A0E3           MOV      R0,#+82
   \   000000A8   230000EF           SWI      +35
    334            int show=1;
    335            NAMELIST *nl=nltop;
   \   000000AC   CC079FE5           LDR      R0,??OnRedraw_0+0x30  ;; nltop
   \   000000B0   0110A0E3           MOV      R1,#+1
   \   000000B4   04108DE5           STR      R1,[SP, #+4]
   \   000000B8   008090E5           LDR      R8,[R0, #+0]
    336            int i=60;
    337            WSHDR *ws=AllocWS(64);
   \   000000BC   4000A0E3           MOV      R0,#+64
   \   000000C0   250100EF           SWI      +293
    338            int skip=move_skip+1;
   \   000000C4   00109AE5           LDR      R1,[R10, #+0]
   \   000000C8   3C60A0E3           MOV      R6,#+60
   \   000000CC   0070A0E1           MOV      R7,R0
   \   000000D0   011081E2           ADD      R1,R1,#+1
   \   000000D4   10108DE5           STR      R1,[SP, #+16]
   \   000000D8   04D08DE2           ADD      SP,SP,#+4
   \   000000DC   020000EA           B        ??OnRedraw_2
    339            while((nl)&&(show<=5))
    340            {
    341              NAMELIST *p=nl;
    342              if(!skip) 
    343              {
    344          /*      if(nl->is_daemon)
    345                {
    346                  DrawString(nl->name,17,i+1,115,i+GetFontYSIZE(11)+2,11,0,cdaemons,GetPaletteAdrByColorIndex(23));
    347                  SearchIcon(nl->name, i);
    348                }
    349                else
    350                {*/
    351                  if(Get_WS_width(nl->name,11)<85)
    352                  {
    353                    if(nl->is_daemon) DrawString(nl->name,18,i+1,115,i+GetFontYSIZE(11),11,0,cdaemons,GetPaletteAdrByColorIndex(23));
    354                    else
    355                  DrawString(nl->name,18,i+1,115,i+GetFontYSIZE(11),11,0,ctasks,GetPaletteAdrByColorIndex(23));
    356                  }
    357                  else
    358                  {
    359                    if(pos!=show)
    360                    {
    361                      if(nl->is_daemon) DrawScrollString(nl->name,18,i+1,100,i+GetFontYSIZE(11),1,11,TEXT_ALIGNLEFT,cdaemons,GetPaletteAdrByColorIndex(23)); else
    362                    DrawScrollString(nl->name,18,i+1,100,i+GetFontYSIZE(11),1,11,TEXT_ALIGNLEFT,ctasks,GetPaletteAdrByColorIndex(23));
    363                    }
    364                    else
    365                    {
    366                      if(nl->is_daemon) DrawScrollString(nl->name,18,i+1,100,i+GetFontYSIZE(11),sm+1,11,TEXT_ALIGNLEFT,cdaemons,GetPaletteAdrByColorIndex(23)); else
    367                      DrawScrollString(nl->name,18,i+1,100,i+GetFontYSIZE(11),sm+1,11,TEXT_ALIGNLEFT,ctasks,GetPaletteAdrByColorIndex(23));
    368                      refresh=30;
    369                      if(forward==1) sm=sm+3;
    370                      if(forward==0) sm=sm-3;
    371                      if(forward==2)
    372                      {
    373                        if(halt) halt--;
    374                        else forward=3;
    375                      }
    376                      if ((sm>Get_WS_width(nl->name,11)-85)&&(forward==1)) {forward=2; halt=5;}
    377                      if (forward==3) {
    378                        if (sm==0) {forward=4; halt=5;}
    379                        else sm=sm-3;
    380                      }
    381                      if(forward==4)
    382                      {
    383                        if(halt) halt--;
    384                        else forward=1;
    385                      }
    386                     // if ((sm==0)&&(forward==3) forward=1;
    387                    }
    388                  }
    389                  SearchIcon(nl->name, i, 0);
    390            //    }
    391                show++;
    392                i=i+12;
    393              }
    394              else skip--;
   \                     ??OnRedraw_3:
   \   000000E0   011040E2           SUB      R1,R0,#+1
   \   000000E4   0C108DE5           STR      R1,[SP, #+12]
    395              nl=p->next;
   \                     ??OnRedraw_4:
   \   000000E8   008098E5           LDR      R8,[R8, #+0]
   \                     ??OnRedraw_2:
   \   000000EC   000058E3           CMP      R8,#+0
   \   000000F0   B600000A           BEQ      ??OnRedraw_5
   \   000000F4   00009DE5           LDR      R0,[SP, #+0]
   \   000000F8   060050E3           CMP      R0,#+6
   \   000000FC   B30000AA           BGE      ??OnRedraw_5
   \   00000100   0C009DE5           LDR      R0,[SP, #+12]
   \   00000104   000050E3           CMP      R0,#+0
   \   00000108   F4FFFF1A           BNE      ??OnRedraw_3
   \   0000010C   080098E5           LDR      R0,[R8, #+8]
   \   00000110   6CA79FE5           LDR      R10,??OnRedraw_0+0x34  ;; cdaemons
   \   00000114   019086E2           ADD      R9,R6,#+1
   \   00000118   0B10A0E3           MOV      R1,#+11
   \   0000011C   080200EF           SWI      +520
   \   00000120   550050E3           CMP      R0,#+85
   \   00000124   100098E5           LDR      R0,[R8, #+16]
   \   00000128   1D0000AA           BGE      ??OnRedraw_6
   \   0000012C   000050E3           CMP      R0,#+0
   \   00000130   1700A0E3           MOV      R0,#+23
   \   00000134   1200000A           BEQ      ??OnRedraw_7
   \   00000138   2E0100EF           SWI      +302
   \   0000013C   00B0A0E1           MOV      R11,R0
   \   00000140   0B00A0E3           MOV      R0,#+11
   \   00000144   C50100EF           SWI      +453
   \   00000148   00082DE9           PUSH     {R11}
   \   0000014C   00042DE9           PUSH     {R10}
   \                     ??OnRedraw_8:
   \   00000150   0010A0E3           MOV      R1,#+0
   \   00000154   02002DE9           PUSH     {R1}
   \   00000158   060080E0           ADD      R0,R0,R6
   \   0000015C   7330A0E3           MOV      R3,#+115
   \   00000160   0920A0E1           MOV      R2,R9
   \   00000164   0B10A0E3           MOV      R1,#+11
   \   00000168   02002DE9           PUSH     {R1}
   \   0000016C   01002DE9           PUSH     {R0}
   \   00000170   080098E5           LDR      R0,[R8, #+8]
   \   00000174   1210A0E3           MOV      R1,#+18
   \   00000178   4C0100EF           SWI      +332
   \   0000017C   14D08DE2           ADD      SP,SP,#+20
   \   00000180   890000EA           B        ??OnRedraw_9
   \                     ??OnRedraw_7:
   \   00000184   2E0100EF           SWI      +302
   \   00000188   00A0A0E1           MOV      R10,R0
   \   0000018C   0B00A0E3           MOV      R0,#+11
   \   00000190   C50100EF           SWI      +453
   \   00000194   00042DE9           PUSH     {R10}
   \   00000198   0410A0E1           MOV      R1,R4
   \   0000019C   02002DE9           PUSH     {R1}
   \   000001A0   EAFFFFEA           B        ??OnRedraw_8
   \                     ??OnRedraw_6:
   \   000001A4   D0169FE5           LDR      R1,??OnRedraw_0+0x2C  ;; pos
   \   000001A8   00209DE5           LDR      R2,[SP, #+0]
   \   000001AC   001091E5           LDR      R1,[R1, #+0]
   \   000001B0   020051E1           CMP      R1,R2
   \   000001B4   1F00000A           BEQ      ??OnRedraw_10
   \   000001B8   000050E3           CMP      R0,#+0
   \   000001BC   1700A0E3           MOV      R0,#+23
   \   000001C0   1400000A           BEQ      ??OnRedraw_11
   \   000001C4   2E0100EF           SWI      +302
   \   000001C8   00B0A0E1           MOV      R11,R0
   \   000001CC   0B00A0E3           MOV      R0,#+11
   \   000001D0   C50100EF           SWI      +453
   \   000001D4   00082DE9           PUSH     {R11}
   \   000001D8   00042DE9           PUSH     {R10}
   \                     ??OnRedraw_12:
   \   000001DC   0110A0E3           MOV      R1,#+1
   \   000001E0   02002DE9           PUSH     {R1}
   \   000001E4   060080E0           ADD      R0,R0,R6
   \   000001E8   6430A0E3           MOV      R3,#+100
   \   000001EC   0920A0E1           MOV      R2,R9
   \   000001F0   0B10A0E3           MOV      R1,#+11
   \   000001F4   02002DE9           PUSH     {R1}
   \   000001F8   0110A0E3           MOV      R1,#+1
   \   000001FC   02002DE9           PUSH     {R1}
   \   00000200   01002DE9           PUSH     {R0}
   \   00000204   080098E5           LDR      R0,[R8, #+8]
   \   00000208   1210A0E3           MOV      R1,#+18
   \   0000020C   070200EF           SWI      +519
   \   00000210   18D08DE2           ADD      SP,SP,#+24
   \   00000214   640000EA           B        ??OnRedraw_9
   \                     ??OnRedraw_11:
   \   00000218   2E0100EF           SWI      +302
   \   0000021C   00A0A0E1           MOV      R10,R0
   \   00000220   0B00A0E3           MOV      R0,#+11
   \   00000224   C50100EF           SWI      +453
   \   00000228   00042DE9           PUSH     {R10}
   \   0000022C   0410A0E1           MOV      R1,R4
   \   00000230   02002DE9           PUSH     {R1}
   \   00000234   E8FFFFEA           B        ??OnRedraw_12
   \                     ??OnRedraw_10:
   \   00000238   48B69FE5           LDR      R11,??OnRedraw_0+0x38  ;; sm
   \   0000023C   000050E3           CMP      R0,#+0
   \   00000240   1700A0E3           MOV      R0,#+23
   \   00000244   0700000A           BEQ      ??OnRedraw_13
   \   00000248   2E0100EF           SWI      +302
   \   0000024C   28008DE5           STR      R0,[SP, #+40]
   \   00000250   0B00A0E3           MOV      R0,#+11
   \   00000254   C50100EF           SWI      +453
   \   00000258   28109DE5           LDR      R1,[SP, #+40]
   \   0000025C   02002DE9           PUSH     {R1}
   \   00000260   00042DE9           PUSH     {R10}
   \   00000264   060000EA           B        ??OnRedraw_14
   \                     ??OnRedraw_13:
   \   00000268   2E0100EF           SWI      +302
   \   0000026C   00A0A0E1           MOV      R10,R0
   \   00000270   0B00A0E3           MOV      R0,#+11
   \   00000274   C50100EF           SWI      +453
   \   00000278   00042DE9           PUSH     {R10}
   \   0000027C   0410A0E1           MOV      R1,R4
   \   00000280   02002DE9           PUSH     {R1}
   \                     ??OnRedraw_14:
   \   00000284   0110A0E3           MOV      R1,#+1
   \   00000288   02002DE9           PUSH     {R1}
   \   0000028C   060080E0           ADD      R0,R0,R6
   \   00000290   6430A0E3           MOV      R3,#+100
   \   00000294   0920A0E1           MOV      R2,R9
   \   00000298   6C9F9FE5           LDR      R9,??OnRedraw_15+0x4  ;; forward
   \   0000029C   0B10A0E3           MOV      R1,#+11
   \   000002A0   02002DE9           PUSH     {R1}
   \   000002A4   00109BE5           LDR      R1,[R11, #+0]
   \   000002A8   011081E2           ADD      R1,R1,#+1
   \   000002AC   02002DE9           PUSH     {R1}
   \   000002B0   01002DE9           PUSH     {R0}
   \   000002B4   080098E5           LDR      R0,[R8, #+8]
   \   000002B8   1210A0E3           MOV      R1,#+18
   \   000002BC   070200EF           SWI      +519
   \   000002C0   8C059FE5           LDR      R0,??OnRedraw_0+0x4  ;; refresh
   \   000002C4   18D08DE2           ADD      SP,SP,#+24
   \   000002C8   1E10A0E3           MOV      R1,#+30
   \   000002CC   001080E5           STR      R1,[R0, #+0]
   \   000002D0   00009BE5           LDR      R0,[R11, #+0]
   \   000002D4   001099E5           LDR      R1,[R9, #+0]
   \   000002D8   010051E3           CMP      R1,#+1
   \   000002DC   03008002           ADDEQ    R0,R0,#+3
   \   000002E0   0100000A           BEQ      ??OnRedraw_16
   \   000002E4   000051E3           CMP      R1,#+0
   \   000002E8   03004002           SUBEQ    R0,R0,#+3
   \                     ??OnRedraw_16:
   \   000002EC   1CAF9FE5           LDR      R10,??OnRedraw_15+0x8  ;; halt
   \   000002F0   00008BE5           STR      R0,[R11, #+0]
   \   000002F4   020051E3           CMP      R1,#+2
   \   000002F8   0500001A           BNE      ??OnRedraw_17
   \   000002FC   00009AE5           LDR      R0,[R10, #+0]
   \   00000300   000050E3           CMP      R0,#+0
   \   00000304   01004012           SUBNE    R0,R0,#+1
   \   00000308   00008A15           STRNE    R0,[R10, #+0]
   \   0000030C   0300A003           MOVEQ    R0,#+3
   \   00000310   00008905           STREQ    R0,[R9, #+0]
   \                     ??OnRedraw_17:
   \   00000314   080098E5           LDR      R0,[R8, #+8]
   \   00000318   0B10A0E3           MOV      R1,#+11
   \   0000031C   080200EF           SWI      +520
   \   00000320   00209BE5           LDR      R2,[R11, #+0]
   \   00000324   0510A0E3           MOV      R1,#+5
   \   00000328   550040E2           SUB      R0,R0,#+85
   \   0000032C   020050E1           CMP      R0,R2
   \   00000330   060000AA           BGE      ??OnRedraw_18
   \   00000334   000099E5           LDR      R0,[R9, #+0]
   \   00000338   010050E3           CMP      R0,#+1
   \   0000033C   0300001A           BNE      ??OnRedraw_18
   \   00000340   0200A0E3           MOV      R0,#+2
   \   00000344   000089E5           STR      R0,[R9, #+0]
   \   00000348   00108AE5           STR      R1,[R10, #+0]
   \   0000034C   160000EA           B        ??OnRedraw_9
   \                     ??OnRedraw_18:
   \   00000350   000099E5           LDR      R0,[R9, #+0]
   \   00000354   030050E3           CMP      R0,#+3
   \   00000358   0800001A           BNE      ??OnRedraw_19
   \   0000035C   000052E3           CMP      R2,#+0
   \   00000360   0300001A           BNE      ??OnRedraw_20
   \   00000364   0400A0E3           MOV      R0,#+4
   \   00000368   000089E5           STR      R0,[R9, #+0]
   \   0000036C   00108AE5           STR      R1,[R10, #+0]
   \   00000370   070000EA           B        ??OnRedraw_21
   \                     ??OnRedraw_20:
   \   00000374   030042E2           SUB      R0,R2,#+3
   \   00000378   00008BE5           STR      R0,[R11, #+0]
   \   0000037C   0A0000EA           B        ??OnRedraw_9
   \                     ??OnRedraw_19:
   \   00000380   040050E3           CMP      R0,#+4
   \   00000384   0800001A           BNE      ??OnRedraw_9
   \   00000388   00009AE5           LDR      R0,[R10, #+0]
   \   0000038C   000050E3           CMP      R0,#+0
   \   00000390   0300000A           BEQ      ??OnRedraw_22
   \                     ??OnRedraw_21:
   \   00000394   00009AE5           LDR      R0,[R10, #+0]
   \   00000398   010040E2           SUB      R0,R0,#+1
   \   0000039C   00008AE5           STR      R0,[R10, #+0]
   \   000003A0   010000EA           B        ??OnRedraw_9
   \                     ??OnRedraw_22:
   \   000003A4   0100A0E3           MOV      R0,#+1
   \   000003A8   000089E5           STR      R0,[R9, #+0]
   \                     ??OnRedraw_9:
   \   000003AC   080098E5           LDR      R0,[R8, #+8]
   \   000003B0   0020A0E3           MOV      R2,#+0
   \   000003B4   0610A0E1           MOV      R1,R6
   \   000003B8   ........           BL       SearchIcon
   \   000003BC   00109DE5           LDR      R1,[SP, #+0]
   \   000003C0   0C6086E2           ADD      R6,R6,#+12
   \   000003C4   011081E2           ADD      R1,R1,#+1
   \   000003C8   00108DE5           STR      R1,[SP, #+0]
   \   000003CC   45FFFFEA           B        ??OnRedraw_4
    396            }
    397            if(time_not)
   \                     ??OnRedraw_5:
   \   000003D0   ........           LDR      R0,??DataTable44  ;; time_not
   \   000003D4   000090E5           LDR      R0,[R0, #+0]
   \   000003D8   000050E3           CMP      R0,#+0
   \   000003DC   3E00000A           BEQ      ??OnRedraw_23
    398            {
    399            if(!style) wsprintf(ws, "Tasks:%d", tasks);
   \   000003E0   2C0E9FE5           LDR      R0,??OnRedraw_15+0xC  ;; tasks
   \   000003E4   002090E5           LDR      R2,[R0, #+0]
   \   000003E8   280E9FE5           LDR      R0,??OnRedraw_15+0x10  ;; style
   \   000003EC   000090E5           LDR      R0,[R0, #+0]
   \   000003F0   000050E3           CMP      R0,#+0
   \   000003F4   201E9F05           LDREQ    R1,??OnRedraw_15+0x14  ;; `?<Constant "Tasks:%d">`
    400            else wsprintf(ws, "T:%d", tasks);
   \   000003F8   0700A0E1           MOV      R0,R7
   \   000003FC   1C1E9F15           LDRNE    R1,??OnRedraw_15+0x18  ;; `?<Constant "T:%d">`
   \   00000400   240100EF           SWI      +292
    401            DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000404   1700A0E3           MOV      R0,#+23
   \   00000408   2E0100EF           SWI      +302
   \   0000040C   0040A0E1           MOV      R4,R0
   \   00000410   0B00A0E3           MOV      R0,#+11
   \   00000414   C50100EF           SWI      +453
   \   00000418   0060A0E1           MOV      R6,R0
   \   0000041C   0B10A0E3           MOV      R1,#+11
   \   00000420   0700A0E1           MOV      R0,R7
   \   00000424   080200EF           SWI      +520
   \   00000428   10002DE9           PUSH     {R4}
   \   0000042C   0510A0E1           MOV      R1,R5
   \   00000430   02002DE9           PUSH     {R1}
   \   00000434   133080E2           ADD      R3,R0,#+19
   \   00000438   7C20A0E3           MOV      R2,#+124
   \   0000043C   0700A0E1           MOV      R0,R7
   \   00000440   0010A0E3           MOV      R1,#+0
   \   00000444   02002DE9           PUSH     {R1}
   \   00000448   0B10A0E3           MOV      R1,#+11
   \   0000044C   02002DE9           PUSH     {R1}
   \   00000450   7D1086E2           ADD      R1,R6,#+125
   \   00000454   02002DE9           PUSH     {R1}
   \   00000458   1010A0E3           MOV      R1,#+16
   \   0000045C   4C0100EF           SWI      +332
    402            int ram = GetFreeRamAvail();
   \   00000460   5F0000EF           SWI      +95
    403            ram=ram/1024;
    404            wsprintf(ws,"Ram:%dKb", ram);
   \   00000464   C014A0E1           ASR      R1,R0,#+9
   \   00000468   210B80E0           ADD      R0,R0,R1, LSR #+22
   \   0000046C   B01D9FE5           LDR      R1,??OnRedraw_15+0x1C  ;; `?<Constant "Ram:%dKb">`
   \   00000470   4025A0E1           ASR      R2,R0,#+10
   \   00000474   0700A0E1           MOV      R0,R7
   \   00000478   240100EF           SWI      +292
    405            DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   0000047C   1700A0E3           MOV      R0,#+23
   \   00000480   2E0100EF           SWI      +302
   \   00000484   0040A0E1           MOV      R4,R0
   \   00000488   0B00A0E3           MOV      R0,#+11
   \   0000048C   C50100EF           SWI      +453
   \   00000490   0060A0E1           MOV      R6,R0
   \   00000494   0B10A0E3           MOV      R1,#+11
   \   00000498   0700A0E1           MOV      R0,R7
   \   0000049C   080200EF           SWI      +520
   \   000004A0   10002DE9           PUSH     {R4}
   \   000004A4   20002DE9           PUSH     {R5}
   \   000004A8   0010A0E3           MOV      R1,#+0
   \   000004AC   02002DE9           PUSH     {R1}
   \   000004B0   7630A0E3           MOV      R3,#+118
   \   000004B4   7C20A0E3           MOV      R2,#+124
   \   000004B8   0B10A0E3           MOV      R1,#+11
   \   000004BC   02002DE9           PUSH     {R1}
   \   000004C0   7D1086E2           ADD      R1,R6,#+125
   \   000004C4   02002DE9           PUSH     {R1}
   \   000004C8   731060E2           RSB      R1,R0,#+115
   \   000004CC   0700A0E1           MOV      R0,R7
   \   000004D0   4C0100EF           SWI      +332
   \   000004D4   28D08DE2           ADD      SP,SP,#+40
   \   000004D8   3C0000EA           B        ??OnRedraw_24
    406            }
    407            else
    408              {
    409                int battery = *RamCap();
   \                     ??OnRedraw_23:
   \   000004DC   C88000EF           SWI      +32968
   \   000004E0   B020D0E1           LDRH     R2,[R0, #+0]
    410                wsprintf(ws,"%d%", battery);
   \   000004E4   D91F8FE2           ADR      R1,??OnRedraw_0  ;; "%d%"
   \   000004E8   0700A0E1           MOV      R0,R7
   \   000004EC   240100EF           SWI      +292
    411                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   000004F0   1700A0E3           MOV      R0,#+23
   \   000004F4   2E0100EF           SWI      +302
   \   000004F8   0040A0E1           MOV      R4,R0
   \   000004FC   0B00A0E3           MOV      R0,#+11
   \   00000500   C50100EF           SWI      +453
   \   00000504   0060A0E1           MOV      R6,R0
   \   00000508   0B10A0E3           MOV      R1,#+11
   \   0000050C   0700A0E1           MOV      R0,R7
   \   00000510   080200EF           SWI      +520
   \   00000514   10002DE9           PUSH     {R4}
   \   00000518   0510A0E1           MOV      R1,R5
   \   0000051C   02002DE9           PUSH     {R1}
   \   00000520   133080E2           ADD      R3,R0,#+19
   \   00000524   7C20A0E3           MOV      R2,#+124
   \   00000528   0700A0E1           MOV      R0,R7
   \   0000052C   0010A0E3           MOV      R1,#+0
   \   00000530   02002DE9           PUSH     {R1}
   \   00000534   0B10A0E3           MOV      R1,#+11
   \   00000538   02002DE9           PUSH     {R1}
   \   0000053C   7D1086E2           ADD      R1,R6,#+125
   \   00000540   02002DE9           PUSH     {R1}
   \   00000544   1010A0E3           MOV      R1,#+16
   \   00000548   4C0100EF           SWI      +332
    412                TTime time;
    413                TDate date;
    414                GetDateTime(&date, &time);
   \   0000054C   18108DE2           ADD      R1,SP,#+24
   \   00000550   24008DE2           ADD      R0,SP,#+36
   \   00000554   B40000EF           SWI      +180
    415                wsprintf(ws, "%02d:%02d:%02d", time.hour, time.min, time.sec);
   \   00000558   1A00DDE5           LDRB     R0,[SP, #+26]
   \   0000055C   C41C9FE5           LDR      R1,??OnRedraw_15+0x20  ;; `?<Constant "%02d:%02d:%02d">`
   \   00000560   01002DE9           PUSH     {R0}
   \   00000564   1D30DDE5           LDRB     R3,[SP, #+29]
   \   00000568   1C20DDE5           LDRB     R2,[SP, #+28]
   \   0000056C   0700A0E1           MOV      R0,R7
   \   00000570   240100EF           SWI      +292
    416                DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000574   1700A0E3           MOV      R0,#+23
   \   00000578   2E0100EF           SWI      +302
   \   0000057C   0040A0E1           MOV      R4,R0
   \   00000580   0B00A0E3           MOV      R0,#+11
   \   00000584   C50100EF           SWI      +453
   \   00000588   0060A0E1           MOV      R6,R0
   \   0000058C   0B10A0E3           MOV      R1,#+11
   \   00000590   0700A0E1           MOV      R0,R7
   \   00000594   080200EF           SWI      +520
   \   00000598   10002DE9           PUSH     {R4}
   \   0000059C   20002DE9           PUSH     {R5}
   \   000005A0   0010A0E3           MOV      R1,#+0
   \   000005A4   02002DE9           PUSH     {R1}
   \   000005A8   7630A0E3           MOV      R3,#+118
   \   000005AC   7C20A0E3           MOV      R2,#+124
   \   000005B0   0B10A0E3           MOV      R1,#+11
   \   000005B4   02002DE9           PUSH     {R1}
   \   000005B8   7D1086E2           ADD      R1,R6,#+125
   \   000005BC   02002DE9           PUSH     {R1}
   \   000005C0   731060E2           RSB      R1,R0,#+115
   \   000005C4   0700A0E1           MOV      R0,R7
   \   000005C8   4C0100EF           SWI      +332
   \   000005CC   2CD08DE2           ADD      SP,SP,#+44
    417          //      GBS_StartTimerProc(&start_tmr, 30, redrit); 
    418              }
    419            FreeWS(ws);
   \                     ??OnRedraw_24:
   \   000005D0   0700A0E1           MOV      R0,R7
   \   000005D4   FF0200EA           B        ??OnRedraw_25
    420            }
    421            else
    422              if(task_list==0)
   \                     ??OnRedraw_1:
   \   000005D8   000050E3           CMP      R0,#+0
   \   000005DC   5A02001A           BNE      ??OnRedraw_26
    423            {//===============================do the links
    424              DrwImg3(&screen2, 0, 0, NULL, NULL);
   \   000005E0   01002DE9           PUSH     {R0}
   \   000005E4   0030A0E3           MOV      R3,#+0
   \   000005E8   0020A0E3           MOV      R2,#+0
   \   000005EC   0210A0E1           MOV      R1,R2
   \   000005F0   0900A0E1           MOV      R0,R9
   \   000005F4   ........           BL       DrwImg3
    425              DrawImg(12, 26,(int)background_img);  //12,37
   \   000005F8   0820A0E1           MOV      R2,R8
   \   000005FC   1A10A0E3           MOV      R1,#+26
   \   00000600   0C00A0E3           MOV      R0,#+12
   \   00000604   230000EF           SWI      +35
    426              DrawImg(16,48+(pos*12),(int)cursor_img);
   \   00000608   6C029FE5           LDR      R0,??OnRedraw_0+0x2C  ;; pos
   \   0000060C   0C10A0E3           MOV      R1,#+12
   \   00000610   000090E5           LDR      R0,[R0, #+0]
   \   00000614   0720A0E1           MOV      R2,R7
    427              DrawImg(100,39,(int)selection_img);
    428              int show=0;
    429              int i=60;
    430              int len;
    431              int skip=move_skip;
    432              WSHDR *ws=AllocWS(32);
    433              if((!skip)&&(book_show>=1)&&(show<5))
   \   00000618   ........           LDR      R7,??DataTable28  ;; book_show
   \   0000061C   910000E0           MUL      R0,R1,R0
   \   00000620   0080A0E3           MOV      R8,#+0
   \   00000624   301080E2           ADD      R1,R0,#+48
   \   00000628   1000A0E3           MOV      R0,#+16
   \   0000062C   230000EF           SWI      +35
   \   00000630   0620A0E1           MOV      R2,R6
   \   00000634   2710A0E3           MOV      R1,#+39
   \   00000638   6400A0E3           MOV      R0,#+100
   \   0000063C   230000EF           SWI      +35
   \   00000640   00B09AE5           LDR      R11,[R10, #+0]
   \   00000644   3C90A0E3           MOV      R9,#+60
   \   00000648   2000A0E3           MOV      R0,#+32
   \   0000064C   250100EF           SWI      +293
   \   00000650   0060A0E1           MOV      R6,R0
   \   00000654   00005BE3           CMP      R11,#+0
   \   00000658   04D08DE2           ADD      SP,SP,#+4
   \   0000065C   2500001A           BNE      ??OnRedraw_27
   \   00000660   000097E5           LDR      R0,[R7, #+0]
   \   00000664   010050E3           CMP      R0,#+1
   \   00000668   220000BA           BLT      ??OnRedraw_27
    434              {
    435                  wsprintf(ws, BM1NAME);
   \   0000066C   ........           LDR      R1,??DataTable29  ;; BM1NAME
   \   00000670   0600A0E1           MOV      R0,R6
   \   00000674   240100EF           SWI      +292
    436                //  DrawString(ws,17,i+1,115,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
    437                  len=Get_WS_width(ws,11)/2;
   \   00000678   0B10A0E3           MOV      R1,#+11
   \   0000067C   0600A0E1           MOV      R0,R6
   \   00000680   080200EF           SWI      +520
   \   00000684   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000688   C0A0A0E1           ASR      R10,R0,#+1
    438                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   0000068C   1700A0E3           MOV      R0,#+23
   \   00000690   2E0100EF           SWI      +302
   \   00000694   0080A0E1           MOV      R8,R0
   \   00000698   0B00A0E3           MOV      R0,#+11
   \   0000069C   C50100EF           SWI      +453
   \   000006A0   00012DE9           PUSH     {R8}
   \   000006A4   0410A0E1           MOV      R1,R4
   \   000006A8   02002DE9           PUSH     {R1}
   \   000006AC   3E0080E2           ADD      R0,R0,#+62
   \   000006B0   42308AE2           ADD      R3,R10,#+66
   \   000006B4   3D20A0E3           MOV      R2,#+61
   \   000006B8   0010A0E3           MOV      R1,#+0
   \   000006BC   02002DE9           PUSH     {R1}
    439                  SearchIcon(ws, i, 1);
    440                  show++;
   \   000006C0   0180A0E3           MOV      R8,#+1
    441                  i=i+12;
   \   000006C4   4890A0E3           MOV      R9,#+72
   \   000006C8   0B10A0E3           MOV      R1,#+11
   \   000006CC   02002DE9           PUSH     {R1}
   \   000006D0   01002DE9           PUSH     {R0}
   \   000006D4   42106AE2           RSB      R1,R10,#+66
   \   000006D8   0600A0E1           MOV      R0,R6
   \   000006DC   4C0100EF           SWI      +332
   \   000006E0   0120A0E3           MOV      R2,#+1
   \   000006E4   3C10A0E3           MOV      R1,#+60
   \   000006E8   0600A0E1           MOV      R0,R6
   \   000006EC   ........           BL       SearchIcon
   \   000006F0   14D08DE2           ADD      SP,SP,#+20
   \   000006F4   010000EA           B        ??OnRedraw_28
    442              }
    443              else
    444                skip--;
   \                     ??OnRedraw_27:
   \   000006F8   01B05BE2           SUBS     R11,R11,#+1
    445              if((!skip)&&(book_show>=2)&&(show<5))
   \   000006FC   2700001A           BNE      ??OnRedraw_29
   \                     ??OnRedraw_28:
   \   00000700   000097E5           LDR      R0,[R7, #+0]
   \   00000704   020050E3           CMP      R0,#+2
   \   00000708   240000BA           BLT      ??OnRedraw_29
    446              {
    447                  wsprintf(ws, BM2NAME);
   \   0000070C   ........           LDR      R1,??DataTable30  ;; BM2NAME
   \   00000710   0600A0E1           MOV      R0,R6
   \   00000714   240100EF           SWI      +292
    448                  len=Get_WS_width(ws,11)/2;
   \   00000718   0B10A0E3           MOV      R1,#+11
   \   0000071C   0600A0E1           MOV      R0,R6
   \   00000720   080200EF           SWI      +520
   \   00000724   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000728   C0A0A0E1           ASR      R10,R0,#+1
    449                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   0000072C   1700A0E3           MOV      R0,#+23
   \   00000730   2E0100EF           SWI      +302
   \   00000734   00008DE5           STR      R0,[SP, #+0]
   \   00000738   0B00A0E3           MOV      R0,#+11
   \   0000073C   C50100EF           SWI      +453
   \   00000740   00109DE5           LDR      R1,[SP, #+0]
   \   00000744   090080E0           ADD      R0,R0,R9
   \   00000748   02002DE9           PUSH     {R1}
   \   0000074C   020080E2           ADD      R0,R0,#+2
   \   00000750   42308AE2           ADD      R3,R10,#+66
   \   00000754   012089E2           ADD      R2,R9,#+1
   \   00000758   0410A0E1           MOV      R1,R4
   \   0000075C   02002DE9           PUSH     {R1}
    450                  SearchIcon(ws, i, 1);
    451                  show++;
   \   00000760   018088E2           ADD      R8,R8,#+1
   \   00000764   0010A0E3           MOV      R1,#+0
   \   00000768   02002DE9           PUSH     {R1}
   \   0000076C   0B10A0E3           MOV      R1,#+11
   \   00000770   02002DE9           PUSH     {R1}
   \   00000774   01002DE9           PUSH     {R0}
   \   00000778   42106AE2           RSB      R1,R10,#+66
   \   0000077C   0600A0E1           MOV      R0,R6
   \   00000780   4C0100EF           SWI      +332
   \   00000784   0120A0E3           MOV      R2,#+1
   \   00000788   0910A0E1           MOV      R1,R9
   \   0000078C   0600A0E1           MOV      R0,R6
   \   00000790   ........           BL       SearchIcon
    452                  i=i+12;
   \   00000794   0C9089E2           ADD      R9,R9,#+12
   \   00000798   14D08DE2           ADD      SP,SP,#+20
   \   0000079C   010000EA           B        ??OnRedraw_30
    453              }
    454              else
    455                skip--;
   \                     ??OnRedraw_29:
   \   000007A0   01B05BE2           SUBS     R11,R11,#+1
    456              if((!skip)&&(book_show>=3)&&(show<5))
   \   000007A4   3800001A           BNE      ??OnRedraw_31
   \                     ??OnRedraw_30:
   \   000007A8   000097E5           LDR      R0,[R7, #+0]
   \   000007AC   030050E3           CMP      R0,#+3
   \   000007B0   350000BA           BLT      ??OnRedraw_31
   \   000007B4   050058E3           CMP      R8,#+5
   \   000007B8   330000AA           BGE      ??OnRedraw_31
    457              {
    458                  wsprintf(ws, BM3NAME);
   \   000007BC   ........           LDR      R1,??DataTable31  ;; BM3NAME
   \   000007C0   0600A0E1           MOV      R0,R6
   \   000007C4   240100EF           SWI      +292
    459                  len=Get_WS_width(ws,11)/2;
   \   000007C8   0B10A0E3           MOV      R1,#+11
   \   000007CC   0600A0E1           MOV      R0,R6
   \   000007D0   080200EF           SWI      +520
   \   000007D4   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   000007D8   C0A0A0E1           ASR      R10,R0,#+1
    460                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   000007DC   1700A0E3           MOV      R0,#+23
   \   000007E0   2E0100EF           SWI      +302
   \   000007E4   00008DE5           STR      R0,[SP, #+0]
   \   000007E8   0B00A0E3           MOV      R0,#+11
   \   000007EC   C50100EF           SWI      +453
   \   000007F0   00109DE5           LDR      R1,[SP, #+0]
   \   000007F4   090080E0           ADD      R0,R0,R9
   \   000007F8   02002DE9           PUSH     {R1}
   \   000007FC   020080E2           ADD      R0,R0,#+2
   \   00000800   42308AE2           ADD      R3,R10,#+66
   \   00000804   012089E2           ADD      R2,R9,#+1
   \   00000808   0410A0E1           MOV      R1,R4
   \   0000080C   02002DE9           PUSH     {R1}
    461                  SearchIcon(ws, i, 1);
    462                  show++;
   \   00000810   018088E2           ADD      R8,R8,#+1
   \   00000814   0010A0E3           MOV      R1,#+0
   \   00000818   02002DE9           PUSH     {R1}
   \   0000081C   0B10A0E3           MOV      R1,#+11
   \   00000820   02002DE9           PUSH     {R1}
   \   00000824   01002DE9           PUSH     {R0}
   \   00000828   42106AE2           RSB      R1,R10,#+66
   \   0000082C   0600A0E1           MOV      R0,R6
   \   00000830   4C0100EF           SWI      +332
   \   00000834   0120A0E3           MOV      R2,#+1
   \   00000838   0910A0E1           MOV      R1,R9
   \   0000083C   0600A0E1           MOV      R0,R6
   \   00000840   ........           BL       SearchIcon
    463                  i=i+12;
   \   00000844   0C9089E2           ADD      R9,R9,#+12
   \   00000848   14D08DE2           ADD      SP,SP,#+20
   \   0000084C   100000EA           B        ??OnRedraw_32
   \                     ??OnRedraw_0:
   \   00000850   25642500           DC8      "%d%"
   \   00000854   ........           DC32     refresh
   \   00000858   ........           DC32     selection_img
   \   0000085C   ........           DC32     cursor_img
   \   00000860   ........           DC32     background_img
   \   00000864   ........           DC32     ctasks
   \   00000868   ........           DC32     move_skip
   \   0000086C   ........           DC32     cinfo
   \   00000870   ........           DC32     screen2
   \   00000874   ........           DC32     task_list
   \   00000878   ........           DC32     total_d
   \   0000087C   ........           DC32     pos
   \   00000880   ........           DC32     nltop
   \   00000884   ........           DC32     cdaemons
   \   00000888   ........           DC32     sm
    464              }
    465              else
    466                skip--;
   \                     ??OnRedraw_31:
   \   0000088C   01B05BE2           SUBS     R11,R11,#+1
    467              if((!skip)&&(book_show>=4)&&(show<5))
   \   00000890   2900001A           BNE      ??OnRedraw_33
   \                     ??OnRedraw_32:
   \   00000894   000097E5           LDR      R0,[R7, #+0]
   \   00000898   040050E3           CMP      R0,#+4
   \   0000089C   260000BA           BLT      ??OnRedraw_33
   \   000008A0   050058E3           CMP      R8,#+5
   \   000008A4   240000AA           BGE      ??OnRedraw_33
    468              {
    469                  wsprintf(ws, BM4NAME);
   \   000008A8   ........           LDR      R1,??DataTable32  ;; BM4NAME
   \   000008AC   0600A0E1           MOV      R0,R6
   \   000008B0   240100EF           SWI      +292
    470                  len=Get_WS_width(ws,11)/2;
   \   000008B4   0B10A0E3           MOV      R1,#+11
   \   000008B8   0600A0E1           MOV      R0,R6
   \   000008BC   080200EF           SWI      +520
   \   000008C0   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   000008C4   C0A0A0E1           ASR      R10,R0,#+1
    471                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   000008C8   1700A0E3           MOV      R0,#+23
   \   000008CC   2E0100EF           SWI      +302
   \   000008D0   00008DE5           STR      R0,[SP, #+0]
   \   000008D4   0B00A0E3           MOV      R0,#+11
   \   000008D8   C50100EF           SWI      +453
   \   000008DC   00109DE5           LDR      R1,[SP, #+0]
   \   000008E0   090080E0           ADD      R0,R0,R9
   \   000008E4   02002DE9           PUSH     {R1}
   \   000008E8   020080E2           ADD      R0,R0,#+2
   \   000008EC   42308AE2           ADD      R3,R10,#+66
   \   000008F0   012089E2           ADD      R2,R9,#+1
   \   000008F4   0410A0E1           MOV      R1,R4
   \   000008F8   02002DE9           PUSH     {R1}
    472                  SearchIcon(ws, i ,1);
    473                  show++;
   \   000008FC   018088E2           ADD      R8,R8,#+1
   \   00000900   0010A0E3           MOV      R1,#+0
   \   00000904   02002DE9           PUSH     {R1}
   \   00000908   0B10A0E3           MOV      R1,#+11
   \   0000090C   02002DE9           PUSH     {R1}
   \   00000910   01002DE9           PUSH     {R0}
   \   00000914   42106AE2           RSB      R1,R10,#+66
   \   00000918   0600A0E1           MOV      R0,R6
   \   0000091C   4C0100EF           SWI      +332
   \   00000920   0120A0E3           MOV      R2,#+1
   \   00000924   0910A0E1           MOV      R1,R9
   \   00000928   0600A0E1           MOV      R0,R6
   \   0000092C   ........           BL       SearchIcon
    474                  i=i+12;
   \   00000930   0C9089E2           ADD      R9,R9,#+12
   \   00000934   14D08DE2           ADD      SP,SP,#+20
   \   00000938   010000EA           B        ??OnRedraw_34
    475              }
    476              else
    477                skip--;
   \                     ??OnRedraw_33:
   \   0000093C   01B05BE2           SUBS     R11,R11,#+1
    478              if((!skip)&&(book_show>=5)&&(show<5))
   \   00000940   2900001A           BNE      ??OnRedraw_35
   \                     ??OnRedraw_34:
   \   00000944   000097E5           LDR      R0,[R7, #+0]
   \   00000948   050050E3           CMP      R0,#+5
   \   0000094C   260000BA           BLT      ??OnRedraw_35
   \   00000950   050058E3           CMP      R8,#+5
   \   00000954   240000AA           BGE      ??OnRedraw_35
    479              {
    480                  wsprintf(ws, BM5NAME);
   \   00000958   ........           LDR      R1,??DataTable33  ;; BM5NAME
   \   0000095C   0600A0E1           MOV      R0,R6
   \   00000960   240100EF           SWI      +292
    481                  len=Get_WS_width(ws,11)/2;
   \   00000964   0B10A0E3           MOV      R1,#+11
   \   00000968   0600A0E1           MOV      R0,R6
   \   0000096C   080200EF           SWI      +520
   \   00000970   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000974   C0A0A0E1           ASR      R10,R0,#+1
    482                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000978   1700A0E3           MOV      R0,#+23
   \   0000097C   2E0100EF           SWI      +302
   \   00000980   00008DE5           STR      R0,[SP, #+0]
   \   00000984   0B00A0E3           MOV      R0,#+11
   \   00000988   C50100EF           SWI      +453
   \   0000098C   00109DE5           LDR      R1,[SP, #+0]
   \   00000990   090080E0           ADD      R0,R0,R9
   \   00000994   02002DE9           PUSH     {R1}
   \   00000998   020080E2           ADD      R0,R0,#+2
   \   0000099C   42308AE2           ADD      R3,R10,#+66
   \   000009A0   012089E2           ADD      R2,R9,#+1
   \   000009A4   0410A0E1           MOV      R1,R4
   \   000009A8   02002DE9           PUSH     {R1}
    483                  SearchIcon(ws, i, 1);
    484                  show++;
   \   000009AC   018088E2           ADD      R8,R8,#+1
   \   000009B0   0010A0E3           MOV      R1,#+0
   \   000009B4   02002DE9           PUSH     {R1}
   \   000009B8   0B10A0E3           MOV      R1,#+11
   \   000009BC   02002DE9           PUSH     {R1}
   \   000009C0   01002DE9           PUSH     {R0}
   \   000009C4   42106AE2           RSB      R1,R10,#+66
   \   000009C8   0600A0E1           MOV      R0,R6
   \   000009CC   4C0100EF           SWI      +332
   \   000009D0   0120A0E3           MOV      R2,#+1
   \   000009D4   0910A0E1           MOV      R1,R9
   \   000009D8   0600A0E1           MOV      R0,R6
   \   000009DC   ........           BL       SearchIcon
    485                  i=i+12;
   \   000009E0   0C9089E2           ADD      R9,R9,#+12
   \   000009E4   14D08DE2           ADD      SP,SP,#+20
   \   000009E8   010000EA           B        ??OnRedraw_36
    486              }
    487              else
    488                skip--;
   \                     ??OnRedraw_35:
   \   000009EC   01B05BE2           SUBS     R11,R11,#+1
    489              if((!skip)&&(book_show>=6)&&(show<5))
   \   000009F0   2900001A           BNE      ??OnRedraw_37
   \                     ??OnRedraw_36:
   \   000009F4   000097E5           LDR      R0,[R7, #+0]
   \   000009F8   060050E3           CMP      R0,#+6
   \   000009FC   260000BA           BLT      ??OnRedraw_37
   \   00000A00   050058E3           CMP      R8,#+5
   \   00000A04   240000AA           BGE      ??OnRedraw_37
    490              {
    491                  wsprintf(ws, BM6NAME);
   \   00000A08   ........           LDR      R1,??DataTable34  ;; BM6NAME
   \   00000A0C   0600A0E1           MOV      R0,R6
   \   00000A10   240100EF           SWI      +292
    492                  len=Get_WS_width(ws,11)/2;
   \   00000A14   0B10A0E3           MOV      R1,#+11
   \   00000A18   0600A0E1           MOV      R0,R6
   \   00000A1C   080200EF           SWI      +520
   \   00000A20   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000A24   C0A0A0E1           ASR      R10,R0,#+1
    493                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000A28   1700A0E3           MOV      R0,#+23
   \   00000A2C   2E0100EF           SWI      +302
   \   00000A30   00008DE5           STR      R0,[SP, #+0]
   \   00000A34   0B00A0E3           MOV      R0,#+11
   \   00000A38   C50100EF           SWI      +453
   \   00000A3C   00109DE5           LDR      R1,[SP, #+0]
   \   00000A40   090080E0           ADD      R0,R0,R9
   \   00000A44   02002DE9           PUSH     {R1}
   \   00000A48   020080E2           ADD      R0,R0,#+2
   \   00000A4C   42308AE2           ADD      R3,R10,#+66
   \   00000A50   012089E2           ADD      R2,R9,#+1
   \   00000A54   0410A0E1           MOV      R1,R4
   \   00000A58   02002DE9           PUSH     {R1}
    494                  SearchIcon(ws, i, 1);
    495                  show++;
   \   00000A5C   018088E2           ADD      R8,R8,#+1
   \   00000A60   0010A0E3           MOV      R1,#+0
   \   00000A64   02002DE9           PUSH     {R1}
   \   00000A68   0B10A0E3           MOV      R1,#+11
   \   00000A6C   02002DE9           PUSH     {R1}
   \   00000A70   01002DE9           PUSH     {R0}
   \   00000A74   42106AE2           RSB      R1,R10,#+66
   \   00000A78   0600A0E1           MOV      R0,R6
   \   00000A7C   4C0100EF           SWI      +332
   \   00000A80   0120A0E3           MOV      R2,#+1
   \   00000A84   0910A0E1           MOV      R1,R9
   \   00000A88   0600A0E1           MOV      R0,R6
   \   00000A8C   ........           BL       SearchIcon
    496                  i=i+12;
   \   00000A90   0C9089E2           ADD      R9,R9,#+12
   \   00000A94   14D08DE2           ADD      SP,SP,#+20
   \   00000A98   010000EA           B        ??OnRedraw_38
    497              }
    498              else
    499                skip--;
   \                     ??OnRedraw_37:
   \   00000A9C   01B05BE2           SUBS     R11,R11,#+1
    500              if((!skip)&&(book_show>=7)&&(show<5))
   \   00000AA0   2900001A           BNE      ??OnRedraw_39
   \                     ??OnRedraw_38:
   \   00000AA4   000097E5           LDR      R0,[R7, #+0]
   \   00000AA8   070050E3           CMP      R0,#+7
   \   00000AAC   260000BA           BLT      ??OnRedraw_39
   \   00000AB0   050058E3           CMP      R8,#+5
   \   00000AB4   240000AA           BGE      ??OnRedraw_39
    501              {
    502                  wsprintf(ws, BM7NAME);
   \   00000AB8   ........           LDR      R1,??DataTable35  ;; BM7NAME
   \   00000ABC   0600A0E1           MOV      R0,R6
   \   00000AC0   240100EF           SWI      +292
    503                  len=Get_WS_width(ws,11)/2;
   \   00000AC4   0B10A0E3           MOV      R1,#+11
   \   00000AC8   0600A0E1           MOV      R0,R6
   \   00000ACC   080200EF           SWI      +520
   \   00000AD0   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000AD4   C0A0A0E1           ASR      R10,R0,#+1
    504                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000AD8   1700A0E3           MOV      R0,#+23
   \   00000ADC   2E0100EF           SWI      +302
   \   00000AE0   00008DE5           STR      R0,[SP, #+0]
   \   00000AE4   0B00A0E3           MOV      R0,#+11
   \   00000AE8   C50100EF           SWI      +453
   \   00000AEC   00109DE5           LDR      R1,[SP, #+0]
   \   00000AF0   090080E0           ADD      R0,R0,R9
   \   00000AF4   02002DE9           PUSH     {R1}
   \   00000AF8   020080E2           ADD      R0,R0,#+2
   \   00000AFC   42308AE2           ADD      R3,R10,#+66
   \   00000B00   012089E2           ADD      R2,R9,#+1
   \   00000B04   0410A0E1           MOV      R1,R4
   \   00000B08   02002DE9           PUSH     {R1}
    505                  SearchIcon(ws, i, 1);
    506                  show++;
   \   00000B0C   018088E2           ADD      R8,R8,#+1
   \   00000B10   0010A0E3           MOV      R1,#+0
   \   00000B14   02002DE9           PUSH     {R1}
   \   00000B18   0B10A0E3           MOV      R1,#+11
   \   00000B1C   02002DE9           PUSH     {R1}
   \   00000B20   01002DE9           PUSH     {R0}
   \   00000B24   42106AE2           RSB      R1,R10,#+66
   \   00000B28   0600A0E1           MOV      R0,R6
   \   00000B2C   4C0100EF           SWI      +332
   \   00000B30   0120A0E3           MOV      R2,#+1
   \   00000B34   0910A0E1           MOV      R1,R9
   \   00000B38   0600A0E1           MOV      R0,R6
   \   00000B3C   ........           BL       SearchIcon
    507                  i=i+12;
   \   00000B40   0C9089E2           ADD      R9,R9,#+12
   \   00000B44   14D08DE2           ADD      SP,SP,#+20
   \   00000B48   010000EA           B        ??OnRedraw_40
    508              }
    509              else
    510                skip--;
   \                     ??OnRedraw_39:
   \   00000B4C   01B05BE2           SUBS     R11,R11,#+1
    511              if((!skip)&&(book_show>=8)&&(show<5))
   \   00000B50   2900001A           BNE      ??OnRedraw_41
   \                     ??OnRedraw_40:
   \   00000B54   000097E5           LDR      R0,[R7, #+0]
   \   00000B58   080050E3           CMP      R0,#+8
   \   00000B5C   260000BA           BLT      ??OnRedraw_41
   \   00000B60   050058E3           CMP      R8,#+5
   \   00000B64   240000AA           BGE      ??OnRedraw_41
    512              {
    513                  wsprintf(ws, BM8NAME);
   \   00000B68   ........           LDR      R1,??DataTable36  ;; BM8NAME
   \   00000B6C   0600A0E1           MOV      R0,R6
   \   00000B70   240100EF           SWI      +292
    514                  len=Get_WS_width(ws,11)/2;
   \   00000B74   0B10A0E3           MOV      R1,#+11
   \   00000B78   0600A0E1           MOV      R0,R6
   \   00000B7C   080200EF           SWI      +520
   \   00000B80   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000B84   C0A0A0E1           ASR      R10,R0,#+1
    515                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000B88   1700A0E3           MOV      R0,#+23
   \   00000B8C   2E0100EF           SWI      +302
   \   00000B90   00008DE5           STR      R0,[SP, #+0]
   \   00000B94   0B00A0E3           MOV      R0,#+11
   \   00000B98   C50100EF           SWI      +453
   \   00000B9C   00109DE5           LDR      R1,[SP, #+0]
   \   00000BA0   090080E0           ADD      R0,R0,R9
   \   00000BA4   02002DE9           PUSH     {R1}
   \   00000BA8   020080E2           ADD      R0,R0,#+2
   \   00000BAC   42308AE2           ADD      R3,R10,#+66
   \   00000BB0   012089E2           ADD      R2,R9,#+1
   \   00000BB4   0410A0E1           MOV      R1,R4
   \   00000BB8   02002DE9           PUSH     {R1}
    516                  SearchIcon(ws, i, 1);
    517                  show++;
   \   00000BBC   018088E2           ADD      R8,R8,#+1
   \   00000BC0   0010A0E3           MOV      R1,#+0
   \   00000BC4   02002DE9           PUSH     {R1}
   \   00000BC8   0B10A0E3           MOV      R1,#+11
   \   00000BCC   02002DE9           PUSH     {R1}
   \   00000BD0   01002DE9           PUSH     {R0}
   \   00000BD4   42106AE2           RSB      R1,R10,#+66
   \   00000BD8   0600A0E1           MOV      R0,R6
   \   00000BDC   4C0100EF           SWI      +332
   \   00000BE0   0120A0E3           MOV      R2,#+1
   \   00000BE4   0910A0E1           MOV      R1,R9
   \   00000BE8   0600A0E1           MOV      R0,R6
   \   00000BEC   ........           BL       SearchIcon
    518                  i=i+12;
   \   00000BF0   0C9089E2           ADD      R9,R9,#+12
   \   00000BF4   14D08DE2           ADD      SP,SP,#+20
   \   00000BF8   010000EA           B        ??OnRedraw_42
    519              }
    520              else
    521                skip--;
   \                     ??OnRedraw_41:
   \   00000BFC   01B05BE2           SUBS     R11,R11,#+1
    522              if((!skip)&&(book_show>=9)&&(show<5))
   \   00000C00   2800001A           BNE      ??OnRedraw_43
   \                     ??OnRedraw_42:
   \   00000C04   000097E5           LDR      R0,[R7, #+0]
   \   00000C08   090050E3           CMP      R0,#+9
   \   00000C0C   250000BA           BLT      ??OnRedraw_43
   \   00000C10   050058E3           CMP      R8,#+5
   \   00000C14   230000AA           BGE      ??OnRedraw_43
    523              {
    524                  wsprintf(ws, BM9NAME);
   \   00000C18   ........           LDR      R1,??DataTable37  ;; BM9NAME
   \   00000C1C   0600A0E1           MOV      R0,R6
   \   00000C20   240100EF           SWI      +292
    525                  len=Get_WS_width(ws,11)/2;
   \   00000C24   0B10A0E3           MOV      R1,#+11
   \   00000C28   0600A0E1           MOV      R0,R6
   \   00000C2C   080200EF           SWI      +520
   \   00000C30   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000C34   C0A0A0E1           ASR      R10,R0,#+1
    526                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000C38   1700A0E3           MOV      R0,#+23
   \   00000C3C   2E0100EF           SWI      +302
   \   00000C40   00B0A0E1           MOV      R11,R0
   \   00000C44   0B00A0E3           MOV      R0,#+11
   \   00000C48   C50100EF           SWI      +453
   \   00000C4C   00082DE9           PUSH     {R11}
   \   00000C50   0410A0E1           MOV      R1,R4
   \   00000C54   02002DE9           PUSH     {R1}
   \   00000C58   090080E0           ADD      R0,R0,R9
   \   00000C5C   020080E2           ADD      R0,R0,#+2
   \   00000C60   42308AE2           ADD      R3,R10,#+66
   \   00000C64   0010A0E3           MOV      R1,#+0
   \   00000C68   02002DE9           PUSH     {R1}
   \   00000C6C   012089E2           ADD      R2,R9,#+1
    527                  SearchIcon(ws, i, 1);
    528                  show++;
   \   00000C70   018088E2           ADD      R8,R8,#+1
   \   00000C74   0B10A0E3           MOV      R1,#+11
   \   00000C78   02002DE9           PUSH     {R1}
   \   00000C7C   01002DE9           PUSH     {R0}
   \   00000C80   42106AE2           RSB      R1,R10,#+66
   \   00000C84   0600A0E1           MOV      R0,R6
   \   00000C88   4C0100EF           SWI      +332
   \   00000C8C   0120A0E3           MOV      R2,#+1
   \   00000C90   0910A0E1           MOV      R1,R9
   \   00000C94   0600A0E1           MOV      R0,R6
   \   00000C98   ........           BL       SearchIcon
    529                  i=i+12;
   \   00000C9C   0C9089E2           ADD      R9,R9,#+12
   \   00000CA0   14D08DE2           ADD      SP,SP,#+20
   \   00000CA4   010000EA           B        ??OnRedraw_44
    530              }
    531              else
    532                skip--;
    533              if((!skip)&&(book_show>=10)&&(show<5))
   \                     ??OnRedraw_43:
   \   00000CA8   01005BE2           SUBS     R0,R11,#+1
   \   00000CAC   2400001A           BNE      ??OnRedraw_45
   \                     ??OnRedraw_44:
   \   00000CB0   000097E5           LDR      R0,[R7, #+0]
   \   00000CB4   0A0050E3           CMP      R0,#+10
   \   00000CB8   210000BA           BLT      ??OnRedraw_45
   \   00000CBC   050058E3           CMP      R8,#+5
   \   00000CC0   1F0000AA           BGE      ??OnRedraw_45
    534              {
    535                  wsprintf(ws, BM0NAME);
   \   00000CC4   ........           LDR      R1,??DataTable38  ;; BM0NAME
   \   00000CC8   0600A0E1           MOV      R0,R6
   \   00000CCC   240100EF           SWI      +292
    536                  len=Get_WS_width(ws,11)/2;
   \   00000CD0   0B10A0E3           MOV      R1,#+11
   \   00000CD4   0600A0E1           MOV      R0,R6
   \   00000CD8   080200EF           SWI      +520
   \   00000CDC   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000CE0   C0A0A0E1           ASR      R10,R0,#+1
    537                  DrawString(ws,66-len,i+1,66+len,i+GetFontYSIZE(11)+2,11,0,ctasks,GetPaletteAdrByColorIndex(23));
   \   00000CE4   1700A0E3           MOV      R0,#+23
   \   00000CE8   2E0100EF           SWI      +302
   \   00000CEC   0070A0E1           MOV      R7,R0
   \   00000CF0   0B00A0E3           MOV      R0,#+11
   \   00000CF4   C50100EF           SWI      +453
   \   00000CF8   80002DE9           PUSH     {R7}
   \   00000CFC   10002DE9           PUSH     {R4}
   \   00000D00   0010A0E3           MOV      R1,#+0
   \   00000D04   02002DE9           PUSH     {R1}
   \   00000D08   090080E0           ADD      R0,R0,R9
   \   00000D0C   020080E2           ADD      R0,R0,#+2
   \   00000D10   42308AE2           ADD      R3,R10,#+66
   \   00000D14   0B10A0E3           MOV      R1,#+11
   \   00000D18   02002DE9           PUSH     {R1}
   \   00000D1C   01002DE9           PUSH     {R0}
   \   00000D20   012089E2           ADD      R2,R9,#+1
   \   00000D24   42106AE2           RSB      R1,R10,#+66
   \   00000D28   0600A0E1           MOV      R0,R6
   \   00000D2C   4C0100EF           SWI      +332
    538                  SearchIcon(ws, i, 1);
   \   00000D30   0120A0E3           MOV      R2,#+1
   \   00000D34   0910A0E1           MOV      R1,R9
   \   00000D38   0600A0E1           MOV      R0,R6
   \   00000D3C   ........           BL       SearchIcon
    539                  show++;
    540                  i=i+12;
   \   00000D40   14D08DE2           ADD      SP,SP,#+20
    541              }
    542              else
    543                skip--;
    544              if(time_not)
   \                     ??OnRedraw_45:
   \   00000D44   ........           LDR      R0,??DataTable44  ;; time_not
   \   00000D48   000090E5           LDR      R0,[R0, #+0]
   \   00000D4C   000050E3           CMP      R0,#+0
   \   00000D50   3E00000A           BEQ      ??OnRedraw_46
    545              {
    546                if(!style) wsprintf(ws, "Tasks:%d", tasks);
   \   00000D54   B8049FE5           LDR      R0,??OnRedraw_15+0xC  ;; tasks
   \   00000D58   002090E5           LDR      R2,[R0, #+0]
   \   00000D5C   B4049FE5           LDR      R0,??OnRedraw_15+0x10  ;; style
   \   00000D60   000090E5           LDR      R0,[R0, #+0]
   \   00000D64   000050E3           CMP      R0,#+0
   \   00000D68   AC149F05           LDREQ    R1,??OnRedraw_15+0x14  ;; `?<Constant "Tasks:%d">`
    547                else wsprintf(ws, "T:%d", tasks);
   \   00000D6C   0600A0E1           MOV      R0,R6
   \   00000D70   A8149F15           LDRNE    R1,??OnRedraw_15+0x18  ;; `?<Constant "T:%d">`
   \   00000D74   240100EF           SWI      +292
    548                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000D78   1700A0E3           MOV      R0,#+23
   \   00000D7C   2E0100EF           SWI      +302
   \   00000D80   0040A0E1           MOV      R4,R0
   \   00000D84   0B00A0E3           MOV      R0,#+11
   \   00000D88   C50100EF           SWI      +453
   \   00000D8C   0070A0E1           MOV      R7,R0
   \   00000D90   0B10A0E3           MOV      R1,#+11
   \   00000D94   0600A0E1           MOV      R0,R6
   \   00000D98   080200EF           SWI      +520
   \   00000D9C   10002DE9           PUSH     {R4}
   \   00000DA0   0510A0E1           MOV      R1,R5
   \   00000DA4   02002DE9           PUSH     {R1}
   \   00000DA8   133080E2           ADD      R3,R0,#+19
   \   00000DAC   7C20A0E3           MOV      R2,#+124
   \   00000DB0   0600A0E1           MOV      R0,R6
   \   00000DB4   0010A0E3           MOV      R1,#+0
   \   00000DB8   02002DE9           PUSH     {R1}
   \   00000DBC   0B10A0E3           MOV      R1,#+11
   \   00000DC0   02002DE9           PUSH     {R1}
   \   00000DC4   7D1087E2           ADD      R1,R7,#+125
   \   00000DC8   02002DE9           PUSH     {R1}
   \   00000DCC   1010A0E3           MOV      R1,#+16
   \   00000DD0   4C0100EF           SWI      +332
    549                int ram = GetFreeRamAvail();
   \   00000DD4   5F0000EF           SWI      +95
    550                ram=ram/1024;
    551                wsprintf(ws,"Ram:%dKb", ram);
   \   00000DD8   C014A0E1           ASR      R1,R0,#+9
   \   00000DDC   210B80E0           ADD      R0,R0,R1, LSR #+22
   \   00000DE0   3C149FE5           LDR      R1,??OnRedraw_15+0x1C  ;; `?<Constant "Ram:%dKb">`
   \   00000DE4   4025A0E1           ASR      R2,R0,#+10
   \   00000DE8   0600A0E1           MOV      R0,R6
   \   00000DEC   240100EF           SWI      +292
    552                 DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000DF0   1700A0E3           MOV      R0,#+23
   \   00000DF4   2E0100EF           SWI      +302
   \   00000DF8   0040A0E1           MOV      R4,R0
   \   00000DFC   0B00A0E3           MOV      R0,#+11
   \   00000E00   C50100EF           SWI      +453
   \   00000E04   0070A0E1           MOV      R7,R0
   \   00000E08   0B10A0E3           MOV      R1,#+11
   \   00000E0C   0600A0E1           MOV      R0,R6
   \   00000E10   080200EF           SWI      +520
   \   00000E14   10002DE9           PUSH     {R4}
   \   00000E18   20002DE9           PUSH     {R5}
   \   00000E1C   0010A0E3           MOV      R1,#+0
   \   00000E20   02002DE9           PUSH     {R1}
   \   00000E24   7630A0E3           MOV      R3,#+118
   \   00000E28   7C20A0E3           MOV      R2,#+124
   \   00000E2C   0B10A0E3           MOV      R1,#+11
   \   00000E30   02002DE9           PUSH     {R1}
   \   00000E34   7D1087E2           ADD      R1,R7,#+125
   \   00000E38   02002DE9           PUSH     {R1}
   \   00000E3C   731060E2           RSB      R1,R0,#+115
   \   00000E40   0600A0E1           MOV      R0,R6
   \   00000E44   4C0100EF           SWI      +332
   \   00000E48   28D08DE2           ADD      SP,SP,#+40
   \   00000E4C   3C0000EA           B        ??OnRedraw_47
    553              }
    554              else
    555              {
    556                int battery = *RamCap();
   \                     ??OnRedraw_46:
   \   00000E50   C88000EF           SWI      +32968
   \   00000E54   B020D0E1           LDRH     R2,[R0, #+0]
    557                wsprintf(ws,"%d%", battery);
   \   00000E58   EA1F8FE2           ADR      R1,??OnRedraw_15  ;; "%d%"
   \   00000E5C   0600A0E1           MOV      R0,R6
   \   00000E60   240100EF           SWI      +292
    558                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000E64   1700A0E3           MOV      R0,#+23
   \   00000E68   2E0100EF           SWI      +302
   \   00000E6C   0040A0E1           MOV      R4,R0
   \   00000E70   0B00A0E3           MOV      R0,#+11
   \   00000E74   C50100EF           SWI      +453
   \   00000E78   0070A0E1           MOV      R7,R0
   \   00000E7C   0B10A0E3           MOV      R1,#+11
   \   00000E80   0600A0E1           MOV      R0,R6
   \   00000E84   080200EF           SWI      +520
   \   00000E88   10002DE9           PUSH     {R4}
   \   00000E8C   0510A0E1           MOV      R1,R5
   \   00000E90   02002DE9           PUSH     {R1}
   \   00000E94   133080E2           ADD      R3,R0,#+19
   \   00000E98   7C20A0E3           MOV      R2,#+124
   \   00000E9C   0600A0E1           MOV      R0,R6
   \   00000EA0   0010A0E3           MOV      R1,#+0
   \   00000EA4   02002DE9           PUSH     {R1}
   \   00000EA8   0B10A0E3           MOV      R1,#+11
   \   00000EAC   02002DE9           PUSH     {R1}
   \   00000EB0   7D1087E2           ADD      R1,R7,#+125
   \   00000EB4   02002DE9           PUSH     {R1}
   \   00000EB8   1010A0E3           MOV      R1,#+16
   \   00000EBC   4C0100EF           SWI      +332
    559                TTime time;
    560                TDate date;
    561                GetDateTime(&date, &time);
   \   00000EC0   18108DE2           ADD      R1,SP,#+24
   \   00000EC4   24008DE2           ADD      R0,SP,#+36
   \   00000EC8   B40000EF           SWI      +180
    562                wsprintf(ws, "%02d:%02d:%02d", time.hour, time.min, time.sec);
   \   00000ECC   1A00DDE5           LDRB     R0,[SP, #+26]
   \   00000ED0   50139FE5           LDR      R1,??OnRedraw_15+0x20  ;; `?<Constant "%02d:%02d:%02d">`
   \   00000ED4   01002DE9           PUSH     {R0}
   \   00000ED8   1D30DDE5           LDRB     R3,[SP, #+29]
   \   00000EDC   1C20DDE5           LDRB     R2,[SP, #+28]
   \   00000EE0   0600A0E1           MOV      R0,R6
   \   00000EE4   240100EF           SWI      +292
    563                DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00000EE8   1700A0E3           MOV      R0,#+23
   \   00000EEC   2E0100EF           SWI      +302
   \   00000EF0   0040A0E1           MOV      R4,R0
   \   00000EF4   0B00A0E3           MOV      R0,#+11
   \   00000EF8   C50100EF           SWI      +453
   \   00000EFC   0070A0E1           MOV      R7,R0
   \   00000F00   0B10A0E3           MOV      R1,#+11
   \   00000F04   0600A0E1           MOV      R0,R6
   \   00000F08   080200EF           SWI      +520
   \   00000F0C   10002DE9           PUSH     {R4}
   \   00000F10   20002DE9           PUSH     {R5}
   \   00000F14   0010A0E3           MOV      R1,#+0
   \   00000F18   02002DE9           PUSH     {R1}
   \   00000F1C   7630A0E3           MOV      R3,#+118
   \   00000F20   7C20A0E3           MOV      R2,#+124
   \   00000F24   0B10A0E3           MOV      R1,#+11
   \   00000F28   02002DE9           PUSH     {R1}
   \   00000F2C   7D1087E2           ADD      R1,R7,#+125
   \   00000F30   02002DE9           PUSH     {R1}
   \   00000F34   731060E2           RSB      R1,R0,#+115
   \   00000F38   0600A0E1           MOV      R0,R6
   \   00000F3C   4C0100EF           SWI      +332
   \   00000F40   2CD08DE2           ADD      SP,SP,#+44
    564                
    565              }
    566            FreeWS(ws);
   \                     ??OnRedraw_47:
   \   00000F44   0600A0E1           MOV      R0,R6
   \   00000F48   A20000EA           B        ??OnRedraw_25
    567            }//===============================end do links
    568            else
    569              if(task_list==2)
   \                     ??OnRedraw_26:
   \   00000F4C   020050E3           CMP      R0,#+2
   \   00000F50   A100001A           BNE      ??OnRedraw_48
    570              {
    571                DrwImg3(&screen2, 0, 0, NULL, NULL);
    572                DrawImg(12, 26,(int)background_img);  //12,37
    573          //      DrawImg(16,48+(pos*12),(int)cursor_img);
    574          //      DrawImg(100,39,(int)selection_img);
    575                DrawImg(23, 60, (int)shutdown2);
   \   00000F54   ........           LDR      R4,??DataTable40  ;; shutdown2
   \   00000F58   0000A0E3           MOV      R0,#+0
   \   00000F5C   01002DE9           PUSH     {R0}
   \   00000F60   0030A0E3           MOV      R3,#+0
   \   00000F64   0020A0E1           MOV      R2,R0
   \   00000F68   0010A0E1           MOV      R1,R0
   \   00000F6C   0900A0E1           MOV      R0,R9
   \   00000F70   ........           BL       DrwImg3
   \   00000F74   0820A0E1           MOV      R2,R8
   \   00000F78   1A10A0E3           MOV      R1,#+26
   \   00000F7C   0C00A0E3           MOV      R0,#+12
   \   00000F80   230000EF           SWI      +35
   \   00000F84   0420A0E1           MOV      R2,R4
   \   00000F88   3C10A0E3           MOV      R1,#+60
   \   00000F8C   1700A0E3           MOV      R0,#+23
   \   00000F90   230000EF           SWI      +35
    576                DrawImg(68, 60, (int)shutdown2);
   \   00000F94   0420A0E1           MOV      R2,R4
   \   00000F98   3C10A0E3           MOV      R1,#+60
   \   00000F9C   4400A0E3           MOV      R0,#+68
   \   00000FA0   230000EF           SWI      +35
    577                if(shutd) DrawImg(16,91,(int)shutdown1);
   \   00000FA4   ........           LDR      R0,??DataTable90  ;; shutd
    578                else
    579                DrawImg(16,91,(int)reboot1);
   \   00000FA8   5B10A0E3           MOV      R1,#+91
   \   00000FAC   000090E5           LDR      R0,[R0, #+0]
   \   00000FB0   04D08DE2           ADD      SP,SP,#+4
   \   00000FB4   000050E3           CMP      R0,#+0
   \   00000FB8   ........           LDRNE    R2,??DataTable42  ;; shutdown1
   \   00000FBC   1000A0E3           MOV      R0,#+16
   \   00000FC0   ........           LDREQ    R2,??DataTable43  ;; reboot1
   \   00000FC4   230000EF           SWI      +35
    580                WSHDR *ws=AllocWS(32);
   \   00000FC8   2000A0E3           MOV      R0,#+32
   \   00000FCC   250100EF           SWI      +293
   \   00000FD0   0040A0E1           MOV      R4,R0
    581                if(time_not)
   \   00000FD4   ........           LDR      R0,??DataTable44  ;; time_not
   \   00000FD8   000090E5           LDR      R0,[R0, #+0]
   \   00000FDC   000050E3           CMP      R0,#+0
   \   00000FE0   3E00000A           BEQ      ??OnRedraw_49
    582                {
    583                if(!style) wsprintf(ws, "Tasks:%d", tasks);
   \   00000FE4   28029FE5           LDR      R0,??OnRedraw_15+0xC  ;; tasks
   \   00000FE8   002090E5           LDR      R2,[R0, #+0]
   \   00000FEC   24029FE5           LDR      R0,??OnRedraw_15+0x10  ;; style
   \   00000FF0   000090E5           LDR      R0,[R0, #+0]
   \   00000FF4   000050E3           CMP      R0,#+0
   \   00000FF8   1C129F05           LDREQ    R1,??OnRedraw_15+0x14  ;; `?<Constant "Tasks:%d">`
    584                else wsprintf(ws, "T:%d", tasks);
   \   00000FFC   0400A0E1           MOV      R0,R4
   \   00001000   18129F15           LDRNE    R1,??OnRedraw_15+0x18  ;; `?<Constant "T:%d">`
   \   00001004   240100EF           SWI      +292
    585                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00001008   1700A0E3           MOV      R0,#+23
   \   0000100C   2E0100EF           SWI      +302
   \   00001010   0060A0E1           MOV      R6,R0
   \   00001014   0B00A0E3           MOV      R0,#+11
   \   00001018   C50100EF           SWI      +453
   \   0000101C   0070A0E1           MOV      R7,R0
   \   00001020   0B10A0E3           MOV      R1,#+11
   \   00001024   0400A0E1           MOV      R0,R4
   \   00001028   080200EF           SWI      +520
   \   0000102C   40002DE9           PUSH     {R6}
   \   00001030   0510A0E1           MOV      R1,R5
   \   00001034   02002DE9           PUSH     {R1}
   \   00001038   133080E2           ADD      R3,R0,#+19
   \   0000103C   7C20A0E3           MOV      R2,#+124
   \   00001040   0400A0E1           MOV      R0,R4
   \   00001044   0010A0E3           MOV      R1,#+0
   \   00001048   02002DE9           PUSH     {R1}
   \   0000104C   0B10A0E3           MOV      R1,#+11
   \   00001050   02002DE9           PUSH     {R1}
   \   00001054   7D1087E2           ADD      R1,R7,#+125
   \   00001058   02002DE9           PUSH     {R1}
   \   0000105C   1010A0E3           MOV      R1,#+16
   \   00001060   4C0100EF           SWI      +332
    586                int ram = GetFreeRamAvail();
   \   00001064   5F0000EF           SWI      +95
    587                ram=ram/1024;
    588                wsprintf(ws,"Ram:%dKb", ram);
   \   00001068   C014A0E1           ASR      R1,R0,#+9
   \   0000106C   210B80E0           ADD      R0,R0,R1, LSR #+22
   \   00001070   AC119FE5           LDR      R1,??OnRedraw_15+0x1C  ;; `?<Constant "Ram:%dKb">`
   \   00001074   4025A0E1           ASR      R2,R0,#+10
   \   00001078   0400A0E1           MOV      R0,R4
   \   0000107C   240100EF           SWI      +292
    589                 DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00001080   1700A0E3           MOV      R0,#+23
   \   00001084   2E0100EF           SWI      +302
   \   00001088   0060A0E1           MOV      R6,R0
   \   0000108C   0B00A0E3           MOV      R0,#+11
   \   00001090   C50100EF           SWI      +453
   \   00001094   0070A0E1           MOV      R7,R0
   \   00001098   0B10A0E3           MOV      R1,#+11
   \   0000109C   0400A0E1           MOV      R0,R4
   \   000010A0   080200EF           SWI      +520
   \   000010A4   40002DE9           PUSH     {R6}
   \   000010A8   20002DE9           PUSH     {R5}
   \   000010AC   0010A0E3           MOV      R1,#+0
   \   000010B0   02002DE9           PUSH     {R1}
   \   000010B4   7630A0E3           MOV      R3,#+118
   \   000010B8   7C20A0E3           MOV      R2,#+124
   \   000010BC   0B10A0E3           MOV      R1,#+11
   \   000010C0   02002DE9           PUSH     {R1}
   \   000010C4   7D1087E2           ADD      R1,R7,#+125
   \   000010C8   02002DE9           PUSH     {R1}
   \   000010CC   731060E2           RSB      R1,R0,#+115
   \   000010D0   0400A0E1           MOV      R0,R4
   \   000010D4   4C0100EF           SWI      +332
   \   000010D8   28D08DE2           ADD      SP,SP,#+40
   \   000010DC   3C0000EA           B        ??OnRedraw_50
    590                }
    591                else
    592                {
    593                int battery = *RamCap();
   \                     ??OnRedraw_49:
   \   000010E0   C88000EF           SWI      +32968
   \   000010E4   B020D0E1           LDRH     R2,[R0, #+0]
    594                wsprintf(ws,"%d%", battery);
   \   000010E8   461F8FE2           ADR      R1,??OnRedraw_15  ;; "%d%"
   \   000010EC   0400A0E1           MOV      R0,R4
   \   000010F0   240100EF           SWI      +292
    595                DrawString(ws,16,124,16+Get_WS_width(ws,11)+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   000010F4   1700A0E3           MOV      R0,#+23
   \   000010F8   2E0100EF           SWI      +302
   \   000010FC   0060A0E1           MOV      R6,R0
   \   00001100   0B00A0E3           MOV      R0,#+11
   \   00001104   C50100EF           SWI      +453
   \   00001108   0070A0E1           MOV      R7,R0
   \   0000110C   0B10A0E3           MOV      R1,#+11
   \   00001110   0400A0E1           MOV      R0,R4
   \   00001114   080200EF           SWI      +520
   \   00001118   40002DE9           PUSH     {R6}
   \   0000111C   0510A0E1           MOV      R1,R5
   \   00001120   02002DE9           PUSH     {R1}
   \   00001124   133080E2           ADD      R3,R0,#+19
   \   00001128   7C20A0E3           MOV      R2,#+124
   \   0000112C   0400A0E1           MOV      R0,R4
   \   00001130   0010A0E3           MOV      R1,#+0
   \   00001134   02002DE9           PUSH     {R1}
   \   00001138   0B10A0E3           MOV      R1,#+11
   \   0000113C   02002DE9           PUSH     {R1}
   \   00001140   7D1087E2           ADD      R1,R7,#+125
   \   00001144   02002DE9           PUSH     {R1}
   \   00001148   1010A0E3           MOV      R1,#+16
   \   0000114C   4C0100EF           SWI      +332
    596                TTime time;
    597                TDate date;
    598                GetDateTime(&date, &time);
   \   00001150   18108DE2           ADD      R1,SP,#+24
   \   00001154   24008DE2           ADD      R0,SP,#+36
   \   00001158   B40000EF           SWI      +180
    599                wsprintf(ws, "%02d:%02d:%02d", time.hour, time.min, time.sec);
   \   0000115C   1A00DDE5           LDRB     R0,[SP, #+26]
   \   00001160   C0109FE5           LDR      R1,??OnRedraw_15+0x20  ;; `?<Constant "%02d:%02d:%02d">`
   \   00001164   01002DE9           PUSH     {R0}
   \   00001168   1D30DDE5           LDRB     R3,[SP, #+29]
   \   0000116C   1C20DDE5           LDRB     R2,[SP, #+28]
   \   00001170   0400A0E1           MOV      R0,R4
   \   00001174   240100EF           SWI      +292
    600                DrawString(ws,115-Get_WS_width(ws,11),124,115+3,124+GetFontYSIZE(11)+1,11,0,cinfo,GetPaletteAdrByColorIndex(23));
   \   00001178   1700A0E3           MOV      R0,#+23
   \   0000117C   2E0100EF           SWI      +302
   \   00001180   0060A0E1           MOV      R6,R0
   \   00001184   0B00A0E3           MOV      R0,#+11
   \   00001188   C50100EF           SWI      +453
   \   0000118C   0070A0E1           MOV      R7,R0
   \   00001190   0B10A0E3           MOV      R1,#+11
   \   00001194   0400A0E1           MOV      R0,R4
   \   00001198   080200EF           SWI      +520
   \   0000119C   40002DE9           PUSH     {R6}
   \   000011A0   20002DE9           PUSH     {R5}
   \   000011A4   0010A0E3           MOV      R1,#+0
   \   000011A8   02002DE9           PUSH     {R1}
   \   000011AC   7630A0E3           MOV      R3,#+118
   \   000011B0   7C20A0E3           MOV      R2,#+124
   \   000011B4   0B10A0E3           MOV      R1,#+11
   \   000011B8   02002DE9           PUSH     {R1}
   \   000011BC   7D1087E2           ADD      R1,R7,#+125
   \   000011C0   02002DE9           PUSH     {R1}
   \   000011C4   731060E2           RSB      R1,R0,#+115
   \   000011C8   0400A0E1           MOV      R0,R4
   \   000011CC   4C0100EF           SWI      +332
   \   000011D0   2CD08DE2           ADD      SP,SP,#+44
    601                }
    602                FreeWS(ws);
   \                     ??OnRedraw_50:
   \   000011D4   0400A0E1           MOV      R0,R4
   \                     ??OnRedraw_25:
   \   000011D8   290100EF           SWI      +297
    603              }
    604            if(task_list!=3) GBS_StartTimerProc(&start_tmr, refresh, redrit); 
   \                     ??OnRedraw_48:
   \   000011DC   ........           LDR      R0,??DataTable94  ;; task_list
   \   000011E0   000090E5           LDR      R0,[R0, #+0]
   \   000011E4   030050E3           CMP      R0,#+3
   \   000011E8   0400000A           BEQ      ??OnRedraw_51
   \   000011EC   38009FE5           LDR      R0,??OnRedraw_15+0x24  ;; refresh
   \   000011F0   ........           LDR      R2,??DataTable66  ;; redrit
   \   000011F4   001090E5           LDR      R1,[R0, #+0]
   \   000011F8   ........           LDR      R0,??DataTable68  ;; start_tmr
   \   000011FC   4D0000EF           SWI      +77
    605          }
   \                     ??OnRedraw_51:
   \   00001200   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   00001204   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??OnRedraw_15:
   \   00001208   25642500           DC8      "%d%"
   \   0000120C   ........           DC32     forward
   \   00001210   ........           DC32     halt
   \   00001214   ........           DC32     tasks
   \   00001218   ........           DC32     style
   \   0000121C   ........           DC32     `?<Constant "Tasks:%d">`
   \   00001220   ........           DC32     `?<Constant "T:%d">`
   \   00001224   ........           DC32     `?<Constant "Ram:%dKb">`
   \   00001228   ........           DC32     `?<Constant "%02d:%02d:%02d">`
   \   0000122C   ........           DC32     refresh
    606          

   \                                 In segment CODE, align 4, keep-with-next
    607          void onCreate(MAIN_GUI *data, void *(*malloc_adr)(int)) //Create
    608          {
    609            data->gui.state=1;
   \                     onCreate:
   \   00000000   0110A0E3           MOV      R1,#+1
   \   00000004   0C10C0E5           STRB     R1,[R0, #+12]
    610          }
   \   00000008   1EFF2FE1           BX       LR               ;; return
    611          

   \                                 In segment CODE, align 4, keep-with-next
    612          void onClose(MAIN_GUI *data, void (*mfree_adr)(void *)) //Close
    613          {
   \                     onClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    614          #ifdef NEWSGOLD
    615            mfree(screen2.bitmap);
   \   00000008   1C009FE5           LDR      R0,??onClose_0   ;; screen2 + 8
   \   0000000C   000090E5           LDR      R0,[R0, #+0]
   \   00000010   150000EF           SWI      +21
    616          #endif
    617            ClearNL();
   \   00000014   ........           _BLF     ClearNL,??ClearNL??rA
    618            MAINCSM_ID = 0;
   \   00000018   ........           LDR      R1,??DataTable96  ;; MAINCSM_ID
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   000081E5           STR      R0,[R1, #+0]
    619            data->gui.state=0;
   \   00000024   0C00C4E5           STRB     R0,[R4, #+12]
    620          }
   \   00000028   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??onClose_0:
   \   0000002C   ........           DC32     screen2 + 8
    621          

   \                                 In segment CODE, align 4, keep-with-next
    622          void onFocus(MAIN_GUI *data, void *(*malloc_adr)(int), void (*mfree_adr)(void *))//Focus
    623          {
    624            data->gui.state=2;
   \                     onFocus:
   \   00000000   0210A0E3           MOV      R1,#+2
   \   00000004   0C10C0E5           STRB     R1,[R0, #+12]
    625           //  DisableIDLETMR();
    626          }
   \   00000008   1EFF2FE1           BX       LR               ;; return
    627          

   \                                 In segment CODE, align 4, keep-with-next
    628          void onUnfocus(MAIN_GUI *data, void (*mfree_adr)(void *)) //Unfocus
    629          {
    630            if (data->gui.state!=2) return;
   \                     onUnfocus:
   \   00000000   0C10D0E5           LDRB     R1,[R0, #+12]
   \   00000004   020051E3           CMP      R1,#+2
    631            data->gui.state=1;
   \   00000008   0110A003           MOVEQ    R1,#+1
   \   0000000C   0C10C005           STRBEQ   R1,[R0, #+12]
    632          }
   \   00000010   1EFF2FE1           BX       LR               ;; return
    633          

   \                                 In segment DATA_Z, align 4, align-sorted
    634          int closing;
   \                     closing:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    635          int show_daemons;
   \                     show_daemons:
   \   00000000                      DS8 4
    636          
    637          

   \                                 In segment CODE, align 4, keep-with-next
    638          void redrit()
    639          {
   \                     redrit:
   \   00000000   00402DE9           PUSH     {LR}
    640            DirectRedrawGUI();
   \   00000004   3F0100EF           SWI      +319
    641          }
   \   00000008   0080BDE8           POP      {PC}             ;; return
    642          

   \                                 In segment CODE, align 4, keep-with-next
    643          int OnKey(MAIN_GUI *data, GUI_MSG *msg) //OnKey
    644          {
   \                     OnKey:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
    645            if (msg->gbsmsg->msg==KEY_DOWN)
   \   00000004   04C091E5           LDR      R12,[R1, #+4]
   \   00000008   9310A0E3           MOV      R1,#+147
   \   0000000C   04009CE5           LDR      R0,[R12, #+4]
   \   00000010   401F81E3           ORR      R1,R1,#0x100
   \   00000014   010050E1           CMP      R0,R1
   \   00000018   9D01001A           BNE      ??OnKey_3
    646            {
    647              if(task_list==1)
   \   0000001C   ........           LDR      R5,??DataTable86  ;; total_pos
   \   00000020   ........           LDR      LR,??DataTable94  ;; task_list
   \   00000024   000095E5           LDR      R0,[R5, #+0]
   \   00000028   ........           LDR      R1,??DataTable51  ;; book_show
   \   0000002C   00A09EE5           LDR      R10,[LR, #+0]
   \   00000030   009091E5           LDR      R9,[R1, #+0]
   \   00000034   ........           LDR      R1,??DataTable87  ;; time_not
   \   00000038   ........           LDR      R6,??DataTable84  ;; move_skip
   \   0000003C   ........           LDR      R7,??DataTable85  ;; pos
   \   00000040   012080E2           ADD      R2,R0,#+1
   \   00000044   013040E2           SUB      R3,R0,#+1
   \   00000048   0080A0E3           MOV      R8,#+0
   \   0000004C   0140A0E3           MOV      R4,#+1
   \   00000050   01005AE3           CMP      R10,#+1
   \   00000054   EA00001A           BNE      ??OnKey_4
    648              {
    649              switch(msg->gbsmsg->submess)
   \   00000058   08009CE5           LDR      R0,[R12, #+8]
   \   0000005C   010040E2           SUB      R0,R0,#+1
   \   00000060   3D0050E3           CMP      R0,#+61
   \   00000064   8A01008A           BHI      ??OnKey_3
   \   00000068   02AF8FE2           ADR      R10,??OnKey_0
   \   0000006C   8000A0E1           MOV      R0,R0, LSL #+1
   \   00000070   B0A09AE1           LDRH     R10,[R10, R0]
   \   00000074   0AF18FE0           ADD      PC,PC,R10, LSL #+2
   \                     ??OnKey_0:
   \   00000078   3B0186018601       DC16     +315,+390,+390,+224
   \              E000        
   \   00000080   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   00000088   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   00000090   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   00000098   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   000000A0   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   000000A8   860196008601       DC16     +390,+150,+390,+390
   \              8601        
   \   000000B0   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   000000B8   860186019400       DC16     +390,+390,+148,+390
   \              8601        
   \   000000C0   860186018601       DC16     +390,+390,+390,+390
   \              8601        
   \   000000C8   860154008601       DC16     +390,+84,+390,+390
   \              8601        
   \   000000D0   860186018601       DC16     +390,+390,+390,+101
   \              6500        
   \   000000D8   6A006E007400       DC16     +106,+110,+116,+120
   \              7800        
   \   000000E0   7C0080008400       DC16     +124,+128,+132,+136
   \              8800        
   \   000000E8   8C0086013E00       DC16     +140,+390,+62,+35
   \              2300        
   \   000000F0   90001E00           DC16     +144,+30
    650              {
    651              case RIGHT_BUTTON:
    652                pos=1;
   \                     ??OnKey_5:
   \   000000F4   004087E5           STR      R4,[R7, #+0]
    653                total_pos=1;
   \   000000F8   004085E5           STR      R4,[R5, #+0]
    654                move_skip=0;
   \   000000FC   008086E5           STR      R8,[R6, #+0]
    655                task_list=0;
   \   00000100   00808EE5           STR      R8,[LR, #+0]
    656                DirectRedrawGUI();
   \                     ??OnKey_6:
   \   00000104   3E0000EA           B        ??OnKey_7
    657                break;
    658              case DOWN_BUTTON:
    659                total_pos++;
    660                if(total_pos<=total_d)
   \                     ??OnKey_8:
   \   00000108   ........           LDR      R0,??DataTable83  ;; total_d
   \   0000010C   002085E5           STR      R2,[R5, #+0]
   \   00000110   000090E5           LDR      R0,[R0, #+0]
   \   00000114   020050E1           CMP      R0,R2
   \   00000118   0E0000BA           BLT      ??OnKey_9
    661                {
    662                if((total_pos<=3)||(total_pos>total_d-2)) pos++;
   \   0000011C   020040E2           SUB      R0,R0,#+2
   \   00000120   040052E3           CMP      R2,#+4
   \   00000124   020050A1           CMPGE    R0,R2
   \   00000128   040000AA           BGE      ??OnKey_10
   \   0000012C   001097E5           LDR      R1,[R7, #+0]
    663                if((total_pos>3)&&(total_pos<=total_d-2)) move_skip++;
   \   00000130   040052E3           CMP      R2,#+4
   \   00000134   011081E2           ADD      R1,R1,#+1
   \   00000138   001087E5           STR      R1,[R7, #+0]
   \   0000013C   070000BA           BLT      ??OnKey_11
   \                     ??OnKey_10:
   \   00000140   020050E1           CMP      R0,R2
   \   00000144   050000BA           BLT      ??OnKey_11
   \   00000148   000096E5           LDR      R0,[R6, #+0]
   \   0000014C   010080E2           ADD      R0,R0,#+1
   \                     ??OnKey_12:
   \   00000150   000086E5           STR      R0,[R6, #+0]
   \   00000154   010000EA           B        ??OnKey_11
    664                }
    665                else
    666                  total_pos--;
   \                     ??OnKey_9:
   \   00000158   010042E2           SUB      R0,R2,#+1
   \   0000015C   000085E5           STR      R0,[R5, #+0]
    667                sm=0;
   \                     ??OnKey_11:
   \   00000160   ........           LDR      R0,??DataTable88  ;; sm
   \   00000164   008080E5           STR      R8,[R0, #+0]
    668                forward=1;
   \   00000168   ........           LDR      R0,??DataTable89  ;; forward
   \                     ??OnKey_13:
   \   0000016C   004080E5           STR      R4,[R0, #+0]
    669                DirectRedrawGUI();
   \   00000170   230000EA           B        ??OnKey_7
    670                break;
    671              case UP_BUTTON:
    672                total_pos--;
   \                     ??OnKey_14:
   \   00000174   003085E5           STR      R3,[R5, #+0]
    673                if(total_pos)
   \   00000178   000053E3           CMP      R3,#+0
   \   0000017C   1000000A           BEQ      ??OnKey_15
    674                {
    675                if((total_pos<3)||(total_pos>=total_d-2)) pos--;
   \   00000180   ........           LDR      R0,??DataTable83  ;; total_d
   \   00000184   030053E3           CMP      R3,#+3
   \   00000188   000090E5           LDR      R0,[R0, #+0]
   \   0000018C   020040E2           SUB      R0,R0,#+2
   \   00000190   010000BA           BLT      ??OnKey_16
   \   00000194   000053E1           CMP      R3,R0
   \   00000198   040000BA           BLT      ??OnKey_17
   \                     ??OnKey_16:
   \   0000019C   001097E5           LDR      R1,[R7, #+0]
    676                if((total_pos>=3)&&(total_pos<total_d-2)) move_skip--;
   \   000001A0   030053E3           CMP      R3,#+3
   \   000001A4   011041E2           SUB      R1,R1,#+1
   \   000001A8   001087E5           STR      R1,[R7, #+0]
   \   000001AC   EBFFFFBA           BLT      ??OnKey_11
   \                     ??OnKey_17:
   \   000001B0   000053E1           CMP      R3,R0
   \   000001B4   E9FFFFAA           BGE      ??OnKey_11
   \   000001B8   000096E5           LDR      R0,[R6, #+0]
   \   000001BC   010040E2           SUB      R0,R0,#+1
   \   000001C0   E2FFFFEA           B        ??OnKey_12
    677                }
    678                else
    679                  total_pos++;
   \                     ??OnKey_15:
   \   000001C4   004085E5           STR      R4,[R5, #+0]
   \   000001C8   E4FFFFEA           B        ??OnKey_11
    680                sm=0;
    681                forward=1;
    682                DirectRedrawGUI();
    683                break;
    684              case '*':
    685                show_daemons=!show_daemons;
   \                     ??OnKey_18:
   \   000001CC   ........           LDR      R0,??DataTable78  ;; show_daemons
   \   000001D0   ........           LDR      R1,??DataTable78  ;; show_daemons
   \   000001D4   000090E5           LDR      R0,[R0, #+0]
    686                pos=1;
   \   000001D8   004087E5           STR      R4,[R7, #+0]
   \   000001DC   000050E3           CMP      R0,#+0
   \   000001E0   0100A003           MOVEQ    R0,#+1
   \   000001E4   0000A013           MOVNE    R0,#+0
   \   000001E8   000081E5           STR      R0,[R1, #+0]
    687                total_pos=1;
    688                move_skip=0;
    689                sm=0;
   \   000001EC   ........           LDR      R0,??DataTable88  ;; sm
   \   000001F0   004085E5           STR      R4,[R5, #+0]
   \   000001F4   008080E5           STR      R8,[R0, #+0]
    690                forward=1;
   \   000001F8   ........           LDR      R0,??DataTable89  ;; forward
   \   000001FC   008086E5           STR      R8,[R6, #+0]
   \   00000200   004080E5           STR      R4,[R0, #+0]
    691                DirectRedrawGUI();
   \                     ??OnKey_7:
   \   00000204   3F0100EF           SWI      +319
   \                     ??OnKey_19:
   \   00000208   0000A0E3           MOV      R0,#+0
   \   0000020C   F087BDE8           POP      {R4-R10,PC}
    692                break;
    693              case 0x30:
    694                time_not=!time_not;
   \                     ??OnKey_20:
   \   00000210   000091E5           LDR      R0,[R1, #+0]
   \   00000214   000050E3           CMP      R0,#+0
   \   00000218   0040A013           MOVNE    R4,#+0
   \   0000021C   004081E5           STR      R4,[R1, #+0]
    695                DirectRedrawGUI();
   \   00000220   F7FFFFEA           B        ??OnKey_7
    696                break;
    697                      case 0x31:
    698                  if(book_show>=1) 
   \                     ??OnKey_21:
   \   00000224   010059E3           CMP      R9,#+1
   \   00000228   190100BA           BLT      ??OnKey_3
    699                  {
    700                    Start_bookmark(1);
   \   0000022C   0100A0E3           MOV      R0,#+1
   \   00000230   020000EA           B        ??OnKey_22
    701                    return(1);
    702                  }
    703                  break;
    704                        case 0x32:
    705                  if(book_show>=2) 
   \                     ??OnKey_23:
   \   00000234   020059E3           CMP      R9,#+2
   \   00000238   150100BA           BLT      ??OnKey_3
    706                  {
    707                    Start_bookmark(2);
   \   0000023C   0200A0E3           MOV      R0,#+2
   \                     ??OnKey_22:
   \   00000240   ........           BL       Start_bookmark
    708                    return(1);
   \                     ??OnKey_24:
   \   00000244   0100A0E3           MOV      R0,#+1
   \   00000248   F087BDE8           POP      {R4-R10,PC}
    709                  }
    710                  break;
    711                        case 0x33:
    712                  if(book_show>=3) 
   \                     ??OnKey_25:
   \   0000024C   030059E3           CMP      R9,#+3
   \   00000250   0F0100BA           BLT      ??OnKey_3
    713                  {
    714                    Start_bookmark(3);
   \   00000254   0300A0E3           MOV      R0,#+3
   \   00000258   F8FFFFEA           B        ??OnKey_22
    715                    return(1);
    716                  }
    717                  break;
    718                        case 0x34:
    719                  if(book_show>=4) 
   \                     ??OnKey_26:
   \   0000025C   040059E3           CMP      R9,#+4
   \   00000260   0B0100BA           BLT      ??OnKey_3
    720                  {
    721                    Start_bookmark(4);
   \   00000264   0400A0E3           MOV      R0,#+4
   \   00000268   F4FFFFEA           B        ??OnKey_22
    722                    return(1);
    723                  }
    724                  break;
    725                        case 0x35:
    726                  if(book_show>=5) 
   \                     ??OnKey_27:
   \   0000026C   050059E3           CMP      R9,#+5
   \   00000270   070100BA           BLT      ??OnKey_3
    727                  {
    728                    Start_bookmark(5);
   \   00000274   0500A0E3           MOV      R0,#+5
   \   00000278   F0FFFFEA           B        ??OnKey_22
    729                    return(1);
    730                  }
    731                  break;
    732                        case 0x36:
    733                  if(book_show>=6) 
   \                     ??OnKey_28:
   \   0000027C   060059E3           CMP      R9,#+6
   \   00000280   030100BA           BLT      ??OnKey_3
    734                  {
    735                    Start_bookmark(6);
   \   00000284   0600A0E3           MOV      R0,#+6
   \   00000288   ECFFFFEA           B        ??OnKey_22
    736                    return(1);
    737                  }
    738                  break;
    739                        case 0x37:
    740                  if(book_show>=7) 
   \                     ??OnKey_29:
   \   0000028C   070059E3           CMP      R9,#+7
   \   00000290   FF0000BA           BLT      ??OnKey_3
    741                  {
    742                    Start_bookmark(7);
   \   00000294   0700A0E3           MOV      R0,#+7
   \   00000298   E8FFFFEA           B        ??OnKey_22
    743                    return(1);
    744                  }
    745                  break;
    746                        case 0x38:
    747                  if(book_show>=8) 
   \                     ??OnKey_30:
   \   0000029C   080059E3           CMP      R9,#+8
   \   000002A0   FB0000BA           BLT      ??OnKey_3
    748                  {
    749                    Start_bookmark(8);
   \   000002A4   0800A0E3           MOV      R0,#+8
   \   000002A8   E4FFFFEA           B        ??OnKey_22
    750                    return(1);
    751                  }
    752                  break;
    753                        case 0x39:
    754                  if(book_show>=9) 
   \                     ??OnKey_31:
   \   000002AC   090059E3           CMP      R9,#+9
   \   000002B0   F70000BA           BLT      ??OnKey_3
    755                  {
    756                    Start_bookmark(9);
   \   000002B4   0900A0E3           MOV      R0,#+9
   \   000002B8   E0FFFFEA           B        ??OnKey_22
    757                    return(1);
    758                  }
    759                  break;
    760                  case LEFT_BUTTON:
    761                if(!cleseri) break;
   \                     ??OnKey_32:
   \   000002BC   D8039FE5           LDR      R0,??OnKey_33    ;; cleseri
   \   000002C0   000090E5           LDR      R0,[R0, #+0]
   \   000002C4   000050E3           CMP      R0,#+0
   \   000002C8   F087BD08           POPEQ    {R4-R10,PC}
    762              case '#':
    763                 closing=1;
   \                     ??OnKey_34:
   \   000002CC   CC039FE5           LDR      R0,??OnKey_33+0x4  ;; closing
   \   000002D0   004080E5           STR      R4,[R0, #+0]
    764              case ENTER_BUTTON:
    765                {
    766                minine:
    767                  {
    768                NAMELIST *nl=nltop;
   \                     ??OnKey_35:
   \   000002D4   ........           LDR      R0,??DataTable63  ;; nltop
   \   000002D8   000090E5           LDR      R0,[R0, #+0]
    769                int skip_run=total_pos;
   \   000002DC   001095E5           LDR      R1,[R5, #+0]
   \   000002E0   010000EA           B        ??OnKey_36
    770                while(nl)
    771                {
    772                   NAMELIST *p=nl;
    773                   if(skip_run)
    774                   {
    775                     skip_run--;
    776                     nl=p->next;
   \                     ??OnKey_37:
   \   000002E4   000090E5           LDR      R0,[R0, #+0]
   \   000002E8   011041E2           SUB      R1,R1,#+1
    777                   }
   \                     ??OnKey_36:
   \   000002EC   000050E3           CMP      R0,#+0
   \   000002F0   00005113           CMPNE    R1,#+0
   \   000002F4   FAFFFF1A           BNE      ??OnKey_37
    778                   else
    779                     goto don;
    780                }
    781                don:
    782                if ((!nl->is_daemon)||((closing)&&(nl->is_daemon)))
   \   000002F8   A0139FE5           LDR      R1,??OnKey_33+0x4  ;; closing
   \   000002FC   102090E5           LDR      R2,[R0, #+16]
   \   00000300   001091E5           LDR      R1,[R1, #+0]
   \   00000304   000052E3           CMP      R2,#+0
   \   00000308   0100000A           BEQ      ??OnKey_38
   \   0000030C   000051E3           CMP      R1,#+0
   \   00000310   DF00000A           BEQ      ??OnKey_3
    783                {
    784                  if(closing)
   \                     ??OnKey_38:
   \   00000314   0C0090E5           LDR      R0,[R0, #+12]
   \   00000318   000051E3           CMP      R1,#+0
   \   0000031C   3200000A           BEQ      ??OnKey_39
    785                  {
    786                    int i;
    787                    closing=0;
   \   00000320   78139FE5           LDR      R1,??OnKey_33+0x4  ;; closing
   \   00000324   008081E5           STR      R8,[R1, #+0]
    788                    i=((CSM_RAM *)(nl->p))->id;
   \   00000328   0C9090E5           LDR      R9,[R0, #+12]
    789                    if (i!=CSM_root()->idle_id) 
   \   0000032C   068100EF           SWI      +33030
   \   00000330   040090E5           LDR      R0,[R0, #+4]
   \   00000334   000059E1           CMP      R9,R0
   \   00000338   D500000A           BEQ      ??OnKey_3
    790                    {
    791                      CloseCSM(i);
   \   0000033C   0900A0E1           MOV      R0,R9
   \   00000340   FC0100EF           SWI      +508
    792                      int rem_pso=total_pos-1;
   \   00000344   000095E5           LDR      R0,[R5, #+0]
    793                      pos=1;
   \   00000348   004087E5           STR      R4,[R7, #+0]
   \   0000034C   010050E2           SUBS     R0,R0,#+1
    794                      total_pos=1;
   \   00000350   004085E5           STR      R4,[R5, #+0]
    795                      move_skip=0;
   \   00000354   008086E5           STR      R8,[R6, #+0]
   \   00000358   1A00000A           BEQ      ??OnKey_40
    796                      while(rem_pso!=0)
    797                      {
    798                      total_pos++;
    799                      if(total_pos<=total_d-1)
   \                     ??OnKey_41:
   \   0000035C   ........           LDR      R2,??DataTable83  ;; total_d
   \   00000360   001095E5           LDR      R1,[R5, #+0]
   \   00000364   002092E5           LDR      R2,[R2, #+0]
   \   00000368   011081E2           ADD      R1,R1,#+1
   \   0000036C   001085E5           STR      R1,[R5, #+0]
   \   00000370   013042E2           SUB      R3,R2,#+1
   \   00000374   010053E1           CMP      R3,R1
   \   00000378   0E0000BA           BLT      ??OnKey_42
    800                      {
    801                        if((total_pos<=3)||(total_pos>total_d-3)) pos++;
   \   0000037C   032042E2           SUB      R2,R2,#+3
   \   00000380   040051E3           CMP      R1,#+4
   \   00000384   010052A1           CMPGE    R2,R1
   \   00000388   040000AA           BGE      ??OnKey_43
   \   0000038C   003097E5           LDR      R3,[R7, #+0]
    802                        if((total_pos>3)&&(total_pos<=total_d-3)) move_skip++;
   \   00000390   040051E3           CMP      R1,#+4
   \   00000394   013083E2           ADD      R3,R3,#+1
   \   00000398   003087E5           STR      R3,[R7, #+0]
   \   0000039C   070000BA           BLT      ??OnKey_44
   \                     ??OnKey_43:
   \   000003A0   010052E1           CMP      R2,R1
   \   000003A4   050000BA           BLT      ??OnKey_44
   \   000003A8   001096E5           LDR      R1,[R6, #+0]
   \   000003AC   011081E2           ADD      R1,R1,#+1
   \   000003B0   001086E5           STR      R1,[R6, #+0]
   \   000003B4   010000EA           B        ??OnKey_44
    803                      }
    804                      else
    805                      {
    806                      total_pos--;
   \                     ??OnKey_42:
   \   000003B8   011041E2           SUB      R1,R1,#+1
   \   000003BC   001085E5           STR      R1,[R5, #+0]
    807                      }
    808                      rem_pso--;
   \                     ??OnKey_44:
   \   000003C0   010050E2           SUBS     R0,R0,#+1
    809                      }
   \   000003C4   E4FFFF1A           BNE      ??OnKey_41
    810                      sm=0;
   \                     ??OnKey_40:
   \   000003C8   ........           LDR      R0,??DataTable88  ;; sm
    811                      forward=1;
    812                      GBS_StartTimerProc(&start_tmr, 30, redrit); 
   \   000003CC   ........           LDR      R2,??DataTable66  ;; redrit
   \   000003D0   008080E5           STR      R8,[R0, #+0]
   \   000003D4   ........           LDR      R0,??DataTable89  ;; forward
   \   000003D8   1E10A0E3           MOV      R1,#+30
   \   000003DC   004080E5           STR      R4,[R0, #+0]
   \   000003E0   ........           LDR      R0,??DataTable68  ;; start_tmr
   \   000003E4   4D0000EF           SWI      +77
   \   000003E8   86FFFFEA           B        ??OnKey_19
    813                    }
    814                  }
    815                  else
    816                  {
    817          	CSMtoTop(((CSM_RAM *)(nl->p))->id,-1);
   \                     ??OnKey_39:
   \   000003EC   0C0090E5           LDR      R0,[R0, #+12]
   \   000003F0   001064E2           RSB      R1,R4,#+0
   \   000003F4   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   000003F8   91FFFFEA           B        ??OnKey_24
    818                  return(1);
    819                  }
    820                }
    821                else
    822                  closing=0;
    823                }
    824                }
    825                break;
    826              case LEFT_SOFT:
    827                CSMtoTop(CSM_root()->idle_id,-1);
    828                return(1);
    829              case RIGHT_SOFT:
    830                total_pos=1;
   \                     ??OnKey_45:
   \   000003FC   004085E5           STR      R4,[R5, #+0]
    831                goto minine;
   \   00000400   B3FFFFEA           B        ??OnKey_35
    832          /*      case GREEN_BUTTON:
    833                    task_list=2;
    834                    shutd=1;
    835                    DirectRedrawGUI();
    836                  break;*/
    837           //     return(1);
    838              }
    839              }
   \                     ??OnKey_4:
   \   00000404   00005AE3           CMP      R10,#+0
   \   00000408   6100001A           BNE      ??OnKey_46
    840              else//=======================================do the links
    841                if(task_list==0)
    842              {
    843                switch(msg->gbsmsg->submess)
   \   0000040C   08A09CE5           LDR      R10,[R12, #+8]
   \   00000410   01A04AE2           SUB      R10,R10,#+1
   \   00000414   3C005AE3           CMP      R10,#+60
   \   00000418   9D00008A           BHI      ??OnKey_3
   \   0000041C   02CF8FE2           ADR      R12,??OnKey_1
   \   00000420   8AA0A0E1           MOV      R10,R10, LSL #+1
   \   00000424   FAC09CE1           LDRSH    R12,[R12, R10]
   \   00000428   0CF18FE0           ADD      PC,PC,R12, LSL #+2
   \                     ??OnKey_1:
   \   0000042C   4E0099009900       DC16     +78,+153,+153,+65523
   \              F3FF        
   \   00000434   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   0000043C   990099005400       DC16     +153,+153,+84,+153
   \              9900        
   \   00000444   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   0000044C   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   00000454   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   0000045C   990084FF9900       DC16     +153,+65412,+153,+153
   \              9900        
   \   00000464   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   0000046C   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   00000474   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   0000047C   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   00000484   990099009900       DC16     +153,+153,+153,+65400
   \              78FF        
   \   0000048C   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   00000494   990099009900       DC16     +153,+153,+153,+153
   \              9900        
   \   0000049C   990099003A00       DC16     +153,+153,+58,+38
   \              2600        
   \   000004A4   1E000000           DC16     +30,+0
    844                {
    845                case LEFT_BUTTON:
    846                  pos=1;
    847                  total_pos=1;
    848                  move_skip=0;
    849                  task_list=1;
    850                  sm=0;
   \                     ??OnKey_47:
   \   000004A8   ........           LDR      R0,??DataTable88  ;; sm
   \   000004AC   004087E5           STR      R4,[R7, #+0]
   \   000004B0   008080E5           STR      R8,[R0, #+0]
    851                  forward=1;
   \   000004B4   ........           LDR      R0,??DataTable89  ;; forward
   \   000004B8   004085E5           STR      R4,[R5, #+0]
   \   000004BC   008086E5           STR      R8,[R6, #+0]
   \   000004C0   00408EE5           STR      R4,[LR, #+0]
   \   000004C4   28FFFFEA           B        ??OnKey_13
    852                  DirectRedrawGUI();
    853                  break;
    854                case DOWN_BUTTON:
    855                total_pos++;
   \                     ??OnKey_48:
   \   000004C8   002085E5           STR      R2,[R5, #+0]
    856                if(total_pos<=book_show)
   \   000004CC   020059E1           CMP      R9,R2
   \   000004D0   0E0000BA           BLT      ??OnKey_49
    857                {
    858                if((total_pos<=3)||(total_pos>book_show-2)) pos++;
   \   000004D4   020049E2           SUB      R0,R9,#+2
   \   000004D8   040052E3           CMP      R2,#+4
   \   000004DC   020050A1           CMPGE    R0,R2
   \   000004E0   040000AA           BGE      ??OnKey_50
   \   000004E4   001097E5           LDR      R1,[R7, #+0]
    859                if((total_pos>3)&&(total_pos<=book_show-2)) move_skip++;
   \   000004E8   040052E3           CMP      R2,#+4
   \   000004EC   011081E2           ADD      R1,R1,#+1
   \   000004F0   001087E5           STR      R1,[R7, #+0]
   \   000004F4   42FFFFBA           BLT      ??OnKey_7
   \                     ??OnKey_50:
   \   000004F8   020050E1           CMP      R0,R2
   \   000004FC   40FFFFBA           BLT      ??OnKey_7
   \   00000500   000096E5           LDR      R0,[R6, #+0]
   \   00000504   010080E2           ADD      R0,R0,#+1
   \                     ??OnKey_51:
   \   00000508   000086E5           STR      R0,[R6, #+0]
   \   0000050C   3CFFFFEA           B        ??OnKey_7
    860                }
    861                else
    862                  total_pos--;
   \                     ??OnKey_49:
   \   00000510   000085E5           STR      R0,[R5, #+0]
    863                DirectRedrawGUI();
   \   00000514   3AFFFFEA           B        ??OnKey_7
    864                break;
    865              case UP_BUTTON:
    866                total_pos--;
   \                     ??OnKey_52:
   \   00000518   003085E5           STR      R3,[R5, #+0]
    867                if(total_pos)
   \   0000051C   000053E3           CMP      R3,#+0
   \   00000520   0E00000A           BEQ      ??OnKey_53
    868                {
    869                if((total_pos<3)||(total_pos>=book_show-2)) pos--;
   \   00000524   020049E2           SUB      R0,R9,#+2
   \   00000528   030053E3           CMP      R3,#+3
   \   0000052C   010000BA           BLT      ??OnKey_54
   \   00000530   000053E1           CMP      R3,R0
   \   00000534   040000BA           BLT      ??OnKey_55
   \                     ??OnKey_54:
   \   00000538   001097E5           LDR      R1,[R7, #+0]
    870                if((total_pos>=3)&&(total_pos<book_show-2)) move_skip--;
   \   0000053C   030053E3           CMP      R3,#+3
   \   00000540   011041E2           SUB      R1,R1,#+1
   \   00000544   001087E5           STR      R1,[R7, #+0]
   \   00000548   2DFFFFBA           BLT      ??OnKey_7
   \                     ??OnKey_55:
   \   0000054C   000053E1           CMP      R3,R0
   \   00000550   2BFFFFAA           BGE      ??OnKey_7
   \   00000554   000096E5           LDR      R0,[R6, #+0]
   \   00000558   010040E2           SUB      R0,R0,#+1
   \   0000055C   E9FFFFEA           B        ??OnKey_51
    871                }
    872                else
    873                  total_pos++;
   \                     ??OnKey_53:
   \   00000560   004085E5           STR      R4,[R5, #+0]
   \   00000564   26FFFFEA           B        ??OnKey_7
    874                DirectRedrawGUI();
    875                break;
    876              case 0x30:
    877                time_not=!time_not;
    878                DirectRedrawGUI();
    879                break;
    880              case LEFT_SOFT:
    881                CSMtoTop(CSM_root()->idle_id,-1);
   \                     ??OnKey_56:
   \   00000568   068100EF           SWI      +33030
   \   0000056C   040090E5           LDR      R0,[R0, #+4]
   \   00000570   001064E2           RSB      R1,R4,#+0
   \   00000574   ........           _BLF     CSMtoTop,??CSMtoTop??rA
    882                return(1);
   \   00000578   0100A0E3           MOV      R0,#+1
   \   0000057C   F087BDE8           POP      {R4-R10,PC}
    883              case RIGHT_SOFT:
    884                total_pos=1;
    885                goto minine;
    886                case ENTER_BUTTON:
    887                  Start_bookmark(total_pos);
    888                  return(1);
    889                  case GREEN_BUTTON:
    890                    task_list=2;
   \                     ??OnKey_57:
   \   00000580   0200A0E3           MOV      R0,#+2
   \   00000584   00008EE5           STR      R0,[LR, #+0]
    891                    shutd=1;
   \   00000588   ........           LDR      R0,??DataTable90  ;; shutd
   \   0000058C   004080E5           STR      R4,[R0, #+0]
    892                    DirectRedrawGUI();
   \   00000590   1BFFFFEA           B        ??OnKey_7
    893                  break;
    894                }
    895              }//==========================================end links
    896              else
    897                if(task_list==2)
   \                     ??OnKey_46:
   \   00000594   02005AE3           CMP      R10,#+2
   \   00000598   3D00001A           BNE      ??OnKey_3
    898                {
    899                  switch(msg->gbsmsg->submess)
   \   0000059C   ........           LDR      R0,??DataTable91  ;; lock_other
   \   000005A0   08209CE5           LDR      R2,[R12, #+8]
   \   000005A4   000090E5           LDR      R0,[R0, #+0]
   \   000005A8   042042E2           SUB      R2,R2,#+4
   \   000005AC   3A0052E3           CMP      R2,#+58
   \   000005B0   3700008A           BHI      ??OnKey_3
   \   000005B4   013F8FE2           ADR      R3,??OnKey_2
   \   000005B8   0230D3E7           LDRB     R3,[R3, R2]
   \   000005BC   03F18FE0           ADD      PC,PC,R3, LSL #+2
   \                     ??OnKey_2:
   \   000005C0   19343434           DC8      +25,+52,+52,+52
   \   000005C4   3434340E           DC8      +52,+52,+52,+14
   \   000005C8   34343434           DC8      +52,+52,+52,+52
   \   000005CC   34343434           DC8      +52,+52,+52,+52
   \   000005D0   34343434           DC8      +52,+52,+52,+52
   \   000005D4   34342734           DC8      +52,+52,+39,+52
   \   000005D8   34343434           DC8      +52,+52,+52,+52
   \   000005DC   34343434           DC8      +52,+52,+52,+52
   \   000005E0   34343434           DC8      +52,+52,+52,+52
   \   000005E4   34343434           DC8      +52,+52,+52,+52
   \   000005E8   34343434           DC8      +52,+52,+52,+52
   \   000005EC   1C343434           DC8      +28,+52,+52,+52
   \   000005F0   34343434           DC8      +52,+52,+52,+52
   \   000005F4   34343434           DC8      +52,+52,+52,+52
   \   000005F8   34212100           DC8      +52,+33,+33,+0
    900                {
    901                case GREEN_BUTTON:
    902                  if(!lock_other)
   \                     ??OnKey_58:
   \   000005FC   000050E3           CMP      R0,#+0
   \   00000600   1600001A           BNE      ??OnKey_59
    903                  {
    904                  pos=1;
    905                  total_pos=1;
    906                  move_skip=0;
    907                  task_list=1;
    908                  sm=0;
   \   00000604   ........           LDR      R0,??DataTable88  ;; sm
   \   00000608   004087E5           STR      R4,[R7, #+0]
   \   0000060C   008080E5           STR      R8,[R0, #+0]
    909                  forward=1;
   \   00000610   ........           LDR      R0,??DataTable89  ;; forward
   \   00000614   004085E5           STR      R4,[R5, #+0]
   \   00000618   008086E5           STR      R8,[R6, #+0]
   \   0000061C   004080E5           STR      R4,[R0, #+0]
    910                  task_list=1;
   \   00000620   00408EE5           STR      R4,[LR, #+0]
    911                  DirectRedrawGUI();
   \   00000624   F6FEFFEA           B        ??OnKey_7
    912                  }
    913                  else
    914                    goto enga;
    915                  break;
    916                case RIGHT_SOFT:
    917                  if(lock_other)
   \                     ??OnKey_60:
   \   00000628   000050E3           CMP      R0,#+0
   \   0000062C   F087BD08           POPEQ    {R4-R10,PC}
    918                  return(1);
   \   00000630   03FFFFEA           B        ??OnKey_24
    919                  break;
    920                case 0x30:
    921                time_not=!time_not;
   \                     ??OnKey_61:
   \   00000634   000091E5           LDR      R0,[R1, #+0]
   \   00000638   000050E3           CMP      R0,#+0
   \   0000063C   0040A013           MOVNE    R4,#+0
   \   00000640   004081E5           STR      R4,[R1, #+0]
    922                DirectRedrawGUI();
   \   00000644   EEFEFFEA           B        ??OnKey_7
    923                break;
    924                case RIGHT_BUTTON:
    925                case LEFT_BUTTON:
    926                  shutd=!shutd;
   \                     ??OnKey_62:
   \   00000648   ........           LDR      R0,??DataTable90  ;; shutd
   \   0000064C   000090E5           LDR      R0,[R0, #+0]
   \   00000650   000050E3           CMP      R0,#+0
   \   00000654   ........           LDR      R0,??DataTable90  ;; shutd
   \   00000658   0040A013           MOVNE    R4,#+0
   \   0000065C   C2FEFFEA           B        ??OnKey_13
    927                  DirectRedrawGUI();
    928                  break;
    929                case ENTER_BUTTON:
    930                  {
    931                  enga:
    932                  task_list=3;
   \                     ??OnKey_59:
   \   00000660   0300A0E3           MOV      R0,#+3
   \   00000664   00008EE5           STR      R0,[LR, #+0]
    933                  data4=AllocWS(128);
   \   00000668   8000A0E3           MOV      R0,#+128
   \   0000066C   250100EF           SWI      +293
   \   00000670   ........           LDR      R1,??DataTable77  ;; data4
   \   00000674   000081E5           STR      R0,[R1, #+0]
    934                  data5=AllocWS(128);
   \   00000678   8000A0E3           MOV      R0,#+128
   \   0000067C   250100EF           SWI      +293
   \   00000680   1C109FE5           LDR      R1,??OnKey_33+0x8  ;; data5
   \   00000684   000081E5           STR      R0,[R1, #+0]
    935                  show_daemons=1;
   \   00000688   ........           LDR      R0,??DataTable78  ;; show_daemons
   \   0000068C   004080E5           STR      R4,[R0, #+0]
    936                  task_list3();
   \   00000690   ........           BL       task_list3
    937                  }
    938                  break;
    939                }
    940                }
    941            }
    942            return(0);
   \                     ??OnKey_3:
   \   00000694   0000A0E3           MOV      R0,#+0
   \   00000698   F087BDE8           POP      {R4-R10,PC}      ;; return
   \                     ??OnKey_33:
   \   0000069C   ........           DC32     cleseri
   \   000006A0   ........           DC32     closing
   \   000006A4   ........           DC32     data5
    943          }
    944          
    945          extern void kill_data(void *p, void (*func_p)(void *));

   \                                 In segment CODE, align 4, keep-with-next
    946          void ElfKiller(void)
    947          {
   \                     ElfKiller:
   \   00000000   00402DE9           PUSH     {LR}
    948            extern void *ELF_BEGIN;
    949            kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
   \   00000004   158000EF           SWI      +32789
   \   00000008   0010A0E1           MOV      R1,R0
   \   0000000C   ........           LDR      R0,??DataTable102  ;; ELF_BEGIN
   \   00000010   0040BDE8           POP      {LR}             ;; Pop
   \   00000014   ........           _BF      kill_data,??kill_data??rA  ;; tailcall
    950          }
    951          

   \                                 In segment CODE, align 4, keep-with-next
    952          int method8(void){return(0);}
   \                     method8:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
    953          

   \                                 In segment CODE, align 4, keep-with-next
    954          int method9(void){return(0);}
   \                     method9:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
    955          

   \                                 In segment DATA_C, align 4, align-sorted
    956          const void * const gui_methods[11]={
   \                     gui_methods:
   \   00000000   ............       DC32 OnRedraw, onCreate, onClose, onFocus, onUnfocus, OnKey, 0H
   \              ............
   \              ............
   \              ............
   \              00000000    
   \   0000001C   ............       DC32 kill_data, method8, method9, 0H
   \              ............
   \              00000000    
    957            (void *)OnRedraw,	//Redraw
    958            (void *)onCreate,	//Create
    959            (void *)onClose,	//Close
    960            (void *)onFocus,	//Focus
    961            (void *)onUnfocus,	//Unfocus
    962            (void *)OnKey,	//OnKey
    963            0,
    964            (void *)kill_data,	//Destroy
    965            (void *)method8,
    966            (void *)method9,
    967            0
    968          };
    969          

   \                                 In segment DATA_C, align 4, align-sorted
    970          const RECT Canvas={0,0,132,176};
   \                     Canvas:
   \   00000000   000000008400       DC16 0, 0, 132, 176
   \              B000        
    971          
    972          #pragma inline
    973          void patch_rect(const RECT*rcc,int x,int y, int x2, int y2)
    974          {
    975            RECT *rc=(RECT *)rcc;
    976            rc->x=x;
    977            rc->y=y;
    978            rc->x2=x2;
    979            rc->y2=y2;
    980          }
    981          

   \                                 In segment CODE, align 4, keep-with-next
    982          void maincsm_oncreate(CSM_RAM *data)
    983          {
   \                     maincsm_oncreate:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    984          #ifdef NEWSGOLD
    985            DoScreen2();
    986          #endif
    987            MAIN_GUI *main_gui=malloc(sizeof(MAIN_GUI));
    988            MAIN_CSM*csm=(MAIN_CSM*)data;
    989            zeromem(main_gui,sizeof(MAIN_GUI));
    990            main_gui->gui.canvas=(void *)(&Canvas);
   \   00000004   70609FE5           LDR      R6,??maincsm_oncreate_0  ;; Canvas
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   ........           BL       DoScreen2
   \   00000010   4000A0E3           MOV      R0,#+64
   \   00000014   140000EF           SWI      +20
   \   00000018   0050A0E1           MOV      R5,R0
   \   0000001C   4010A0E3           MOV      R1,#+64
   \   00000020   1D0100EF           SWI      +285
    991            main_gui->gui.methods=(void *)gui_methods;
   \   00000024   54009FE5           LDR      R0,??maincsm_oncreate_0+0x4  ;; gui_methods
   \   00000028   006085E5           STR      R6,[R5, #+0]
   \   0000002C   040085E5           STR      R0,[R5, #+4]
    992            main_gui->gui.item_ll.data_mfree=(void (*)(void *))mfree_adr();
   \   00000030   158000EF           SWI      +32789
   \   00000034   200085E5           STR      R0,[R5, #+32]
    993            patch_rect((RECT*)&Canvas,0,YDISP,ScreenW()-1,ScreenH()-1);
   \   00000038   898100EF           SWI      +33161
   \   0000003C   0070A0E1           MOV      R7,R0
   \   00000040   888100EF           SWI      +33160
   \   00000044   011047E2           SUB      R1,R7,#+1
   \   00000048   010040E2           SUB      R0,R0,#+1
   \   0000004C   0020A0E3           MOV      R2,#+0
   \   00000050   B020C6E1           STRH     R2,[R6, #+0]
   \   00000054   1830A0E3           MOV      R3,#+24
   \   00000058   B230C6E1           STRH     R3,[R6, #+2]
   \   0000005C   B400C6E1           STRH     R0,[R6, #+4]
   \   00000060   B610C6E1           STRH     R1,[R6, #+6]
    994            csm->csm.state=0;
   \   00000064   102084E5           STR      R2,[R4, #+16]
    995            csm->csm.unk1=0;
   \   00000068   142084E5           STR      R2,[R4, #+20]
    996            csm->gui_id=CreateGUI(main_gui);
   \   0000006C   0500A0E1           MOV      R0,R5
   \   00000070   370100EF           SWI      +311
   \   00000074   280084E5           STR      R0,[R4, #+40]
    997          }
   \   00000078   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??maincsm_oncreate_0:
   \   0000007C   ........           DC32     Canvas
   \   00000080   ........           DC32     gui_methods
    998          
    999          

   \                                 In segment CODE, align 4, keep-with-next
   1000          void maincsm_onclose(CSM_RAM *csm)
   1001          {
   1002            //SUBPROC((void *)ElfKiller);
   1003          }
   \                     maincsm_onclose:
   \   00000000   1EFF2FE1           BX       LR               ;; return
   1004          

   \                                 In segment CODE, align 4, keep-with-next
   1005          int maincsm_onmessage(CSM_RAM *data, GBS_MSG *msg)
   1006          {
   1007            MAIN_CSM *csm=(MAIN_CSM*)data;
   1008             if ((msg->msg==MSG_GUI_DESTROYED)&&((int)msg->data0==csm->gui_id))
   \                     maincsm_onmessage:
   \   00000000   043091E5           LDR      R3,[R1, #+4]
   \   00000004   0220E0E3           MVN      R2,#+2
   \   00000008   0EC0A0E3           MOV      R12,#+14
   \   0000000C   64CC8CE3           ORR      R12,R12,#0x6400
   \   00000010   0C0053E1           CMP      R3,R12
   \   00000014   0400001A           BNE      ??maincsm_onmessage_0
   \   00000018   0C3091E5           LDR      R3,[R1, #+12]
   \   0000001C   28C090E5           LDR      R12,[R0, #+40]
   \   00000020   0C0053E1           CMP      R3,R12
   \   00000024   0300001A           BNE      ??maincsm_onmessage_1
   1009            {
   1010              csm->csm.state=-3;
   \   00000028   102080E5           STR      R2,[R0, #+16]
   1011            } 
   1012            if (msg->msg==MSG_INCOMMING_CALL)
   \                     ??maincsm_onmessage_0:
   \   0000002C   041091E5           LDR      R1,[R1, #+4]
   \   00000030   600C51E3           CMP      R1,#+24576
   1013            {
   1014              csm->csm.state=-3;
   \   00000034   10208005           STREQ    R2,[R0, #+16]
   1015            }
   1016            return(1); 
   \                     ??maincsm_onmessage_1:
   \   00000038   0100A0E3           MOV      R0,#+1
   \   0000003C   1EFF2FE1           BX       LR               ;; return
   1017          }
   1018          
   1019          const struct
   1020          {
   1021            CSM_DESC maincsm;
   1022            WSHDR maincsm_name;

   \                                 In segment DATA_C, align 4, align-sorted
   1023          }MAINCSM =
   \                     MAINCSM:
   \   00000000   ............       DC32 maincsm_onmessage, maincsm_oncreate, 0, 0, 0, 0, maincsm_onclose
   \              ....00000000
   \              000000000000
   \              000000000000
   \              ........    
   \   0000001C   2C0000000100       DC32 44, 1, minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0
   \              0000........
   \              ........CCCC
   \              AA5555AA3333
   \              00000000    
   \   00000038   8B00               DC16 139
   \   0000003A   0000               DC8 0, 0
   1024          {
   1025            {
   1026            maincsm_onmessage,
   1027            maincsm_oncreate,
   1028          #ifdef NEWSGOLD
   1029            0,
   1030            0,
   1031            0,
   1032            0,
   1033          #endif
   1034            maincsm_onclose,
   1035            sizeof(MAIN_CSM),
   1036            1,
   1037            &minus11
   1038            },
   1039            {
   1040              maincsm_name_body,
   1041              NAMECSM_MAGIC1,
   1042              NAMECSM_MAGIC2,
   1043              0x0,
   1044              139
   1045            }
   1046          };
   1047          

   \                                 In segment CODE, align 4, keep-with-next
   1048          void UpdateCSMname(void)
   1049          {
   \                     UpdateCSMname:
   \   00000000   10402DE9           PUSH     {R4,LR}
   1050            WSHDR *ws=AllocWS(256);
   \   00000004   400FA0E3           MOV      R0,#+256
   \   00000008   250100EF           SWI      +293
   1051            wsprintf((WSHDR *)(&MAINCSM.maincsm_name),"xtask 3 mod");
   \   0000000C   14109FE5           LDR      R1,??UpdateCSMname_0  ;; `?<Constant "xtask 3 mod">`
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   10009FE5           LDR      R0,??UpdateCSMname_0+0x4  ;; MAINCSM + 40
   \   00000018   240100EF           SWI      +292
   1052            FreeWS(ws);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   290100EF           SWI      +297
   1053          }
   \   00000024   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??UpdateCSMname_0:
   \   00000028   ........           DC32     `?<Constant "xtask 3 mod">`
   \   0000002C   ........           DC32     MAINCSM + 40
   1054          /*
   1055          CSM_RAM *GetUnderIdleCSM(void)
   1056          {
   1057            CSM_RAM *u;
   1058            CSM_DESC *UnderIdleDesc;
   1059            UnderIdleDesc=(CSM_DESC *)strtoul((char *)"A042B384",0,0x10);
   1060            LockSched();
   1061            u=CSM_root()->csm_q->csm.first;
   1062            while(u && u->constr!=UnderIdleDesc) u=u->next;
   1063            UnlockSched();
   1064            return u;
   1065          }*/
   1066          
   1067          extern const char UNDER_IDLE_CONSTR[];
   1068          extern const char *successed_config_filename;
   1069          

   \                                 In segment CODE, align 4, keep-with-next
   1070          CSM_RAM *GetUnderIdleCSM(void)
   1071          {
   \                     GetUnderIdleCSM:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   1072            CSM_RAM *u;
   1073            CSM_DESC *UnderIdleDesc;
   1074            if (strlen((char *)UNDER_IDLE_CONSTR)==8)
   \   00000004   88409FE5           LDR      R4,??GetUnderIdleCSM_0  ;; UNDER_IDLE_CONSTR
   \   00000008   0400A0E1           MOV      R0,R4
   \   0000000C   1B0000EF           SWI      +27
   \   00000010   080050E3           CMP      R0,#+8
   \   00000014   0500001A           BNE      ??GetUnderIdleCSM_1
   1075            {
   1076              UnderIdleDesc=(CSM_DESC *)strtoul((char *)UNDER_IDLE_CONSTR,0,0x10);
   \   00000018   1020A0E3           MOV      R2,#+16
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   ........           _BLF     strtoul,??strtoul??rA
   \   00000028   0050A0E1           MOV      R5,R0
   \   0000002C   0B0000EA           B        ??GetUnderIdleCSM_2
   1077            }
   1078            else
   1079            {
   1080              UnderIdleDesc=((CSM_RAM *)(FindCSMbyID(CSM_root()->idle_id))->prev)->constr;
   \                     ??GetUnderIdleCSM_1:
   \   00000030   068100EF           SWI      +33030
   \   00000034   040090E5           LDR      R0,[R0, #+4]
   \   00000038   080100EF           SWI      +264
   \   0000003C   040090E5           LDR      R0,[R0, #+4]
   1081              sprintf((char *)UNDER_IDLE_CONSTR,"%08X",UnderIdleDesc);
   \   00000040   50109FE5           LDR      R1,??GetUnderIdleCSM_0+0x4  ;; `?<Constant "%08X">`
   \   00000044   085090E5           LDR      R5,[R0, #+8]
   \   00000048   0400A0E1           MOV      R0,R4
   \   0000004C   0520A0E1           MOV      R2,R5
   \   00000050   160000EF           SWI      +22
   1082              SaveConfigData(successed_config_filename);
   \   00000054   ........           LDR      R0,??DataTable98  ;; successed_config_filename
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   ........           _BLF     SaveConfigData,??SaveConfigData??rA
   1083            }
   1084            LockSched();
   \                     ??GetUnderIdleCSM_2:
   \   00000060   460100EF           SWI      +326
   1085            u=CSM_root()->csm_q->csm.first;
   \   00000064   068100EF           SWI      +33030
   \   00000068   080090E5           LDR      R0,[R0, #+8]
   \   0000006C   084090E5           LDR      R4,[R0, #+8]
   \   00000070   000000EA           B        ??GetUnderIdleCSM_3
   1086            while(u && u->constr!=UnderIdleDesc) u=u->next;
   \                     ??GetUnderIdleCSM_4:
   \   00000074   004094E5           LDR      R4,[R4, #+0]
   \                     ??GetUnderIdleCSM_3:
   \   00000078   000054E3           CMP      R4,#+0
   \   0000007C   08009415           LDRNE    R0,[R4, #+8]
   \   00000080   05005011           CMPNE    R0,R5
   \   00000084   FAFFFF1A           BNE      ??GetUnderIdleCSM_4
   1087            UnlockSched();
   \   00000088   470100EF           SWI      +327
   1088            return u;
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??GetUnderIdleCSM_0:
   \   00000094   ........           DC32     UNDER_IDLE_CONSTR
   \   00000098   ........           DC32     `?<Constant "%08X">`
   1089          }
   1090          
   1091          //------------add on---------------------------//
   1092          #ifdef NEWSGOLD
   1093           #define USE_ONE_KEY
   1094          #endif
   1095          
   1096          #define TMR_SECOND(A) (1300L*A/6)
   1097          

   \                                 In segment DATA_Z, align 4, align-sorted
   1098          volatile int SHOW_LOCK;
   \                     SHOW_LOCK:
   \   00000000                      DS8 4
   1099          

   \                                 In segment DATA_Z, align 4, align-sorted
   1100          CSM_DESC icsmd;
   \                     icsmd:
   \   00000000                      DS8 40

   \                                 In segment DATA_Z, align 4, align-sorted
   1101          int (*old_icsm_onMessage)(CSM_RAM*,GBS_MSG*);
   \                     old_icsm_onMessage:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
   1102          void (*old_icsm_onClose)(CSM_RAM*);
   \                     old_icsm_onClose:
   \   00000000                      DS8 4
   1103          
   1104          

   \                                 In segment DATA_Z, align 4, align-sorted
   1105          CSM_RAM *under_idle;
   \                     under_idle:
   \   00000000                      DS8 4
   1106          
   1107          extern const int ACTIVE_KEY;
   1108          extern const int ACTIVE_KEY_STYLE;
   1109          extern const int RED_BUT_MODE;
   1110          extern const int ENA_LONG_PRESS;
   1111          extern const int ENA_LOCK;
   1112          
   1113          extern const char *successed_config_filename;
   1114          
   1115          

   \                                 In segment DATA_Z, align 4, align-sorted
   1116          int mode;
   \                     mode:
   \   00000000                      DS8 4
   1117          

   \                                 In segment DATA_Z, align 4, align-sorted
   1118          int mode_red;
   \                     mode_red:
   \   00000000                      DS8 4
   1119          

   \                                 In segment DATA_Z, align 4, align-sorted
   1120          int mode_enter;
   \                     mode_enter:
   \   00000000                      DS8 4
   1121          
   1122          

   \                                 In segment CODE, align 4, keep-with-next
   1123          void ShowMenu(int casi)
   1124          {
   \                     ShowMenu:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   1125            if(!IsGuiOnTop(MAINCSM_ID))
   \   00000004   ........           LDR      R4,??DataTable96  ;; MAINCSM_ID
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0070A0E1           MOV      R7,R0
   \   00000010   000094E5           LDR      R0,[R4, #+0]
   \   00000014   350100EF           SWI      +309
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   2700001A           BNE      ??ShowMenu_0
   1126            {
   1127              if(casi)
   \   00000020   ........           LDR      R5,??DataTable94  ;; task_list
   \   00000024   ........           LDR      R8,??DataTable83  ;; total_d
   \   00000028   0160A0E3           MOV      R6,#+1
   \   0000002C   000057E3           CMP      R7,#+0
   \   00000030   1300000A           BEQ      ??ShowMenu_1
   1128              {
   1129                total_d=GetNumberOfDialogs()-1;
   \   00000034   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   1130          #ifdef EVILFOX
   1131                  pos=1;
   1132                  total_pos=1;
   1133                  move_skip=0;
   \   00000038   ........           LDR      R1,??DataTable84  ;; move_skip
   \   0000003C   010040E2           SUB      R0,R0,#+1
   \   00000040   000088E5           STR      R0,[R8, #+0]
   \   00000044   ........           LDR      R0,??DataTable85  ;; pos
   1134          #else
   1135                  if(total_d>=1)
   1136                  {
   1137                  pos=2;
   1138                  total_pos=2;
   1139                  move_skip=0;
   1140                  }
   1141                  else
   1142                    {
   1143                  pos=1;
   1144                  total_pos=1;
   1145                  move_skip=0;
   1146                  }
   1147          #endif
   1148              task_list=1;
   \   00000048   006085E5           STR      R6,[R5, #+0]
   \   0000004C   006080E5           STR      R6,[R0, #+0]
   \   00000050   ........           LDR      R0,??DataTable86  ;; total_pos
   \   00000054   006080E5           STR      R6,[R0, #+0]
   \   00000058   0000A0E3           MOV      R0,#+0
   \   0000005C   000081E5           STR      R0,[R1, #+0]
   1149              time_not=1;
   \   00000060   ........           LDR      R1,??DataTable87  ;; time_not
   \   00000064   006081E5           STR      R6,[R1, #+0]
   1150              sm=0;
   \   00000068   ........           LDR      R1,??DataTable88  ;; sm
   \   0000006C   000081E5           STR      R0,[R1, #+0]
   1151              forward=1;
   \   00000070   ........           LDR      R1,??DataTable89  ;; forward
   \   00000074   006081E5           STR      R6,[R1, #+0]
   1152              logout=0;
   \   00000078   48109FE5           LDR      R1,??ShowMenu_2  ;; logout
   \   0000007C   000081E5           STR      R0,[R1, #+0]
   1153              lock_other=0;
   \   00000080   070000EA           B        ??ShowMenu_3
   1154              }
   1155              else
   1156              {
   1157                total_d=GetNumberOfDialogs()-1;
   \                     ??ShowMenu_1:
   \   00000084   ........           _BLF     GetNumberOfDialogs,??GetNumberOfDialogs??rA
   \   00000088   010040E2           SUB      R0,R0,#+1
   \   0000008C   000088E5           STR      R0,[R8, #+0]
   1158                task_list=2;
   \   00000090   0200A0E3           MOV      R0,#+2
   \   00000094   000085E5           STR      R0,[R5, #+0]
   1159                shutd=1;
   \   00000098   ........           LDR      R0,??DataTable90  ;; shutd
   \   0000009C   006080E5           STR      R6,[R0, #+0]
   1160                lock_other=1;
   \   000000A0   0100A0E3           MOV      R0,#+1
   \                     ??ShowMenu_3:
   \   000000A4   ........           LDR      R1,??DataTable91  ;; lock_other
   1161              }
   1162              char dummy[sizeof(MAIN_CSM)];
   1163              MAINCSM_ID = CreateCSM(&MAINCSM.maincsm,dummy,2);
   \   000000A8   0220A0E3           MOV      R2,#+2
   \   000000AC   000081E5           STR      R0,[R1, #+0]
   \   000000B0   14009FE5           LDR      R0,??ShowMenu_2+0x4  ;; MAINCSM
   \   000000B4   0D10A0E1           MOV      R1,SP
   \   000000B8   070100EF           SWI      +263
   \   000000BC   000084E5           STR      R0,[R4, #+0]
   1164            }
   1165          }
   \                     ??ShowMenu_0:
   \   000000C0   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   000000C4   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??ShowMenu_2:
   \   000000C8   ........           DC32     logout
   \   000000CC   ........           DC32     MAINCSM
   1166          
   1167          

   \                                 In segment CODE, align 4, keep-with-next
   1168          int my_keyhook(int submsg, int msg)
   1169          {
   \                     my_keyhook:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   1170          #ifdef NEWSGOLD
   1171            void *icsm=FindCSMbyID(CSM_root()->idle_id);
   \   00000010   068100EF           SWI      +33030
   \   00000014   040090E5           LDR      R0,[R0, #+4]
   \   00000018   0960A0E3           MOV      R6,#+9
   \   0000001C   080100EF           SWI      +264
   \   00000020   00B0A0E1           MOV      R11,R0
   \   00000024   426C86E3           ORR      R6,R6,#0x4200
   \   00000028   0170A0E3           MOV      R7,#+1
   \   0000002C   9380A0E3           MOV      R8,#+147
   \   00000030   408F88E3           ORR      R8,R8,#0x100
   \   00000034   0090A0E3           MOV      R9,#+0
   \   00000038   0C0054E3           CMP      R4,#+12
   \   0000003C   2100001A           BNE      ??my_keyhook_0
   1172            if ((submsg==RED_BUTTON)&&(IsIdleUiOnTop()&&(use_idle)))
   \   00000040   C50000EF           SWI      +197
   \   00000044   000050E3           CMP      R0,#+0
   \   00000048   0600000A           BEQ      ??my_keyhook_1
   \   0000004C   B0039FE5           LDR      R0,??my_keyhook_2  ;; use_idle
   \   00000050   000090E5           LDR      R0,[R0, #+0]
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   0200000A           BEQ      ??my_keyhook_1
   1173            {
   1174              ShowMenu(0);
   \   0000005C   0000A0E3           MOV      R0,#+0
   \   00000060   ........           BL       ShowMenu
   1175              return KEYHOOK_BREAK;
   \   00000064   130000EA           B        ??my_keyhook_3
   1176            }
   \                     ??my_keyhook_1:
   \   00000068   98139FE5           LDR      R1,??my_keyhook_2+0x4  ;; RED_BUT_MODE
   \   0000006C   001091E5           LDR      R1,[R1, #+0]
   \   00000070   00108DE5           STR      R1,[SP, #+0]
   \   00000074   000051E3           CMP      R1,#+0
   \   00000078   1200000A           BEQ      ??my_keyhook_0
   1177            if ((submsg==RED_BUTTON)&&(RED_BUT_MODE))
   1178            {
   1179              if ((CSM_root()->csm_q->csm.last==icsm)||(IsCalling())) //(IsGuiOnTop(((int *)icsm)[DISPLACE_OF_IDLEGUI_ID/4]))
   \   0000007C   88A39FE5           LDR      R10,??my_keyhook_2+0x8  ;; mode_red
   \   00000080   068100EF           SWI      +33030
   \   00000084   080090E5           LDR      R0,[R0, #+8]
   \   00000088   0C0090E5           LDR      R0,[R0, #+12]
   \   0000008C   0B0050E1           CMP      R0,R11
   \   00000090   0200000A           BEQ      ??my_keyhook_4
   \   00000094   6E0000EF           SWI      +110
   \   00000098   000050E3           CMP      R0,#+0
   \   0000009C   1500000A           BEQ      ??my_keyhook_5
   1180              {
   1181                if (msg==KEY_UP)
   \                     ??my_keyhook_4:
   \   000000A0   650F55E3           CMP      R5,#+404
   \   000000A4   0500001A           BNE      ??my_keyhook_6
   1182                {
   1183          	if (mode_red!=2)
   \   000000A8   00009AE5           LDR      R0,[R10, #+0]
   \   000000AC   020050E3           CMP      R0,#+2
   \   000000B0   0300000A           BEQ      ??my_keyhook_7
   1184          	{
   1185          	  mode_red=0;
   \   000000B4   00908AE5           STR      R9,[R10, #+0]
   1186          	  return KEYHOOK_BREAK;
   \                     ??my_keyhook_3:
   \   000000B8   0200A0E3           MOV      R0,#+2
   \   000000BC   F28FBDE8           POP      {R1,R4-R11,PC}
   1187          	}
   1188                }
   1189                mode_red=2; //????? ?? ??????????
   \                     ??my_keyhook_6:
   \   000000C0   0200A0E3           MOV      R0,#+2
   \                     ??my_keyhook_7:
   \   000000C4   00008AE5           STR      R0,[R10, #+0]
   1190              }
   1191              else
   1192              {
   1193                if (msg==KEY_DOWN)
   1194                {
   1195          	if (mode_red==1)
   1196          	{
   1197          	  mode_red=0;
   1198          	  return KEYHOOK_NEXT; //Long press, continue with REDB PRESS
   1199          	}
   1200                }
   1201                if (msg==KEY_UP)
   1202                {
   1203          	if (mode_red)
   1204          	{
   1205          	  mode_red=0; //Release after longpress
   1206          	  return KEYHOOK_NEXT;
   1207          	}
   1208          	else
   1209          	  //Release after short press
   1210          	{
   1211                    if (RED_BUT_MODE==1)
   1212                    {
   1213                      if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,RIGHT_SOFT);
   1214                    }
   1215                    else
   1216                    {
   1217          	    if (!MAINCSM_ID)
   1218          	    {
   1219                   //     if(IsIdleUiOnTop()) ShowMenu();
   1220                   //     else
   1221                   //     {
   1222          	      CSMtoTop(CSM_root()->idle_id,-1);
   1223          	 //     }
   1224                      }
   1225                    }
   1226          	}
   1227                }
   1228                if (msg==LONG_PRESS)
   1229                {
   1230          	mode_red=1;
   1231          	if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,RED_BUTTON);
   1232                }
   1233                return KEYHOOK_BREAK;
   1234              }
   1235            }
   1236          #endif
   1237          //#ifndef NEWSGOLD
   1238            if (ACTIVE_KEY_STYLE==3)
   \                     ??my_keyhook_0:
   \   000000C8   40139FE5           LDR      R1,??my_keyhook_2+0xC  ;; ENA_LOCK
   \   000000CC   ........           LDR      R0,??DataTable94  ;; task_list
   \   000000D0   00A091E5           LDR      R10,[R1, #+0]
   \   000000D4   38139FE5           LDR      R1,??my_keyhook_2+0x10  ;; ACTIVE_KEY_STYLE
   \   000000D8   000090E5           LDR      R0,[R0, #+0]
   \   000000DC   001091E5           LDR      R1,[R1, #+0]
   \   000000E0   ........           LDR      R11,??DataTable133  ;; mode
   \   000000E4   030051E3           CMP      R1,#+3
   \   000000E8   5B00001A           BNE      ??my_keyhook_8
   1239            {
   1240              if (submsg!=ENTER_BUTTON) return KEYHOOK_NEXT;
   \   000000EC   1A0054E3           CMP      R4,#+26
   \   000000F0   2B00000A           BEQ      ??my_keyhook_9
   \   000000F4   3A0000EA           B        ??my_keyhook_10
   \                     ??my_keyhook_5:
   \   000000F8   00009AE5           LDR      R0,[R10, #+0]
   \   000000FC   080055E1           CMP      R5,R8
   \   00000100   0400001A           BNE      ??my_keyhook_11
   \   00000104   010050E3           CMP      R0,#+1
   \   00000108   8200001A           BNE      ??my_keyhook_12
   \                     ??my_keyhook_13:
   \   0000010C   00908AE5           STR      R9,[R10, #+0]
   \                     ??my_keyhook_14:
   \   00000110   0000A0E3           MOV      R0,#+0
   \   00000114   F28FBDE8           POP      {R1,R4-R11,PC}
   \                     ??my_keyhook_11:
   \   00000118   ........           LDR      R1,??DataTable94  ;; task_list
   \   0000011C   650F55E3           CMP      R5,#+404
   \   00000120   001091E5           LDR      R1,[R1, #+0]
   \   00000124   1200001A           BNE      ??my_keyhook_15
   \   00000128   000050E3           CMP      R0,#+0
   \   0000012C   F6FFFF1A           BNE      ??my_keyhook_13
   \   00000130   00009DE5           LDR      R0,[SP, #+0]
   \   00000134   010050E3           CMP      R0,#+1
   \   00000138   0400001A           BNE      ??my_keyhook_16
   \   0000013C   030051E3           CMP      R1,#+3
   \   00000140   02005113           CMPNE    R1,#+2
   \   00000144   7300000A           BEQ      ??my_keyhook_12
   \   00000148   0420A0E3           MOV      R2,#+4
   \   0000014C   100000EA           B        ??my_keyhook_17
   \                     ??my_keyhook_16:
   \   00000150   ........           LDR      R0,??DataTable96  ;; MAINCSM_ID
   \   00000154   000090E5           LDR      R0,[R0, #+0]
   \   00000158   000050E3           CMP      R0,#+0
   \   0000015C   6D00001A           BNE      ??my_keyhook_12
   \   00000160   068100EF           SWI      +33030
   \   00000164   040090E5           LDR      R0,[R0, #+4]
   \   00000168   001067E2           RSB      R1,R7,#+0
   \   0000016C   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   00000170   D0FFFFEA           B        ??my_keyhook_3
   \                     ??my_keyhook_15:
   \   00000174   650F87E3           ORR      R0,R7,#0x194
   \   00000178   000055E1           CMP      R5,R0
   \   0000017C   6500001A           BNE      ??my_keyhook_12
   \   00000180   00708AE5           STR      R7,[R10, #+0]
   \   00000184   030051E3           CMP      R1,#+3
   \   00000188   02005113           CMPNE    R1,#+2
   \   0000018C   6100000A           BEQ      ??my_keyhook_12
   \   00000190   0C20A0E3           MOV      R2,#+12
   \                     ??my_keyhook_17:
   \   00000194   0810A0E1           MOV      R1,R8
   \   00000198   0600A0E1           MOV      R0,R6
   \   0000019C   000100EF           SWI      +256
   \   000001A0   C4FFFFEA           B        ??my_keyhook_3
   1241          /*    if (my_csm_id)
   1242              {
   1243                if (((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=my_csm_id)
   1244                {
   1245                  CloseCSM(my_csm_id);
   1246                }
   1247                return KEYHOOK_NEXT;
   1248              }*/
   1249              switch(msg)
   \                     ??my_keyhook_9:
   \   000001A4   6C229FE5           LDR      R2,??my_keyhook_2+0x14  ;; mode_enter
   \   000001A8   080055E1           CMP      R5,R8
   \   000001AC   003092E5           LDR      R3,[R2, #+0]
   \   000001B0   0500000A           BEQ      ??my_keyhook_18
   \   000001B4   650F55E3           CMP      R5,#+404
   \   000001B8   0D00000A           BEQ      ??my_keyhook_19
   \   000001BC   65EF87E3           ORR      LR,R7,#0x194
   \   000001C0   0E0055E1           CMP      R5,LR
   \   000001C4   1B00000A           BEQ      ??my_keyhook_20
   \   000001C8   230000EA           B        ??my_keyhook_8
   1250              {
   1251              case KEY_DOWN:
   1252                if (mode_enter==2)
   \                     ??my_keyhook_18:
   \   000001CC   020053E3           CMP      R3,#+2
   \   000001D0   0500001A           BNE      ??my_keyhook_21
   1253                {
   1254          	GBS_SendMessage(MMI_CEPID,KEY_UP,ENTER_BUTTON);
   \   000001D4   1A20A0E3           MOV      R2,#+26
   \   000001D8   651FA0E3           MOV      R1,#+404
   \   000001DC   0600A0E1           MOV      R0,R6
   \   000001E0   000100EF           SWI      +256
   1255          	return KEYHOOK_NEXT;
   \                     ??my_keyhook_10:
   \   000001E4   0000A0E3           MOV      R0,#+0
   \   000001E8   F28FBDE8           POP      {R1,R4-R11,PC}
   1256                }
   1257                mode_enter=0;
   \                     ??my_keyhook_21:
   \   000001EC   009082E5           STR      R9,[R2, #+0]
   1258                return KEYHOOK_BREAK;
   \   000001F0   B0FFFFEA           B        ??my_keyhook_3
   1259              case KEY_UP:
   1260                if (mode_enter==0)
   \                     ??my_keyhook_19:
   \   000001F4   000053E3           CMP      R3,#+0
   \   000001F8   0A00001A           BNE      ??my_keyhook_22
   1261                {
   1262                  mode_enter=2;
   \   000001FC   0210A0E3           MOV      R1,#+2
   \   00000200   001082E5           STR      R1,[R2, #+0]
   1263                  if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,ENTER_BUTTON);
   \   00000204   030050E3           CMP      R0,#+3
   \   00000208   4200000A           BEQ      ??my_keyhook_12
   \   0000020C   020050E3           CMP      R0,#+2
   \   00000210   F28FBD08           POPEQ    {R1,R4-R11,PC}
   \   00000214   1A20A0E3           MOV      R2,#+26
   \   00000218   0810A0E1           MOV      R1,R8
   \   0000021C   0600A0E1           MOV      R0,R6
   \   00000220   000100EF           SWI      +256
   1264                  return KEYHOOK_BREAK;
   \                     ??my_keyhook_23:
   \   00000224   3B0000EA           B        ??my_keyhook_12
   1265                }
   1266                if (mode_enter==2)
   \                     ??my_keyhook_22:
   \   00000228   020053E3           CMP      R3,#+2
   \   0000022C   EEFFFF1A           BNE      ??my_keyhook_21
   1267                {
   1268                  mode_enter=0;
   \   00000230   009082E5           STR      R9,[R2, #+0]
   1269                  return KEYHOOK_NEXT;
   \   00000234   EAFFFFEA           B        ??my_keyhook_10
   1270                }
   1271                mode_enter=0;
   1272                return KEYHOOK_BREAK;      
   1273              case LONG_PRESS:
   1274                mode_enter=1;
   \                     ??my_keyhook_20:
   \   00000238   007082E5           STR      R7,[R2, #+0]
   1275                if (IsUnlocked()||ENA_LOCK)
   \   0000023C   430000EF           SWI      +67
   \   00000240   000050E3           CMP      R0,#+0
   \   00000244   00005A03           CMPEQ    R10,#+0
   \   00000248   0100000A           BEQ      ??my_keyhook_24
   1276                {
   1277                  ShowMenu(1);
   \   0000024C   0100A0E3           MOV      R0,#+1
   \   00000250   ........           BL       ShowMenu
   1278                }
   1279                mode=0;
   \                     ??my_keyhook_24:
   \   00000254   00908BE5           STR      R9,[R11, #+0]
   1280                return KEYHOOK_BREAK;
   \   00000258   96FFFFEA           B        ??my_keyhook_3
   1281              }
   1282            }
   1283            // * + # implementation
   1284            if ((ACTIVE_KEY_STYLE==2) && !(MAINCSM_ID))
   \                     ??my_keyhook_8:
   \   0000025C   ........           LDR      R2,??DataTable96  ;; MAINCSM_ID
   \   00000260   00309BE5           LDR      R3,[R11, #+0]
   \   00000264   002092E5           LDR      R2,[R2, #+0]
   \   00000268   020051E3           CMP      R1,#+2
   \   0000026C   1700001A           BNE      ??my_keyhook_25
   \   00000270   000052E3           CMP      R2,#+0
   \   00000274   A5FFFF1A           BNE      ??my_keyhook_14
   1285            {
   1286              if (msg==KEY_UP)
   \   00000278   650F55E3           CMP      R5,#+404
   1287              {
   1288                mode=0;
   \   0000027C   00908B05           STREQ    R9,[R11, #+0]
   1289                return KEYHOOK_NEXT;
   \   00000280   A2FFFF0A           BEQ      ??my_keyhook_14
   1290              }
   1291              if (msg==KEY_DOWN)
   \   00000284   080055E1           CMP      R5,R8
   \   00000288   A0FFFF1A           BNE      ??my_keyhook_14
   1292              {
   1293                switch (submsg)
   \   0000028C   23C054E2           SUBS     R12,R4,#+35
   \   00000290   0300000A           BEQ      ??my_keyhook_26
   \   00000294   07C05CE2           SUBS     R12,R12,#+7
   \   00000298   0C00001A           BNE      ??my_keyhook_25
   1294                {
   1295                case '*':
   1296                  mode=1;
   \   0000029C   00708BE5           STR      R7,[R11, #+0]
   1297                  return (0);
   \   000002A0   CFFFFFEA           B        ??my_keyhook_10
   1298                case '#':
   1299                  if (mode==1)
   \                     ??my_keyhook_26:
   \   000002A4   010053E3           CMP      R3,#+1
   \   000002A8   98FFFF1A           BNE      ??my_keyhook_14
   1300                  {
   1301                    if (IsUnlocked()||ENA_LOCK)
   \   000002AC   430000EF           SWI      +67
   \   000002B0   000050E3           CMP      R0,#+0
   \   000002B4   00005A03           CMPEQ    R10,#+0
   \   000002B8   0200000A           BEQ      ??my_keyhook_27
   1302                      ShowMenu(1);
   \   000002BC   0100A0E3           MOV      R0,#+1
   \   000002C0   ........           BL       ShowMenu
   1303                    else mode=0;
   1304                  }
   1305                  else return KEYHOOK_NEXT;
   1306                }
   1307              }
   1308            }
   1309          //#endif
   1310            if (ACTIVE_KEY_STYLE<2)
   1311            {
   1312              if (submsg!=ACTIVE_KEY) return KEYHOOK_NEXT;
   1313              if (MAINCSM_ID)
   1314              {
   1315          /*      if (((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=my_csm_id)
   1316                {
   1317          	CloseCSM(my_csm_id);
   1318                }*/
   1319                if (msg==KEY_UP)
   1320                {
   1321          //        total_pos=2;
   1322          //        if(total_pos>total_d) total_pos--;
   1323          	if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_DOWN,ENTER_BUTTON);
   1324                }
   1325                return KEYHOOK_BREAK;
   1326              }
   1327              switch(msg)
   1328              {
   1329              case KEY_DOWN:
   1330                mode=0;
   1331                if (ACTIVE_KEY_STYLE==0)
   1332          	return KEYHOOK_BREAK;
   1333                else 
   1334          	return KEYHOOK_NEXT;
   1335              case KEY_UP:
   1336                if (mode==1)
   1337                {
   1338          	//Release after longpress
   1339          	mode=0;
   1340          	if ((ACTIVE_KEY_STYLE==1) || (ENA_LONG_PRESS==3))
   1341          	{
   1342          	  //Launch on LongPress or Extra on LP - Launch
   1343          	  if (IsUnlocked()||ENA_LOCK)
   1344          	  {
   1345          	    ShowMenu(1);
   1346          	  }
   1347          	  return KEYHOOK_BREAK;
   1348          	}
   1349                  if (ENA_LONG_PRESS==1) return KEYHOOK_BREAK;
   1350          	if (ENA_LONG_PRESS==2)
   1351          	{        
   1352          	  if ((task_list!=2)&&(task_list!=3)) CSMtoTop(CSM_root()->idle_id,-1);
   1353          	  return KEYHOOK_BREAK;
   1354          	}
   1355                  if (ENA_LONG_PRESS==4)
   1356                  {
   1357                    if ((task_list!=2)&&(task_list!=3)){
   1358                    CSMtoTop(CSM_root()->idle_id,-1);
   1359                    KbdLock();}
   1360                    return KEYHOOK_BREAK;
   1361                  }
   1362          	break;
   1363                }
   1364                if (ACTIVE_KEY_STYLE==0)
   1365                {
   1366          	if (IsUnlocked()||ENA_LOCK)
   1367          	{
   1368          	  ShowMenu(1);
   1369          	}
   1370          	return KEYHOOK_BREAK;
   1371                }
   1372                break;
   1373              case LONG_PRESS:
   1374                mode=1;
   1375          #ifndef NEWSGOLD
   1376                if (ACTIVE_KEY_STYLE==1)
   1377                {
   1378          	if (ENA_LONG_PRESS)
   1379          	  return KEYHOOK_NEXT;
   1380          	else 
   1381          	  return KEYHOOK_BREAK;
   1382                }
   1383          #else
   1384                return KEYHOOK_BREAK;
   1385          #endif
   1386              }
   1387            }
   1388            return KEYHOOK_NEXT;
   \   000002C4   C6FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_27:
   \   000002C8   00908BE5           STR      R9,[R11, #+0]
   \   000002CC   C4FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_25:
   \   000002D0   020051E3           CMP      R1,#+2
   \   000002D4   8DFFFFAA           BGE      ??my_keyhook_14
   \   000002D8   3CC19FE5           LDR      R12,??my_keyhook_2+0x18  ;; ACTIVE_KEY
   \   000002DC   00C09CE5           LDR      R12,[R12, #+0]
   \   000002E0   0C0054E1           CMP      R4,R12
   \   000002E4   89FFFF1A           BNE      ??my_keyhook_14
   \   000002E8   000052E3           CMP      R2,#+0
   \   000002EC   0B00000A           BEQ      ??my_keyhook_28
   \   000002F0   650F55E3           CMP      R5,#+404
   \   000002F4   0700001A           BNE      ??my_keyhook_12
   \   000002F8   030050E3           CMP      R0,#+3
   \   000002FC   0500000A           BEQ      ??my_keyhook_12
   \   00000300   020050E3           CMP      R0,#+2
   \   00000304   F28FBD08           POPEQ    {R1,R4-R11,PC}
   \   00000308   1A20A0E3           MOV      R2,#+26
   \   0000030C   0810A0E1           MOV      R1,R8
   \   00000310   0600A0E1           MOV      R0,R6
   \   00000314   000100EF           SWI      +256
   \                     ??my_keyhook_12:
   \   00000318   0200A0E3           MOV      R0,#+2
   \   0000031C   F28FBDE8           POP      {R1,R4-R11,PC}
   \                     ??my_keyhook_28:
   \   00000320   080055E1           CMP      R5,R8
   \   00000324   0500000A           BEQ      ??my_keyhook_29
   \   00000328   650F55E3           CMP      R5,#+404
   \   0000032C   0700000A           BEQ      ??my_keyhook_30
   \   00000330   022088E2           ADD      R2,R8,#+2
   \   00000334   020055E1           CMP      R5,R2
   \   00000338   2F00000A           BEQ      ??my_keyhook_31
   \   0000033C   A8FFFFEA           B        ??my_keyhook_10
   \                     ??my_keyhook_29:
   \   00000340   00908BE5           STR      R9,[R11, #+0]
   \   00000344   000051E3           CMP      R1,#+0
   \   00000348   70FFFF1A           BNE      ??my_keyhook_14
   \   0000034C   59FFFFEA           B        ??my_keyhook_3
   \                     ??my_keyhook_30:
   \   00000350   010053E3           CMP      R3,#+1
   \   00000354   1F00001A           BNE      ??my_keyhook_32
   \   00000358   00908BE5           STR      R9,[R11, #+0]
   \   0000035C   010051E3           CMP      R1,#+1
   \   00000360   1E00000A           BEQ      ??my_keyhook_33
   \   00000364   B4109FE5           LDR      R1,??my_keyhook_2+0x1C  ;; ENA_LONG_PRESS
   \   00000368   001091E5           LDR      R1,[R1, #+0]
   \   0000036C   030051E3           CMP      R1,#+3
   \   00000370   1A00000A           BEQ      ??my_keyhook_33
   \   00000374   010051E3           CMP      R1,#+1
   \   00000378   E6FFFF0A           BEQ      ??my_keyhook_12
   \   0000037C   020051E3           CMP      R1,#+2
   \   00000380   0800001A           BNE      ??my_keyhook_34
   \   00000384   020050E3           CMP      R0,#+2
   \   00000388   F28FBD08           POPEQ    {R1,R4-R11,PC}
   \   0000038C   030050E3           CMP      R0,#+3
   \   00000390   E0FFFF0A           BEQ      ??my_keyhook_12
   \   00000394   068100EF           SWI      +33030
   \   00000398   040090E5           LDR      R0,[R0, #+4]
   \   0000039C   001067E2           RSB      R1,R7,#+0
   \   000003A0   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \                     ??my_keyhook_35:
   \   000003A4   DBFFFFEA           B        ??my_keyhook_12
   \                     ??my_keyhook_34:
   \   000003A8   040051E3           CMP      R1,#+4
   \   000003AC   57FFFF1A           BNE      ??my_keyhook_14
   \   000003B0   020050E3           CMP      R0,#+2
   \   000003B4   F28FBD08           POPEQ    {R1,R4-R11,PC}
   \   000003B8   030050E3           CMP      R0,#+3
   \   000003BC   D5FFFF0A           BEQ      ??my_keyhook_12
   \   000003C0   068100EF           SWI      +33030
   \   000003C4   040090E5           LDR      R0,[R0, #+4]
   \   000003C8   001067E2           RSB      R1,R7,#+0
   \   000003CC   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   000003D0   A90000EF           SWI      +169
   \                     ??my_keyhook_36:
   \   000003D4   CFFFFFEA           B        ??my_keyhook_12
   \                     ??my_keyhook_32:
   \   000003D8   000051E3           CMP      R1,#+0
   \   000003DC   4BFFFF1A           BNE      ??my_keyhook_14
   \                     ??my_keyhook_33:
   \   000003E0   430000EF           SWI      +67
   \   000003E4   000050E3           CMP      R0,#+0
   \   000003E8   00005A03           CMPEQ    R10,#+0
   \   000003EC   C9FFFF0A           BEQ      ??my_keyhook_12
   \   000003F0   0100A0E3           MOV      R0,#+1
   \   000003F4   ........           BL       ShowMenu
   \                     ??my_keyhook_37:
   \   000003F8   C6FFFFEA           B        ??my_keyhook_12
   \                     ??my_keyhook_31:
   \   000003FC   00708BE5           STR      R7,[R11, #+0]
   \   00000400   2CFFFFEA           B        ??my_keyhook_3
   \                     ??my_keyhook_2:
   \   00000404   ........           DC32     use_idle
   \   00000408   ........           DC32     RED_BUT_MODE
   \   0000040C   ........           DC32     mode_red
   \   00000410   ........           DC32     ENA_LOCK
   \   00000414   ........           DC32     ACTIVE_KEY_STYLE
   \   00000418   ........           DC32     mode_enter
   \   0000041C   ........           DC32     ACTIVE_KEY
   \   00000420   ........           DC32     ENA_LONG_PRESS
   1389          }
   1390          

   \                                 In segment DATA_Z, align 4, align-sorted
   1391          volatile int callhide_mode=0;
   \                     callhide_mode:
   \   00000000                      DS8 4
   1392          
   1393          #pragma inline=forced
   1394          int toupper(int c)
   1395          {
   1396            if ((c>='a')&&(c<='z')) c+='A'-'a';
   1397            return(c);
   1398          }
   1399          

   \                                 In segment CODE, align 4, keep-with-next
   1400          int strcmp_nocase(const char *s1,const char *s2)
   1401          {
   1402            int i;
   1403            int c;
   1404            while(!(i=(c=toupper(*s1++))-toupper(*s2++))) if (!c) break;
   \                     strcmp_nocase:
   \                     ??strcmp_nocase_0:
   \   00000000   0020D0E5           LDRB     R2,[R0, #+0]
   \   00000004   610052E3           CMP      R2,#+97
   \   00000008   010000BA           BLT      ??strcmp_nocase_1
   \   0000000C   7B0052E3           CMP      R2,#+123
   \   00000010   202042B2           SUBLT    R2,R2,#+32
   \                     ??strcmp_nocase_1:
   \   00000014   00C0D1E5           LDRB     R12,[R1, #+0]
   \   00000018   010080E2           ADD      R0,R0,#+1
   \   0000001C   0230A0E1           MOV      R3,R2
   \   00000020   61005CE3           CMP      R12,#+97
   \   00000024   010000BA           BLT      ??strcmp_nocase_2
   \   00000028   7B005CE3           CMP      R12,#+123
   \   0000002C   20C04CB2           SUBLT    R12,R12,#+32
   \                     ??strcmp_nocase_2:
   \   00000030   011081E2           ADD      R1,R1,#+1
   \   00000034   0C2052E0           SUBS     R2,R2,R12
   \   00000038   0100001A           BNE      ??strcmp_nocase_3
   \   0000003C   000053E3           CMP      R3,#+0
   \   00000040   EEFFFF1A           BNE      ??strcmp_nocase_0
   1405            return(i);
   \                     ??strcmp_nocase_3:
   \   00000044   0200A0E1           MOV      R0,R2
   \   00000048   1EFF2FE1           BX       LR               ;; return
   1406          }
   1407          

   \                                 In segment DATA_C, align 4, align-sorted
   1408          const char my_ipc_name[]=IPC_XTASK_NAME;
   \                     my_ipc_name:
   \   00000000   585461736B00       DC8 "XTask"
   \   00000006   0000               DC8 0, 0
   1409          

   \                                 In segment CODE, align 4, keep-with-next
   1410          int MyIDLECSM_onMessage(CSM_RAM* data,GBS_MSG* msg)
   1411          {
   1412            int csm_result;
   1413            int icgui_id;
   1414            //  int ocgui_id;
   1415            int idlegui_id;
   1416            
   1417          #ifndef NEWSGOLD 
   1418          #define EXT_BUTTON 0x63  
   1419            if ((ACTIVE_KEY_STYLE!=2)&&(ACTIVE_KEY_STYLE!=3)) //?? "* + #" ? ?? "Enter Button"
   1420            {//???? ????? ???? ??????? ??????? ??? ???? ???????
   1421              if (ACTIVE_KEY==EXT_BUTTON) //?????? ?????? ????????
   1422              {
   1423                if (msg->msg==439) //?????? ???????
   1424                {
   1425                  switch (msg->submess) 
   1426                  {
   1427          	case 1:
   1428          	  if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,LONG_PRESS,EXT_BUTTON);
   1429                    break;
   1430          	case 2:
   1431          	  if((task_list!=3)&&(task_list!=2)) GBS_SendMessage(MMI_CEPID,KEY_UP,EXT_BUTTON);
   1432                    break; // ???????? default!!!
   1433                  }
   1434                }
   1435                else //??????? ?? ?????????
   1436          	goto L1;
   1437              }
   1438              else //?????? ?????? ?? ???????? ?????? ??????? ?????? ????????
   1439                goto L1;
   1440            }
   1441            else
   1442          L1:
   1443            csm_result=old_icsm_onMessage(data,msg);
   1444          #else    
   1445            csm_result = old_icsm_onMessage(data, msg); //???????? ?????? ?????????? ???????    
   \                     MyIDLECSM_onMessage:
   \   00000000   ........           LDR      R2,??DataTable131  ;; old_icsm_onMessage
   \   00000004   F04F2DE9           PUSH     {R4-R11,LR}
   1446          #endif
   1447            
   1448            icgui_id=((int *)data)[DISPLACE_OF_INCOMMINGGUI/4];
   1449            idlegui_id=((int *)data)[DISPLACE_OF_IDLEGUI_ID/4];
   1450            //  ocgui_id=((int *)data)[DISPLACE_OF_OUTGOINGGUI/4];
   1451            if (!icgui_id) callhide_mode=0;
   \   00000008   C8519FE5           LDR      R5,??MyIDLECSM_onMessage_1  ;; callhide_mode
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   002092E5           LDR      R2,[R2, #+0]
   \   00000014   0070A0E1           MOV      R7,R0
   \   00000018   0180A0E1           MOV      R8,R1
   \   0000001C   32FF2FE1           BLX      R2
   \   00000020   349097E5           LDR      R9,[R7, #+52]
   \   00000024   2C1097E5           LDR      R1,[R7, #+44]
   \   00000028   0040A0E1           MOV      R4,R0
   \   0000002C   00108DE5           STR      R1,[SP, #+0]
   \   00000030   0060A0E3           MOV      R6,#+0
   \   00000034   000059E3           CMP      R9,#+0
   \   00000038   00608505           STREQ    R6,[R5, #+0]
   1452            //  if (!ocgui_id) callhide_mode=0;
   1453            
   1454            if(msg->msg == MSG_RECONFIGURE_REQ) 
   \   0000003C   040098E5           LDR      R0,[R8, #+4]
   \   00000040   AF10A0E3           MOV      R1,#+175
   \   00000044   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000048   010050E1           CMP      R0,R1
   \   0000004C   0A00001A           BNE      ??MyIDLECSM_onMessage_2
   1455            {
   1456              if (strcmp_nocase(successed_config_filename,(char *)msg->data0)==0)
   \   00000050   ........           LDR      R0,??DataTable98  ;; successed_config_filename
   \   00000054   0C1098E5           LDR      R1,[R8, #+12]
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   ........           BL       strcmp_nocase
   \   00000060   000050E3           CMP      R0,#+0
   \   00000064   4900001A           BNE      ??MyIDLECSM_onMessage_3
   1457              {
   1458                ShowMSG(1,(int)"XTask config updated!");
   \   00000068   6C119FE5           LDR      R1,??MyIDLECSM_onMessage_1+0x4  ;; `?<Constant "XTask config updated!">`
   \   0000006C   0100A0E3           MOV      R0,#+1
   \   00000070   480100EF           SWI      +328
   1459                InitConfig();
   \   00000074   ........           _BLF     InitConfig,??InitConfig??rA
   1460                init_turnoff();
   \   00000078   ........           BL       init_turnoff
   1461              }
   1462            }
   1463            //IPC
   1464            if (msg->msg==MSG_IPC)
   \                     ??MyIDLECSM_onMessage_2:
   \   0000007C   040098E5           LDR      R0,[R8, #+4]
   \   00000080   B010A0E3           MOV      R1,#+176
   \   00000084   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000088   010050E1           CMP      R0,R1
   \   0000008C   3B00001A           BNE      ??MyIDLECSM_onMessage_4
   1465            {
   1466              IPC_REQ *ipc;
   1467              if ((ipc=(IPC_REQ*)msg->data0))
   \   00000090   0CA098E5           LDR      R10,[R8, #+12]
   \   00000094   00005AE3           CMP      R10,#+0
   \   00000098   3C00000A           BEQ      ??MyIDLECSM_onMessage_3
   1468              {
   1469                if (strcmp(ipc->name_to,my_ipc_name)==0)
   \   0000009C   00009AE5           LDR      R0,[R10, #+0]
   \   000000A0   38119FE5           LDR      R1,??MyIDLECSM_onMessage_1+0x8  ;; my_ipc_name
   \   000000A4   190000EF           SWI      +25
   \   000000A8   000050E3           CMP      R0,#+0
   \   000000AC   3300001A           BNE      ??MyIDLECSM_onMessage_4
   1470                {
   1471          	switch (msg->submess)
   \   000000B0   ........           LDR      R0,??DataTable99  ;; MAINCSM_ID
   \   000000B4   081098E5           LDR      R1,[R8, #+8]
   \   000000B8   000090E5           LDR      R0,[R0, #+0]
   \   000000BC   20B19FE5           LDR      R11,??MyIDLECSM_onMessage_1+0xC  ;; SHOW_LOCK
   \   000000C0   011041E2           SUB      R1,R1,#+1
   \   000000C4   040051E3           CMP      R1,#+4
   \   000000C8   2C00008A           BHI      ??MyIDLECSM_onMessage_4
   \   000000CC   012F8FE2           ADR      R2,??MyIDLECSM_onMessage_0
   \   000000D0   0120D2E7           LDRB     R2,[R2, R1]
   \   000000D4   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??MyIDLECSM_onMessage_0:
   \   000000D8   15011D21           DC8      +21,+1,+29,+33
   \   000000DC   27000000           DC8      +39,+0,+0,+0
   1472          	{
   1473          	case IPC_XTASK_SHOW_CSM:
   1474          	  if (MAINCSM_ID) break;
   \                     ??MyIDLECSM_onMessage_5:
   \   000000E0   000050E3           CMP      R0,#+0
   \   000000E4   2500001A           BNE      ??MyIDLECSM_onMessage_4
   1475          	  if ((!IsCalling())&&(!SHOW_LOCK))
   \   000000E8   6E0000EF           SWI      +110
   \   000000EC   000050E3           CMP      R0,#+0
   \   000000F0   00009B05           LDREQ    R0,[R11, #+0]
   \   000000F4   00005003           CMPEQ    R0,#+0
   \   000000F8   2000001A           BNE      ??MyIDLECSM_onMessage_4
   1476          	  {
   1477          	    if ((CSM_root()->csm_q->csm.last!=data)||IsGuiOnTop(idlegui_id))
   \   000000FC   068100EF           SWI      +33030
   \   00000100   080090E5           LDR      R0,[R0, #+8]
   \   00000104   0C0090E5           LDR      R0,[R0, #+12]
   \   00000108   070050E1           CMP      R0,R7
   \   0000010C   0300001A           BNE      ??MyIDLECSM_onMessage_6
   \   00000110   00009DE5           LDR      R0,[SP, #+0]
   \   00000114   350100EF           SWI      +309
   \   00000118   000050E3           CMP      R0,#+0
   \   0000011C   1700000A           BEQ      ??MyIDLECSM_onMessage_4
   1478          	    {
   1479          	      CSMtoTop((int)(ipc->data),-1);
   \                     ??MyIDLECSM_onMessage_6:
   \   00000120   08009AE5           LDR      R0,[R10, #+8]
   \                     ??MyIDLECSM_onMessage_7:
   \   00000124   0610E0E1           MVN      R1,R6
   \   00000128   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   \   0000012C   130000EA           B        ??MyIDLECSM_onMessage_4
   1480          	    }
   1481          	  }
   1482          	  break;
   1483          	case IPC_XTASK_IDLE:
   1484          	  if (MAINCSM_ID) break;
   \                     ??MyIDLECSM_onMessage_8:
   \   00000130   000050E3           CMP      R0,#+0
   \   00000134   1100001A           BNE      ??MyIDLECSM_onMessage_4
   1485          	  if ((!IsCalling())/*&&(!SHOW_LOCK)*/)
   \   00000138   6E0000EF           SWI      +110
   \   0000013C   000050E3           CMP      R0,#+0
   \   00000140   0E00001A           BNE      ??MyIDLECSM_onMessage_4
   1486          	    CSMtoTop(CSM_root()->idle_id,-1);
   \   00000144   068100EF           SWI      +33030
   \   00000148   040090E5           LDR      R0,[R0, #+4]
   \   0000014C   F4FFFFEA           B        ??MyIDLECSM_onMessage_7
   1487          	  break;
   1488          	case IPC_XTASK_LOCK_SHOW:
   1489          	  SHOW_LOCK++;
   \                     ??MyIDLECSM_onMessage_9:
   \   00000150   00009BE5           LDR      R0,[R11, #+0]
   \   00000154   010080E2           ADD      R0,R0,#+1
   \                     ??MyIDLECSM_onMessage_10:
   \   00000158   00008BE5           STR      R0,[R11, #+0]
   \   0000015C   070000EA           B        ??MyIDLECSM_onMessage_4
   1490          	  break;
   1491          	case IPC_XTASK_UNLOCK_SHOW:
   1492          	  if (SHOW_LOCK) SHOW_LOCK--;
   \                     ??MyIDLECSM_onMessage_11:
   \   00000160   00009BE5           LDR      R0,[R11, #+0]
   \   00000164   000050E3           CMP      R0,#+0
   \   00000168   0400000A           BEQ      ??MyIDLECSM_onMessage_4
   \   0000016C   00009BE5           LDR      R0,[R11, #+0]
   \   00000170   010040E2           SUB      R0,R0,#+1
   \   00000174   F7FFFFEA           B        ??MyIDLECSM_onMessage_10
   1493          	  break;
   1494                  case IPC_XTASK_OFFE:
   1495                    ShowMenu(0);
   \                     ??MyIDLECSM_onMessage_12:
   \   00000178   0000A0E3           MOV      R0,#+0
   \   0000017C   ........           BL       ShowMenu
   1496                    break;
   1497          	}
   1498                }
   1499              }
   1500            }
   1501            if (msg->msg==MSG_INCOMMING_CALL)
   \                     ??MyIDLECSM_onMessage_4:
   \   00000180   040098E5           LDR      R0,[R8, #+4]
   \   00000184   600C50E3           CMP      R0,#+24576
   1502            {
   1503              callhide_mode=1;
   \   00000188   0100A003           MOVEQ    R0,#+1
   \   0000018C   00008505           STREQ    R0,[R5, #+0]
   1504            }
   1505            //  #ifdef NEWSGOLD
   1506            //  if ((msg->msg==MSG_STATE_OF_CALL)&&(msg->submess==0)&&((int)msg->data0==3)) callhide_mode=1;
   1507            //  #else
   1508            //if ((msg->msg==MSG_STATE_OF_CALL)&&(msg->submess==0)&&((int)msg->data0==0)) callhide_mode=1;
   1509            //    ?????!!!! ??????!!!
   1510            //  #endif   
   1511            if (callhide_mode)
   \                     ??MyIDLECSM_onMessage_3:
   \   00000190   000095E5           LDR      R0,[R5, #+0]
   \   00000194   000050E3           CMP      R0,#+0
   \   00000198   0C00000A           BEQ      ??MyIDLECSM_onMessage_13
   1512            {
   1513              if ((IsGuiOnTop(icgui_id))/*||(IsGuiOnTop(ocgui_id))*/)
   \   0000019C   0900A0E1           MOV      R0,R9
   \   000001A0   350100EF           SWI      +309
   \   000001A4   000050E3           CMP      R0,#+0
   \   000001A8   0800000A           BEQ      ??MyIDLECSM_onMessage_13
   1514              {
   1515                CSMtoTop(CSM_root()->idle_id,((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id);
   \   000001AC   068100EF           SWI      +33030
   \   000001B0   0070A0E1           MOV      R7,R0
   \   000001B4   068100EF           SWI      +33030
   \   000001B8   081097E5           LDR      R1,[R7, #+8]
   \   000001BC   040090E5           LDR      R0,[R0, #+4]
   \   000001C0   0C1091E5           LDR      R1,[R1, #+12]
   \   000001C4   0C1091E5           LDR      R1,[R1, #+12]
   \   000001C8   ........           _BLF     CSMtoTop,??CSMtoTop??rA
   1516                callhide_mode=0;
   \   000001CC   006085E5           STR      R6,[R5, #+0]
   1517              }
   1518            }
   1519            return csm_result;  
   \                     ??MyIDLECSM_onMessage_13:
   \   000001D0   0400A0E1           MOV      R0,R4
   \   000001D4   F28FBDE8           POP      {R1,R4-R11,PC}   ;; return
   \                     ??MyIDLECSM_onMessage_1:
   \   000001D8   ........           DC32     callhide_mode
   \   000001DC   ........           DC32     `?<Constant "XTask config updated!">`
   \   000001E0   ........           DC32     my_ipc_name
   \   000001E4   ........           DC32     SHOW_LOCK
   1520          }
   1521          

   \                                 In segment CODE, align 4, keep-with-next
   1522          void MyIDLECSM_onClose(CSM_RAM *data)
   1523          {
   \                     MyIDLECSM_onClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1524            extern void seqkill(void *data, void(*next_in_seq)(CSM_RAM *), void *data_to_kill, void *seqkiller);
   1525            extern void *ELF_BEGIN;
   1526            GBS_DelTimer(&start_tmr);
   \   00000008   ........           LDR      R0,??DataTable134  ;; start_tmr
   \   0000000C   8C0100EF           SWI      +396
   1527            RemoveKeybMsgHook((void *)my_keyhook);
   \   00000010   ........           LDR      R0,??DataTable129  ;; my_keyhook
   \   00000014   2D0100EF           SWI      +301
   1528            seqkill(data,old_icsm_onClose,&ELF_BEGIN,SEQKILLER_ADR());
   \   00000018   9C8100EF           SWI      +33180
   \   0000001C   ........           LDR      R2,??DataTable102  ;; ELF_BEGIN
   \   00000020   0030A0E1           MOV      R3,R0
   \   00000024   ........           LDR      R0,??DataTable130  ;; old_icsm_onClose
   \   00000028   001090E5           LDR      R1,[R0, #+0]
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000034   ........           _BF      seqkill,??seqkill??rA  ;; tailcall
   1529          }
   1530          

   \                                 In segment CODE, align 4, keep-with-next
   1531          void load_icon_list()
   1532          {
   \                     load_icon_list:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1533              int fi;
   1534              int fsizei;
   1535              FSTATS stati;
   1536              unsigned int uli;
   1537              GetFileStats(icon_list_path,&stati,&uli);
   \   00000004   8C409FE5           LDR      R4,??load_icon_list_0  ;; icon_list_path
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0D20A0E1           MOV      R2,SP
   \   00000010   04108DE2           ADD      R1,SP,#+4
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   840000EF           SWI      +132
   1538              if(stati.size>0)
   \   0000001C   08009DE5           LDR      R0,[SP, #+8]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   1900000A           BEQ      ??load_icon_list_1
   1539              {
   1540                fi=fopen(icon_list_path,A_ReadOnly+A_BIN,P_READ,&uli);
   \   00000028   0D30A0E1           MOV      R3,SP
   \   0000002C   8020A0E3           MOV      R2,#+128
   \   00000030   801CA0E3           MOV      R1,#+32768
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   0A0000EF           SWI      +10
   1541                fsizei=stati.size;
   \   0000003C   08509DE5           LDR      R5,[SP, #+8]
   \   00000040   0040A0E1           MOV      R4,R0
   1542                char *pi=malloc(fsizei);
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   140000EF           SWI      +20
   \   0000004C   0060A0E1           MOV      R6,R0
   1543                pi[fread(fi,pi,fsizei,&uli)];
   \   00000050   0D30A0E1           MOV      R3,SP
   \   00000054   0520A0E1           MOV      R2,R5
   \   00000058   0610A0E1           MOV      R1,R6
   \   0000005C   0400A0E1           MOV      R0,R4
   \   00000060   0B0000EF           SWI      +11
   1544                fclose(fi,&uli);
   \   00000064   0400A0E1           MOV      R0,R4
   1545                strcpy(icon_text, pi);
   \   00000068   ........           LDR      R4,??DataTable104  ;; icon_text
   \   0000006C   0D10A0E1           MOV      R1,SP
   \   00000070   0D0000EF           SWI      +13
   \   00000074   0610A0E1           MOV      R1,R6
   \   00000078   0400A0E1           MOV      R0,R4
   \   0000007C   1A0000EF           SWI      +26
   1546                icon_text[fsizei]='\0';
   \   00000080   0000A0E3           MOV      R0,#+0
   \   00000084   0400C5E7           STRB     R0,[R5, +R4]
   1547                mfree(pi);
   \   00000088   0600A0E1           MOV      R0,R6
   \   0000008C   150000EF           SWI      +21
   1548              }
   1549          }
   \                     ??load_icon_list_1:
   \   00000090   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   00000094   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??load_icon_list_0:
   \   00000098   ........           DC32     icon_list_path

   \                                 In segment DATA_Z, align 4, align-sorted
   1550          int serti;
   \                     serti:
   \   00000000                      DS8 4
   1551          

   \                                 In segment CODE, align 4, keep-with-next
   1552          void get_bookmark(char *name, char *path, int w, char *search)
   1553          {
   \                     get_bookmark:
   \   00000000   10002DE9           PUSH     {R4}
   1554            int q=0;
   \   00000004   0340D2E7           LDRB     R4,[R2, +R3]
   \   00000008   00C0A0E3           MOV      R12,#+0
   \   0000000C   7C0054E3           CMP      R4,#+124
   \   00000010   0600000A           BEQ      ??get_bookmark_0
   1555            while(search[w]!='|')
   1556            {
   1557              name[q]=search[w];
   \                     ??get_bookmark_1:
   \   00000014   0340D2E7           LDRB     R4,[R2, +R3]
   1558              q++;
   1559              w++;
   \   00000018   012082E2           ADD      R2,R2,#+1
   \   0000001C   0040CCE7           STRB     R4,[R12, +R0]
   1560            }
   \   00000020   0340D2E7           LDRB     R4,[R2, +R3]
   \   00000024   01C08CE2           ADD      R12,R12,#+1
   \   00000028   7C0054E3           CMP      R4,#+124
   \   0000002C   F8FFFF1A           BNE      ??get_bookmark_1
   1561            name[q]='\0';
   \                     ??get_bookmark_0:
   \   00000030   0040A0E3           MOV      R4,#+0
   \   00000034   0040CCE7           STRB     R4,[R12, +R0]
   1562            w++;
   \   00000038   010082E2           ADD      R0,R2,#+1
   1563            q=0;
   \   0000003C   03C0D0E7           LDRB     R12,[R0, +R3]
   \   00000040   0020A0E3           MOV      R2,#+0
   \   00000044   7C005CE3           CMP      R12,#+124
   \   00000048   0600000A           BEQ      ??get_bookmark_2
   1564            while(search[w]!='|')
   1565            {
   1566              path[q]=search[w];
   \                     ??get_bookmark_3:
   \   0000004C   03C0D0E7           LDRB     R12,[R0, +R3]
   1567              q++;
   1568              w++;
   \   00000050   010080E2           ADD      R0,R0,#+1
   \   00000054   01C0C2E7           STRB     R12,[R2, +R1]
   1569            }
   \   00000058   03C0D0E7           LDRB     R12,[R0, +R3]
   \   0000005C   012082E2           ADD      R2,R2,#+1
   \   00000060   7C005CE3           CMP      R12,#+124
   \   00000064   F8FFFF1A           BNE      ??get_bookmark_3
   1570            path[q]='\0';
   \                     ??get_bookmark_2:
   \   00000068   0140C2E7           STRB     R4,[R2, +R1]
   1571            serti=w+3;
   \   0000006C   ........           LDR      R1,??DataTable107  ;; serti
   \   00000070   030080E2           ADD      R0,R0,#+3
   \   00000074   000081E5           STR      R0,[R1, #+0]
   1572            book_show++;
   \   00000078   ........           LDR      R0,??DataTable106  ;; book_show
   \   0000007C   001090E5           LDR      R1,[R0, #+0]
   \   00000080   011081E2           ADD      R1,R1,#+1
   \   00000084   001080E5           STR      R1,[R0, #+0]
   1573          }
   \   00000088   1000BDE8           POP      {R4}
   \   0000008C   1EFF2FE1           BX       LR               ;; return
   1574          

   \                                 In segment CODE, align 4, keep-with-next
   1575          void load_bookmark_list()
   1576          {
   \                     load_bookmark_list:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1577              int f;
   1578              int fsize;
   1579              FSTATS stat;
   1580              unsigned int ul;
   1581              GetFileStats(bokmark_list_path,&stat,&ul);
   \   00000004   9C419FE5           LDR      R4,??load_bookmark_list_0  ;; bokmark_list_path
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0D20A0E1           MOV      R2,SP
   \   00000010   04108DE2           ADD      R1,SP,#+4
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   840000EF           SWI      +132
   1582              if(stat.size>0)
   \   0000001C   08009DE5           LDR      R0,[SP, #+8]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   5D00000A           BEQ      ??load_bookmark_list_1
   1583              {
   1584                f=fopen(bokmark_list_path,A_ReadOnly+A_BIN,P_READ,&ul);
   \   00000028   0D30A0E1           MOV      R3,SP
   \   0000002C   8020A0E3           MOV      R2,#+128
   \   00000030   801CA0E3           MOV      R1,#+32768
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   0A0000EF           SWI      +10
   1585                fsize=stat.size;
   \   0000003C   08609DE5           LDR      R6,[SP, #+8]
   \   00000040   0050A0E1           MOV      R5,R0
   1586                char *p=malloc(fsize);
   \   00000044   0600A0E1           MOV      R0,R6
   \   00000048   140000EF           SWI      +20
   \   0000004C   0040A0E1           MOV      R4,R0
   1587                p[fread(f,p,fsize,&ul)];
   \   00000050   0D30A0E1           MOV      R3,SP
   \   00000054   0620A0E1           MOV      R2,R6
   \   00000058   0410A0E1           MOV      R1,R4
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   0B0000EF           SWI      +11
   1588                fclose(f,&ul);
   \   00000064   0500A0E1           MOV      R0,R5
   1589                serti=0;
   \   00000068   ........           LDR      R5,??DataTable107  ;; serti
   \   0000006C   0D10A0E1           MOV      R1,SP
   \   00000070   0D0000EF           SWI      +13
   \   00000074   0000A0E3           MOV      R0,#+0
   \   00000078   000085E5           STR      R0,[R5, #+0]
   1590                if(serti<fsize-2) get_bookmark(BM1NAME, BM1FILE, serti, p);
   \   0000007C   026046E2           SUB      R6,R6,#+2
   \   00000080   010056E3           CMP      R6,#+1
   \   00000084   040000BA           BLT      ??load_bookmark_list_2
   \   00000088   ........           LDR      R1,??DataTable108  ;; BM1FILE
   \   0000008C   ........           LDR      R0,??DataTable109  ;; BM1NAME
   \   00000090   0430A0E1           MOV      R3,R4
   \   00000094   0020A0E3           MOV      R2,#+0
   \   00000098   ........           BL       get_bookmark
   1591                if(serti<fsize-2) get_bookmark(BM2NAME, BM2FILE, serti, p);
   \                     ??load_bookmark_list_2:
   \   0000009C   002095E5           LDR      R2,[R5, #+0]
   \   000000A0   060052E1           CMP      R2,R6
   \   000000A4   030000AA           BGE      ??load_bookmark_list_3
   \   000000A8   ........           LDR      R1,??DataTable110  ;; BM2FILE
   \   000000AC   ........           LDR      R0,??DataTable111  ;; BM2NAME
   \   000000B0   0430A0E1           MOV      R3,R4
   \   000000B4   ........           BL       get_bookmark
   1592                if(serti<fsize-2) get_bookmark(BM3NAME, BM3FILE, serti, p);
   \                     ??load_bookmark_list_3:
   \   000000B8   002095E5           LDR      R2,[R5, #+0]
   \   000000BC   060052E1           CMP      R2,R6
   \   000000C0   030000AA           BGE      ??load_bookmark_list_4
   \   000000C4   ........           LDR      R1,??DataTable112  ;; BM3FILE
   \   000000C8   ........           LDR      R0,??DataTable113  ;; BM3NAME
   \   000000CC   0430A0E1           MOV      R3,R4
   \   000000D0   ........           BL       get_bookmark
   1593                if(serti<fsize-2) get_bookmark(BM4NAME, BM4FILE, serti, p);
   \                     ??load_bookmark_list_4:
   \   000000D4   002095E5           LDR      R2,[R5, #+0]
   \   000000D8   060052E1           CMP      R2,R6
   \   000000DC   030000AA           BGE      ??load_bookmark_list_5
   \   000000E0   ........           LDR      R1,??DataTable114  ;; BM4FILE
   \   000000E4   ........           LDR      R0,??DataTable115  ;; BM4NAME
   \   000000E8   0430A0E1           MOV      R3,R4
   \   000000EC   ........           BL       get_bookmark
   1594                if(serti<fsize-2) get_bookmark(BM5NAME, BM5FILE, serti, p);
   \                     ??load_bookmark_list_5:
   \   000000F0   002095E5           LDR      R2,[R5, #+0]
   \   000000F4   060052E1           CMP      R2,R6
   \   000000F8   030000AA           BGE      ??load_bookmark_list_6
   \   000000FC   ........           LDR      R1,??DataTable116  ;; BM5FILE
   \   00000100   ........           LDR      R0,??DataTable117  ;; BM5NAME
   \   00000104   0430A0E1           MOV      R3,R4
   \   00000108   ........           BL       get_bookmark
   1595                if(serti<fsize-2) get_bookmark(BM6NAME, BM6FILE, serti, p);
   \                     ??load_bookmark_list_6:
   \   0000010C   002095E5           LDR      R2,[R5, #+0]
   \   00000110   060052E1           CMP      R2,R6
   \   00000114   030000AA           BGE      ??load_bookmark_list_7
   \   00000118   ........           LDR      R1,??DataTable118  ;; BM6FILE
   \   0000011C   ........           LDR      R0,??DataTable119  ;; BM6NAME
   \   00000120   0430A0E1           MOV      R3,R4
   \   00000124   ........           BL       get_bookmark
   1596                if(serti<fsize-2) get_bookmark(BM7NAME, BM7FILE, serti, p);
   \                     ??load_bookmark_list_7:
   \   00000128   002095E5           LDR      R2,[R5, #+0]
   \   0000012C   060052E1           CMP      R2,R6
   \   00000130   030000AA           BGE      ??load_bookmark_list_8
   \   00000134   ........           LDR      R1,??DataTable120  ;; BM7FILE
   \   00000138   ........           LDR      R0,??DataTable121  ;; BM7NAME
   \   0000013C   0430A0E1           MOV      R3,R4
   \   00000140   ........           BL       get_bookmark
   1597                if(serti<fsize-2) get_bookmark(BM8NAME, BM8FILE, serti, p);
   \                     ??load_bookmark_list_8:
   \   00000144   002095E5           LDR      R2,[R5, #+0]
   \   00000148   060052E1           CMP      R2,R6
   \   0000014C   030000AA           BGE      ??load_bookmark_list_9
   \   00000150   ........           LDR      R1,??DataTable122  ;; BM8FILE
   \   00000154   ........           LDR      R0,??DataTable123  ;; BM8NAME
   \   00000158   0430A0E1           MOV      R3,R4
   \   0000015C   ........           BL       get_bookmark
   1598                if(serti<fsize-2) get_bookmark(BM9NAME, BM9FILE, serti, p);
   \                     ??load_bookmark_list_9:
   \   00000160   002095E5           LDR      R2,[R5, #+0]
   \   00000164   060052E1           CMP      R2,R6
   \   00000168   030000AA           BGE      ??load_bookmark_list_10
   \   0000016C   ........           LDR      R1,??DataTable124  ;; BM9FILE
   \   00000170   ........           LDR      R0,??DataTable125  ;; BM9NAME
   \   00000174   0430A0E1           MOV      R3,R4
   \   00000178   ........           BL       get_bookmark
   1599                if(serti<fsize-2) get_bookmark(BM0NAME, BM0FILE, serti, p);
   \                     ??load_bookmark_list_10:
   \   0000017C   002095E5           LDR      R2,[R5, #+0]
   \   00000180   060052E1           CMP      R2,R6
   \   00000184   030000AA           BGE      ??load_bookmark_list_11
   \   00000188   ........           LDR      R1,??DataTable126  ;; BM0FILE
   \   0000018C   ........           LDR      R0,??DataTable127  ;; BM0NAME
   \   00000190   0430A0E1           MOV      R3,R4
   \   00000194   ........           BL       get_bookmark
   1600                mfree(p);
   \                     ??load_bookmark_list_11:
   \   00000198   0400A0E1           MOV      R0,R4
   \   0000019C   150000EF           SWI      +21
   1601              }
   1602          }
   \                     ??load_bookmark_list_1:
   \   000001A0   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   000001A4   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??load_bookmark_list_0:
   \   000001A8   ........           DC32     bokmark_list_path
   1603          

   \                                 In segment CODE, align 4, keep-with-next
   1604          void DoSplices(void)
   1605          {
   1606            extern const int SHOW_DAEMONS;
   1607            extern int show_daemons;
   1608            show_daemons=SHOW_DAEMONS;
   \                     DoSplices:
   \   00000000   ........           LDR      R0,??DataTable128  ;; show_daemons
   \   00000004   14119FE5           LDR      R1,??DoSplices_0  ;; SHOW_DAEMONS
   \   00000008   70402DE9           PUSH     {R4-R6,LR}
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   001091E5           LDR      R1,[R1, #+0]
   \   00000014   001080E5           STR      R1,[R0, #+0]
   1609            LockSched();
   \   00000018   460100EF           SWI      +326
   1610            if (!AddKeybMsgHook_end((void *)my_keyhook))
   \   0000001C   ........           LDR      R0,??DataTable129  ;; my_keyhook
   \   00000020   2C0100EF           SWI      +300
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   0500001A           BNE      ??DoSplices_1
   1611            {
   1612              ShowMSG(1,(int)"Cant Start Elf!");
   \   0000002C   F0109FE5           LDR      R1,??DoSplices_0+0x4  ;; `?<Constant "Cant Start Elf!">`
   \   00000030   0100A0E3           MOV      R0,#+1
   \   00000034   480100EF           SWI      +328
   1613              SUBPROC((void *)ElfKiller);
   \   00000038   E8009FE5           LDR      R0,??DoSplices_0+0x8  ;; ElfKiller
   \   0000003C   710100EF           SWI      +369
   \   00000040   2F0000EA           B        ??DoSplices_2
   1614            }
   1615            else
   1616            {
   1617              {
   1618                CSM_RAM *icsm=FindCSMbyID(CSM_root()->idle_id);
   1619                memcpy(&icsmd,icsm->constr,sizeof(icsmd));
   \                     ??DoSplices_1:
   \   00000044   E0509FE5           LDR      R5,??DoSplices_0+0xC  ;; icsmd
   1620                old_icsm_onClose=icsmd.onClose;
   1621                old_icsm_onMessage=icsmd.onMessage;
   1622                icsmd.onClose=MyIDLECSM_onClose;
   1623                icsmd.onMessage=MyIDLECSM_onMessage;
   1624                icsm->constr=&icsmd;
   1625              }
   1626              load_icon_list();
   1627              load_bookmark_list();
   1628              under_idle=GetUnderIdleCSM(); //???? idle_dialog
   1629              int f;
   1630            int sz=0;
   1631            unsigned int ul;
   1632            extern const char csmlist_fname[128];
   1633            extern char csm_text[2768];
   1634            if ((f=fopen(csmlist_fname,A_ReadOnly+A_BIN,P_READ,&ul))!=-1)
   \   00000048   E0609FE5           LDR      R6,??DoSplices_0+0x10  ;; csm_text
   \   0000004C   068100EF           SWI      +33030
   \   00000050   040090E5           LDR      R0,[R0, #+4]
   \   00000054   080100EF           SWI      +264
   \   00000058   0040A0E1           MOV      R4,R0
   \   0000005C   081094E5           LDR      R1,[R4, #+8]
   \   00000060   2820A0E3           MOV      R2,#+40
   \   00000064   0500A0E1           MOV      R0,R5
   \   00000068   1E0100EF           SWI      +286
   \   0000006C   ........           LDR      R0,??DataTable130  ;; old_icsm_onClose
   \   00000070   181095E5           LDR      R1,[R5, #+24]
   \   00000074   001080E5           STR      R1,[R0, #+0]
   \   00000078   ........           LDR      R0,??DataTable131  ;; old_icsm_onMessage
   \   0000007C   001095E5           LDR      R1,[R5, #+0]
   \   00000080   001080E5           STR      R1,[R0, #+0]
   \   00000084   A8009FE5           LDR      R0,??DoSplices_0+0x14  ;; MyIDLECSM_onClose
   \   00000088   180085E5           STR      R0,[R5, #+24]
   \   0000008C   A4009FE5           LDR      R0,??DoSplices_0+0x18  ;; MyIDLECSM_onMessage
   \   00000090   000085E5           STR      R0,[R5, #+0]
   \   00000094   085084E5           STR      R5,[R4, #+8]
   \   00000098   ........           BL       load_icon_list
   \   0000009C   ........           BL       load_bookmark_list
   \   000000A0   ........           BL       GetUnderIdleCSM
   \   000000A4   90109FE5           LDR      R1,??DoSplices_0+0x1C  ;; under_idle
   \   000000A8   0040A0E3           MOV      R4,#+0
   \   000000AC   000081E5           STR      R0,[R1, #+0]
   \   000000B0   88009FE5           LDR      R0,??DoSplices_0+0x20  ;; csmlist_fname
   \   000000B4   0D30A0E1           MOV      R3,SP
   \   000000B8   8020A0E3           MOV      R2,#+128
   \   000000BC   801CA0E3           MOV      R1,#+32768
   \   000000C0   0A0000EF           SWI      +10
   \   000000C4   0050A0E1           MOV      R5,R0
   \   000000C8   010075E3           CMN      R5,#+1
   \   000000CC   0A00000A           BEQ      ??DoSplices_3
   1635            {
   1636              sz=fread(f,csm_text,2767,&ul);
   \   000000D0   0D30A0E1           MOV      R3,SP
   \   000000D4   CF20A0E3           MOV      R2,#+207
   \   000000D8   A02E82E3           ORR      R2,R2,#0xA00
   \   000000DC   0610A0E1           MOV      R1,R6
   \   000000E0   0B0000EF           SWI      +11
   \   000000E4   0040A0E1           MOV      R4,R0
   1637              fclose(f,&ul);
   \   000000E8   0D10A0E1           MOV      R1,SP
   \   000000EC   0500A0E1           MOV      R0,R5
   \   000000F0   0D0000EF           SWI      +13
   1638            }
   1639            if (sz>=0) csm_text[sz]=0;
   \   000000F4   000054E3           CMP      R4,#+0
   \   000000F8   0100004A           BMI      ??DoSplices_2
   \                     ??DoSplices_3:
   \   000000FC   0000A0E3           MOV      R0,#+0
   \   00000100   0600C4E7           STRB     R0,[R4, +R6]
   1640            
   1641            }
   1642            GBS_StartTimerProc(&start_tmr, 216*5, load_reboot_list);
   \                     ??DoSplices_2:
   \   00000104   38209FE5           LDR      R2,??DoSplices_0+0x24  ;; load_reboot_list
   \   00000108   ........           LDR      R0,??DataTable134  ;; start_tmr
   \   0000010C   3810A0E3           MOV      R1,#+56
   \   00000110   401E81E3           ORR      R1,R1,#0x400
   \   00000114   4D0000EF           SWI      +77
   1643            UnlockSched();
   \   00000118   470100EF           SWI      +327
   1644          }
   \   0000011C   7180BDE8           POP      {R0,R4-R6,PC}    ;; return
   \                     ??DoSplices_0:
   \   00000120   ........           DC32     SHOW_DAEMONS
   \   00000124   ........           DC32     `?<Constant "Cant Start Elf!">`
   \   00000128   ........           DC32     ElfKiller
   \   0000012C   ........           DC32     icsmd
   \   00000130   ........           DC32     csm_text
   \   00000134   ........           DC32     MyIDLECSM_onClose
   \   00000138   ........           DC32     MyIDLECSM_onMessage
   \   0000013C   ........           DC32     under_idle
   \   00000140   ........           DC32     csmlist_fname
   \   00000144   ........           DC32     load_reboot_list
   1645            

   \                                 In segment CODE, align 4, keep-with-next
   1646          void main(void)
   1647          {
   \                     main:
   \   00000000   00402DE9           PUSH     {LR}
   1648            if(ScreenW()>140)
   \   00000004   888100EF           SWI      +33160
   \   00000008   8D0050E3           CMP      R0,#+141
   \   0000000C   030000BA           BLT      ??main_0
   1649            {
   1650              ShowMSG(1,(int)"wrong display");
   \   00000010   48109FE5           LDR      R1,??main_1      ;; `?<Constant "wrong display">`
   \   00000014   0100A0E3           MOV      R0,#+1
   \   00000018   480100EF           SWI      +328
   \   0000001C   0080BDE8           POP      {PC}
   1651            }
   1652            else
   1653            {
   1654            mode=0;
   \                     ??main_0:
   \   00000020   ........           LDR      R0,??DataTable133  ;; mode
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   001080E5           STR      R1,[R0, #+0]
   1655            if (InitConfig()!=2) GBS_StartTimerProc(&start_tmr,TMR_SECOND(60),DoSplices);
   \   0000002C   ........           _BLF     InitConfig,??InitConfig??rA
   \   00000030   020050E3           CMP      R0,#+2
   \   00000034   0600000A           BEQ      ??main_2
   \   00000038   24209FE5           LDR      R2,??main_1+0x4  ;; DoSplices
   \   0000003C   ........           LDR      R0,??DataTable134  ;; start_tmr
   \   00000040   C810A0E3           MOV      R1,#+200
   \   00000044   C81D81E3           ORR      R1,R1,#0x3200
   \   00000048   4D0000EF           SWI      +77
   \   0000004C   0040BDE8           POP      {LR}             ;; Pop
   \   00000050   ........           B        init_turnoff     ;; tailcall
   1656            else DoSplices();
   \                     ??main_2:
   \   00000054   ........           BL       DoSplices
   1657            init_turnoff();
   \   00000058   0040BDE8           POP      {LR}             ;; Pop
   \   0000005C   ........           B        init_turnoff     ;; tailcall
   \                     ??main_1:
   \   00000060   ........           DC32     `?<Constant "wrong display">`
   \   00000064   ........           DC32     DoSplices
   1658            }
   1659          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   ........           DC32     shutdown1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32     reboot1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   ........           DC32     BM1FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   ........           DC32     BM2FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   ........           DC32     BM3FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   ........           DC32     BM4FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   ........           DC32     BM5FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable8:
   \   00000000   ........           DC32     BM6FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable9:
   \   00000000   ........           DC32     BM7FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable10:
   \   00000000   ........           DC32     BM8FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   ........           DC32     BM9FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable12:
   \   00000000   ........           DC32     BM0FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   ........           DC32     data4

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable15:
   \   00000000   ........           DC32     ctasks

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable18:
   \   00000000   ........           DC32     shutdown2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable19:
   \   00000000   ........           DC32     screen2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable20:
   \   00000000   ........           DC32     background_img

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable21:
   \   00000000   ........           DC32     total_d

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable22:
   \   00000000   ........           DC32     draw_rec

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable23:
   \   00000000   ........           DC32     nltop

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable24:
   \   00000000   ........           DC32     shutd

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable25:
   \   00000000   ........           DC32     start_tmr

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable26:
   \   00000000   ........           DC32     icon_text

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable28:
   \   00000000   ........           DC32     book_show

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   ........           DC32     BM1NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable30:
   \   00000000   ........           DC32     BM2NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable31:
   \   00000000   ........           DC32     BM3NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable32:
   \   00000000   ........           DC32     BM4NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable33:
   \   00000000   ........           DC32     BM5NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable34:
   \   00000000   ........           DC32     BM6NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable35:
   \   00000000   ........           DC32     BM7NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable36:
   \   00000000   ........           DC32     BM8NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable37:
   \   00000000   ........           DC32     BM9NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable38:
   \   00000000   ........           DC32     BM0NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable40:
   \   00000000   ........           DC32     shutdown2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable42:
   \   00000000   ........           DC32     shutdown1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable43:
   \   00000000   ........           DC32     reboot1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable44:
   \   00000000   ........           DC32     time_not

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable51:
   \   00000000   ........           DC32     book_show

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable63:
   \   00000000   ........           DC32     nltop

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable66:
   \   00000000   ........           DC32     redrit

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable68:
   \   00000000   ........           DC32     start_tmr

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable77:
   \   00000000   ........           DC32     data4

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable78:
   \   00000000   ........           DC32     show_daemons

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable83:
   \   00000000   ........           DC32     total_d

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable84:
   \   00000000   ........           DC32     move_skip

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable85:
   \   00000000   ........           DC32     pos

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable86:
   \   00000000   ........           DC32     total_pos

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable87:
   \   00000000   ........           DC32     time_not

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable88:
   \   00000000   ........           DC32     sm

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable89:
   \   00000000   ........           DC32     forward

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable90:
   \   00000000   ........           DC32     shutd

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable91:
   \   00000000   ........           DC32     lock_other

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable94:
   \   00000000   ........           DC32     task_list

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable96:
   \   00000000   ........           DC32     MAINCSM_ID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable98:
   \   00000000   ........           DC32     successed_config_filename

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable99:
   \   00000000   ........           DC32     MAINCSM_ID

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable102:
   \   00000000   ........           DC32     ELF_BEGIN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable104:
   \   00000000   ........           DC32     icon_text

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable106:
   \   00000000   ........           DC32     book_show

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable107:
   \   00000000   ........           DC32     serti

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable108:
   \   00000000   ........           DC32     BM1FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable109:
   \   00000000   ........           DC32     BM1NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable110:
   \   00000000   ........           DC32     BM2FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable111:
   \   00000000   ........           DC32     BM2NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable112:
   \   00000000   ........           DC32     BM3FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable113:
   \   00000000   ........           DC32     BM3NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable114:
   \   00000000   ........           DC32     BM4FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable115:
   \   00000000   ........           DC32     BM4NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable116:
   \   00000000   ........           DC32     BM5FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable117:
   \   00000000   ........           DC32     BM5NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable118:
   \   00000000   ........           DC32     BM6FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable119:
   \   00000000   ........           DC32     BM6NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable120:
   \   00000000   ........           DC32     BM7FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable121:
   \   00000000   ........           DC32     BM7NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable122:
   \   00000000   ........           DC32     BM8FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable123:
   \   00000000   ........           DC32     BM8NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable124:
   \   00000000   ........           DC32     BM9FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable125:
   \   00000000   ........           DC32     BM9NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable126:
   \   00000000   ........           DC32     BM0FILE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable127:
   \   00000000   ........           DC32     BM0NAME

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable128:
   \   00000000   ........           DC32     show_daemons

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable129:
   \   00000000   ........           DC32     my_keyhook

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable130:
   \   00000000   ........           DC32     old_icsm_onClose

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable131:
   \   00000000   ........           DC32     old_icsm_onMessage

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable133:
   \   00000000   ........           DC32     mode

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable134:
   \   00000000   ........           DC32     start_tmr

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for time_not>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for screen2>`:
   \   00000000   00000000           DC16 0, 0
   \   00000004   08000000....       DC32 8, `?<Constant "">`
   \              ....        

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for task_list>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for pos>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for total_pos>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for init_rec>`:
   \   00000000   01000000           DC32 1

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%s%s">`:
   \   00000000   2573257300         DC8 "%s%s"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   25642500           DC8 "%d%"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Ram:%dKb">`:
   \   00000000   52616D3A2564       DC8 "Ram:%dKb"
   \              4B6200      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "T:%d">`:
   \   00000000   543A256400         DC8 "T:%d"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Tasks:%d">`:
   \   00000000   5461736B733A       DC8 "Tasks:%d"
   \              256400      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \                     `?<Constant "||">`:
   \   00000000   7C7C00             DC8 "||"

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   4D433A00           DC8 "MC:"

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   4D4300             DC8 "MC"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "SieJC">`:
   \   00000000   5369654A4300       DC8 "SieJC"
   \   00000006   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "NATICQ">`:
   \   00000000   4E4154494351       DC8 "NATICQ"
   \              00          
   \   00000007   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Restarting......">`:
   \   00000000   526573746172       DC8 "Restarting......"
   \              74696E672E2E
   \              2E2E2E2E00  
   \   00000011   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   424D3A00           DC8 "BM:"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "[OK]">`:
   \   00000000   5B4F4B5D00         DC8 "[OK]"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Closing...">`:
   \   00000000   436C6F73696E       DC8 "Closing..."
   \              672E2E2E00  
   \   0000000B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "0:\\\\system\\\\data.bin">`:
   \   00000000   303A5C737973       DC8 "0:\\system\\data.bin"
   \              74656D5C6461
   \              74612E62696E
   \              00          
   \   00000013   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   25737C00           DC8 "%s|"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "reboot1.png">`:
   \   00000000   7265626F6F74       DC8 "reboot1.png"
   \              312E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "shutdown_logo.png">`:
   \   00000000   73687574646F       DC8 "shutdown_logo.png"
   \              776E5F6C6F67
   \              6F2E706E6700
   \   00000012   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "shutdown1.png">`:
   \   00000000   73687574646F       DC8 "shutdown1.png"
   \              776E312E706E
   \              6700        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Shut down......">`:
   \   00000000   536875742064       DC8 "Shut down......"
   \              6F776E2E2E2E
   \              2E2E2E00    

   \                                 In segment DATA_C, align 1, align-sorted
   \                     `?<Constant "">`:
   \   00000000   00                 DC8 ""

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "wrong display">`:
   \   00000000   77726F6E6720       DC8 "wrong display"
   \              646973706C61
   \              7900        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Cant Start Elf!">`:
   \   00000000   43616E742053       DC8 "Cant Start Elf!"
   \              746172742045
   \              6C662100    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "XTask config updated!">`:
   \   00000000   585461736B20       DC8 "XTask config updated!"
   \              636F6E666967
   \              207570646174
   \              65642100    
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%08X">`:
   \   00000000   2530385800         DC8 "%08X"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "xtask 3 mod">`:
   \   00000000   787461736B20       DC8 "xtask 3 mod"
   \              33206D6F6400

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%02d:%02d:%02d">`:
   \   00000000   253032643A25       DC8 "%02d:%02d:%02d"
   \              3032643A2530
   \              326400      
   \   0000000F   00                 DC8 0

   Maximum stack usage in bytes:

     Function            CSTACK
     --------            ------
     DoScreen2              20
     DoSplices              20
     DrawProgress           72
     DrwImg3                64
     ElfKiller               4
     GetUnderIdleCSM        12
     MyIDLECSM_onClose       8
     MyIDLECSM_onMessage    40
     OnKey                  32
     OnRedraw              124
     SaveRebootList        140
     SearchIcon            288
     ShowMenu               68
     Start_bookmark          8
     UpdateCSMname           8
     get_bookmark            4
     init_turnoff           12
     load_bookmark_list     60
     load_icon_list         60
     main                    4
     maincsm_onclose         0
     maincsm_oncreate       20
     maincsm_onmessage       0
     method8                 0
     method9                 0
     my_keyhook             40
     onClose                 8
     onCreate                0
     onFocus                 0
     onUnfocus               0
     redrit                  4
     strcmp_nocase           0
     task_list3             24


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     shutdown1                        128
     shutdown2                        128
     reboot1                          128
     reboot2                          128
     book_show                          4
     time_not                           4
     start_tmr                         16
     lock_other                         4
     init_turnoff                      96
     BM1NAME                           32
     BM1FILE                          128
     BM2NAME                           32
     BM2FILE                          128
     BM3NAME                           32
     BM3FILE                          128
     BM4NAME                           32
     BM4FILE                          128
     BM5NAME                           32
     BM5FILE                          128
     BM6NAME                           32
     BM6FILE                          128
     BM7NAME                           32
     BM7FILE                          128
     BM8NAME                           32
     BM8FILE                          128
     BM9NAME                           32
     BM9FILE                          128
     BM0NAME                           32
     BM0FILE                          128
     Start_bookmark                   264
     screen2                           12
     tasks                              4
     icon_text                      32768
     task_list                          4
     DrwImg3                           92
     DoScreen2                         76
     minus11                            4
     maincsm_name_body                280
     MAINCSM_ID                         4
     pos                                4
     total_pos                          4
     total_d                            4
     move_skip                          4
     sm                                 4
     forward                            4
     halt                               4
     shutd                              4
     logout                             4
     data4                              4
     data5                              4
     draw_rec                           4
     this_rec                           4
     SaveRebootList                   136
     DrawProgress                     536
     zin                                4
     init_rec                           4
     task_list3                       336
     SearchIcon                       368
     refresh                            4
     OnRedraw                        4656
     onCreate                          12
     onClose                           48
     onFocus                           12
     onUnfocus                         20
     closing                            4
     show_daemons                       4
     redrit                            12
     OnKey                           1704
     ElfKiller                         24
     method8                            8
     method9                            8
     gui_methods                       44
     Canvas                             8
     maincsm_oncreate                 132
     maincsm_onclose                    4
     maincsm_onmessage                 64
     MAINCSM                           60
     UpdateCSMname                     48
     GetUnderIdleCSM                  156
     SHOW_LOCK                          4
     icsmd                             40
     old_icsm_onMessage                 4
     old_icsm_onClose                   4
     under_idle                         4
     mode                               4
     mode_red                           4
     mode_enter                         4
     ShowMenu                         208
     my_keyhook                      1060
     callhide_mode                      4
     ??strcmp_nocase_0                 76
     my_ipc_name                        8
     MyIDLECSM_onMessage              488
     MyIDLECSM_onClose                 56
     load_icon_list                   156
     serti                              4
     get_bookmark                     144
     load_bookmark_list               428
     DoSplices                        328
     main                             104
     ??DataTable0                       4
     ??DataTable2                       4
     ??DataTable3                       4
     ??DataTable4                       4
     ??DataTable5                       4
     ??DataTable6                       4
     ??DataTable7                       4
     ??DataTable8                       4
     ??DataTable9                       4
     ??DataTable10                      4
     ??DataTable11                      4
     ??DataTable12                      4
     ??DataTable14                      4
     ??DataTable15                      4
     ??DataTable18                      4
     ??DataTable19                      4
     ??DataTable20                      4
     ??DataTable21                      4
     ??DataTable22                      4
     ??DataTable23                      4
     ??DataTable24                      4
     ??DataTable25                      4
     ??DataTable26                      4
     ??DataTable28                      4
     ??DataTable29                      4
     ??DataTable30                      4
     ??DataTable31                      4
     ??DataTable32                      4
     ??DataTable33                      4
     ??DataTable34                      4
     ??DataTable35                      4
     ??DataTable36                      4
     ??DataTable37                      4
     ??DataTable38                      4
     ??DataTable40                      4
     ??DataTable42                      4
     ??DataTable43                      4
     ??DataTable44                      4
     ??DataTable51                      4
     ??DataTable63                      4
     ??DataTable66                      4
     ??DataTable68                      4
     ??DataTable77                      4
     ??DataTable78                      4
     ??DataTable83                      4
     ??DataTable84                      4
     ??DataTable85                      4
     ??DataTable86                      4
     ??DataTable87                      4
     ??DataTable88                      4
     ??DataTable89                      4
     ??DataTable90                      4
     ??DataTable91                      4
     ??DataTable94                      4
     ??DataTable96                      4
     ??DataTable98                      4
     ??DataTable99                      4
     ??DataTable102                     4
     ??DataTable104                     4
     ??DataTable106                     4
     ??DataTable107                     4
     ??DataTable108                     4
     ??DataTable109                     4
     ??DataTable110                     4
     ??DataTable111                     4
     ??DataTable112                     4
     ??DataTable113                     4
     ??DataTable114                     4
     ??DataTable115                     4
     ??DataTable116                     4
     ??DataTable117                     4
     ??DataTable118                     4
     ??DataTable119                     4
     ??DataTable120                     4
     ??DataTable121                     4
     ??DataTable122                     4
     ??DataTable123                     4
     ??DataTable124                     4
     ??DataTable125                     4
     ??DataTable126                     4
     ??DataTable127                     4
     ??DataTable128                     4
     ??DataTable129                     4
     ??DataTable130                     4
     ??DataTable131                     4
     ??DataTable133                     4
     ??DataTable134                     4
     ?<Initializer for time_not>        4
     ?<Initializer for screen2>        12
     ?<Initializer for task_list>       4
     ?<Initializer for pos>             4
     ?<Initializer for total_pos>       4
     ?<Initializer for init_rec>        4
     ?<Constant "%s%s">                 8
     ?<Constant "%d%">                  4
     ?<Constant "Ram:%dKb">            12
     ?<Constant "T:%d">                 8
     ?<Constant "Tasks:%d">            12
     ?<Constant "||">                   3
     ?<Constant "MC:">                  4
     ?<Constant "MC">                   3
     ?<Constant "SieJC">                8
     ?<Constant "NATICQ">               8
     ?<Constant "Restarting......">    20
     ?<Constant "BM:">                  4
     ?<Constant "[OK]">                 8
     ?<Constant "Closing...">          12
     ?<Constant "0:\\system\\data.bin">
                                       20
     ?<Constant "%s|">                  4
     ?<Constant "reboot1.png">         12
     ?<Constant "shutdown_logo.png">
                                       20
     ?<Constant "shutdown1.png">       16
     ?<Constant "Shut down......">     16
     ?<Constant "">                     1
     ?<Constant "wrong display">       16
     ?<Constant "Cant Start Elf!">     16
     ?<Constant "XTask config updated!">
                                       24
     ?<Constant "%08X">                 8
     ?<Constant "xtask 3 mod">         12
     ?<Constant "%02d:%02d:%02d">      16
      Others                          276

 
 12 460 bytes in segment CODE
    419 bytes in segment DATA_C
     32 bytes in segment DATA_I
     32 bytes in segment DATA_ID
 35 328 bytes in segment DATA_Z
     24 bytes in segment INITTAB
 
 12 208 bytes of CODE  memory (+ 276 bytes shared)
    451 bytes of CONST memory
 35 360 bytes of DATA  memory

Errors: none
Warnings: none
