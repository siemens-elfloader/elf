//////////////////////////////////////////////////////////////////////////////
//                                                                           /
// IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION   09/Mar/2011  21:52:44 /
// Copyright 1999-2005 IAR Systems. All rights reserved.                     /
//                                                                           /
//    Cpu mode        =  interwork                                           /
//    Endian          =  little                                              /
//    Stack alignment =  4                                                   /
//    Source file     =  C:\arm\miosd_src\main.c                             /
//    Command line    =  C:\arm\miosd_src\main.c -D NEWSGOLD -D ELKA -lC     /
//                       C:\arm\miosd_src\Release_ELKA\List\ -lA             /
//                       C:\arm\miosd_src\Release_ELKA\List\ -o              /
//                       C:\arm\miosd_src\Release_ELKA\Obj\ -s9 --no_unroll  /
//                       --cpu_mode arm --endian little --cpu ARM926EJ-S     /
//                       --stack_align 4 --interwork -e --fpu None           /
//                       --dlib_config "C:\arm2\Embedded Workbench 4.0       /
//                       Evaluation\ARM\LIB\dl5tpainl8n.h" -I                /
//                       "C:\arm2\Embedded Workbench 4.0                     /
//                       Evaluation\ARM\INC\" --inline_threshold=2           /
//    List file       =  C:\arm\miosd_src\Release_ELKA\List\main.s79         /
//                                                                           /
//                                                                           /
//////////////////////////////////////////////////////////////////////////////

        NAME main

        RTMODEL "StackAlign4", "USED"
        RTMODEL "__cpu_mode", "__pcs__interwork"
        RTMODEL "__data_model", "absolute"
        RTMODEL "__endian", "little"
        RTMODEL "__rt_version", "6"

        RSEG CSTACK:DATA:NOROOT(2)

        PUBWEAK `?*?DATA_ID`
        MULTWEAK ??Count_GPRS??rT
??DataTable1 EQU 0
??DataTable10 EQU 0
??DataTable11 EQU 0
??DataTable12 EQU 0
??DataTable13 EQU 0
??DataTable14 EQU 0
??DataTable16 EQU 0
??DataTable18 EQU 0
??DataTable19 EQU 0
??DataTable2 EQU 0
??DataTable20 EQU 0
??DataTable21 EQU 0
??DataTable24 EQU 0
??DataTable26 EQU 0
??DataTable29 EQU 0
??DataTable3 EQU 0
??DataTable30 EQU 0
??DataTable31 EQU 0
??DataTable32 EQU 0
??DataTable33 EQU 0
??DataTable35 EQU 0
??DataTable36 EQU 0
??DataTable37 EQU 0
??DataTable4 EQU 0
??DataTable40 EQU 0
??DataTable42 EQU 0
??DataTable43 EQU 0
??DataTable46 EQU 0
??DataTable5 EQU 0
??DataTable6 EQU 0
??DataTable7 EQU 0
??DataTable8 EQU 0
??DataTable9 EQU 0
        MULTWEAK ??DoScreen??rT
        MULTWEAK ??DoShowIt??rT
        MULTWEAK ??DrawAppLog??rT
        MULTWEAK ??DrawBatteryLog??rT
        MULTWEAK ??DrawGPRSLog??rT
        MULTWEAK ??DrawNaticqLog??rT
        MULTWEAK ??DrawSystemLog??rT
        MULTWEAK ??DrwImg??rT
        MULTWEAK ??Execute??rT
        MULTWEAK ??InitConfig??rA
        MULTWEAK ??MyIDLECSM_onClose??rT
        MULTWEAK ??MyIDLECSM_onMessage??rT
        MULTWEAK ??RedrawScreen??rT
        MULTWEAK ??UpdateCSMname??rT
        MULTWEAK ??ascii2ws??rA
        MULTWEAK ??charger_c??rT
        MULTWEAK ??check_battery??rT
        MULTWEAK ??check_gprs??rT
        MULTWEAK ??get_month??rT
        MULTWEAK ??kill_data??rA
        MULTWEAK ??main??rT
        MULTWEAK ??maincsm_onmessage??rT
        MULTWEAK ??my_keyhook??rT
        MULTWEAK ??process_missed??rA
        MULTWEAK ??reboot_ref??rT
        MULTWEAK ??runtime_count??rT
        MULTWEAK ??seqkill??rA
        MULTWEAK ??strcmp_nocase??rA
        MULTWEAK ??write_log??rT
        MULTWEAK ??write_total??rA
        PUBWEAK ?init?tab?DATA_I
        PUBWEAK ?init?tab?DATA_Z
        PUBLIC Count_GPRS
        FUNCTION Count_GPRS,0601H
        LOCFRAME CSTACK, 12, STACK
        PUBLIC DoScreen
        FUNCTION DoScreen,0201H
        LOCFRAME CSTACK, 20, STACK
        PUBLIC DoShowIt
        FUNCTION DoShowIt,0601H
        LOCFRAME CSTACK, 36, STACK
        PUBLIC DrawAppLog
        FUNCTION DrawAppLog,0201H
        LOCFRAME CSTACK, 48, STACK
        PUBLIC DrawBatteryLog
        FUNCTION DrawBatteryLog,0201H
        LOCFRAME CSTACK, 72, STACK
        PUBLIC DrawGPRSLog
        FUNCTION DrawGPRSLog,0201H
        LOCFRAME CSTACK, 80, STACK
        PUBLIC DrawNaticqLog
        FUNCTION DrawNaticqLog,0201H
        LOCFRAME CSTACK, 72, STACK
        PUBLIC DrawSystemLog
        FUNCTION DrawSystemLog,0201H
        LOCFRAME CSTACK, 96, STACK
        PUBLIC DrwImg
        FUNCTION DrwImg,0203H
        LOCFRAME CSTACK, 64, STACK
        PUBLIC Execute
        FUNCTION Execute,0201H
        LOCFRAME CSTACK, 4, STACK
        FUNCTION Killer,0603H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC MyIDLECSM_onClose
        FUNCTION MyIDLECSM_onClose,0603H
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MyIDLECSM_onMessage
        FUNCTION MyIDLECSM_onMessage,0603H
        LOCFRAME CSTACK, 164, STACK
        PUBLIC RedrawScreen
        FUNCTION RedrawScreen,0201H
        LOCFRAME CSTACK, 60, STACK
        PUBLIC UpdateCSMname
        FUNCTION UpdateCSMname,0203H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC app_pos
        PUBLIC charge_m
        PUBLIC charge_s
        PUBLIC charger
        PUBLIC charger_c
        FUNCTION charger_c,0601H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC check_battery
        FUNCTION check_battery,0201H
        LOCFRAME CSTACK, 60, STACK
        PUBLIC check_gprs
        FUNCTION check_gprs,0201H
        LOCFRAME CSTACK, 64, STACK
        PUBLIC chinfo
        PUBLIC con
        PUBLIC do_st
        PUBLIC ffq
        PUBLIC first_con
        PUBLIC g_hour
        PUBLIC g_min
        PUBLIC g_sec
        PUBLIC get_month
        FUNCTION get_month,0201H
        LOCFRAME CSTACK, 24, STACK
        PUBLIC ggg
        PUBLIC gipi
        PUBLIC gpinfo
        PUBLIC hmm
        PUBLIC icsmd
        PUBLIC ipc_my_name
        PUBLIC isfile
        PUBLIC ker_state
        PUBLIC key_mode
        PUBLIC lock_keys
        PUBLIC main
        FUNCTION main,0a01H
        LOCFRAME CSTACK, 52, STACK
        FUNCTION maincsm_onclose,0603H
        LOCFRAME CSTACK, 8, STACK
        FUNCTION maincsm_oncreate,0603H
        PUBLIC maincsm_onmessage
        FUNCTION maincsm_onmessage,0603H
        PUBLIC minus11
        PUBLIC mode
        PUBLIC mode_enter
        PUBLIC month
        PUBLIC monthc
        PUBLIC my_keyhook
        FUNCTION my_keyhook,0603H
        LOCFRAME CSTACK, 28, STACK
        PUBLIC mytmr
        PUBLIC mytmr2
        PUBLIC naticq_ping
        PUBLIC naticq_plugin
        PUBLIC naticq_time
        PUBLIC old_icsm_onClose
        PUBLIC old_icsm_onMessage
        PUBLIC phase
        PUBLIC pos
        PUBLIC pos_link2_x
        PUBLIC pos_link2_y
        PUBLIC pos_link_x
        PUBLIC pos_link_y
        PUBLIC pos_main_x
        PUBLIC pos_main_y
        PUBLIC pos_msg_x
        PUBLIC pos_msg_y
        PUBLIC r_h
        PUBLIC r_m
        PUBLIC r_s
        PUBLIC reboot_ref
        FUNCTION reboot_ref,0601H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC rem_mis
        PUBLIC rs_tmr
        PUBLIC runtime_count
        FUNCTION runtime_count,0601H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC screen
        PUBLIC start_g2
        PUBLIC start_traffic
        PUBLIC switch_gprs_info
        PUBLIC trafiks
        PUBLIC under_idle
        PUBLIC write_log
        FUNCTION write_log,0603H
        LOCFRAME CSTACK, 44, STACK
        
        CFI Names cfiNames0
        CFI StackFrame CFA R13 HUGEDATA
        CFI Resource R0:32, R1:32, R2:32, R3:32, R4:32, R5:32, R6:32, R7:32
        CFI Resource R8:32, R9:32, R10:32, R11:32, R12:32, CPSR:32, R13:32
        CFI Resource R14:32, SPSR:32
        CFI VirtualResource ?RET:32
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 2
        CFI DataAlign 4
        CFI ReturnAddress ?RET CODE
        CFI CFA R13+0
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI R8 SameValue
        CFI R9 SameValue
        CFI R10 SameValue
        CFI R11 SameValue
        CFI R12 Undefined
        CFI CPSR SameValue
        CFI R14 Undefined
        CFI SPSR SameValue
        CFI ?RET R14
        CFI EndCommon cfiCommon0
        
        
        CFI Common cfiCommon1 Using cfiNames0
        CFI CodeAlign 4
        CFI DataAlign 4
        CFI ReturnAddress ?RET CODE
        CFI CFA R13+0
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI R8 SameValue
        CFI R9 SameValue
        CFI R10 SameValue
        CFI R11 SameValue
        CFI R12 Undefined
        CFI CPSR SameValue
        CFI R14 Undefined
        CFI SPSR SameValue
        CFI ?RET R14
        CFI EndCommon cfiCommon1
        
InitConfig          SYMBOL "InitConfig"
ascii2ws            SYMBOL "ascii2ws"
kill_data           SYMBOL "kill_data"
process_missed      SYMBOL "process_missed"
seqkill             SYMBOL "seqkill"
strcmp_nocase       SYMBOL "strcmp_nocase"
write_total         SYMBOL "write_total"
Count_GPRS          SYMBOL "Count_GPRS"
??Count_GPRS??rT    SYMBOL "??rT", Count_GPRS
DoScreen            SYMBOL "DoScreen"
??DoScreen??rT      SYMBOL "??rT", DoScreen
DoShowIt            SYMBOL "DoShowIt"
??DoShowIt??rT      SYMBOL "??rT", DoShowIt
DrawAppLog          SYMBOL "DrawAppLog"
??DrawAppLog??rT    SYMBOL "??rT", DrawAppLog
DrawBatteryLog      SYMBOL "DrawBatteryLog"
??DrawBatteryLog??rT SYMBOL "??rT", DrawBatteryLog
DrawGPRSLog         SYMBOL "DrawGPRSLog"
??DrawGPRSLog??rT   SYMBOL "??rT", DrawGPRSLog
DrawNaticqLog       SYMBOL "DrawNaticqLog"
??DrawNaticqLog??rT SYMBOL "??rT", DrawNaticqLog
DrawSystemLog       SYMBOL "DrawSystemLog"
??DrawSystemLog??rT SYMBOL "??rT", DrawSystemLog
DrwImg              SYMBOL "DrwImg"
??DrwImg??rT        SYMBOL "??rT", DrwImg
Execute             SYMBOL "Execute"
??Execute??rT       SYMBOL "??rT", Execute
??InitConfig??rA    SYMBOL "??rA", InitConfig
MyIDLECSM_onClose   SYMBOL "MyIDLECSM_onClose"
??MyIDLECSM_onClose??rT SYMBOL "??rT", MyIDLECSM_onClose
MyIDLECSM_onMessage SYMBOL "MyIDLECSM_onMessage"
??MyIDLECSM_onMessage??rT SYMBOL "??rT", MyIDLECSM_onMessage
RedrawScreen        SYMBOL "RedrawScreen"
??RedrawScreen??rT  SYMBOL "??rT", RedrawScreen
UpdateCSMname       SYMBOL "UpdateCSMname"
??UpdateCSMname??rT SYMBOL "??rT", UpdateCSMname
??ascii2ws??rA      SYMBOL "??rA", ascii2ws
charger_c           SYMBOL "charger_c"
??charger_c??rT     SYMBOL "??rT", charger_c
check_battery       SYMBOL "check_battery"
??check_battery??rT SYMBOL "??rT", check_battery
check_gprs          SYMBOL "check_gprs"
??check_gprs??rT    SYMBOL "??rT", check_gprs
get_month           SYMBOL "get_month"
??get_month??rT     SYMBOL "??rT", get_month
??kill_data??rA     SYMBOL "??rA", kill_data
main                SYMBOL "main"
??main??rT          SYMBOL "??rT", main
maincsm_onmessage   SYMBOL "maincsm_onmessage"
??maincsm_onmessage??rT SYMBOL "??rT", maincsm_onmessage
my_keyhook          SYMBOL "my_keyhook"
??my_keyhook??rT    SYMBOL "??rT", my_keyhook
??process_missed??rA SYMBOL "??rA", process_missed
reboot_ref          SYMBOL "reboot_ref"
??reboot_ref??rT    SYMBOL "??rT", reboot_ref
runtime_count       SYMBOL "runtime_count"
??runtime_count??rT SYMBOL "??rT", runtime_count
??seqkill??rA       SYMBOL "??rA", seqkill
??strcmp_nocase??rA SYMBOL "??rA", strcmp_nocase
write_log           SYMBOL "write_log"
??write_log??rT     SYMBOL "??rT", write_log
??write_total??rA   SYMBOL "??rA", write_total

        EXTERN CALL_BUTTON
        EXTERN CALL_BUTTON2
        EXTERN COLORfont1
        EXTERN COLORfont2
        EXTERN ELF_BEGIN
        EXTERN InitConfig
        FUNCTION InitConfig,0200H
        EXTERN alt_state
        EXTERN ascii2ws
        FUNCTION ascii2ws,0202H
        EXTERN engade_mis
        EXTERN font1
        EXTERN font2
        EXTERN kill_data
        FUNCTION kill_data,0202H
        EXTERN link1
        EXTERN link1_name
        EXTERN link2
        EXTERN link2_name
        EXTERN link3
        EXTERN link3_name
        EXTERN missedt
        EXTERN process_missed
        FUNCTION process_missed,0200H
        EXTERN result3
        EXTERN seqkill
        FUNCTION seqkill,0202H
        EXTERN start_timerize
        FUNCTION start_timerize,0602H
        EXTERN strcmp_nocase
        FUNCTION strcmp_nocase,0202H
        EXTERN successed_config_filename
        EXTERN use_plugin
        EXTERN write_total
        FUNCTION write_total,0200H


        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant " \\340\\357\\360\\345\\353\\377">`:
        DATA
        DC8 " \340\357\360\345\353\377"
        DC8 " \354\340\377"
        DC8 0, 0, 0
        DC8 " \350\376\355\377"
        DC8 0, 0
        DC8 " \350\376\353\377"
        DC8 0, 0
        DC8 " \340\342\343\363\361\362\340"
        DC8 0, 0, 0
        DC8 " \361\345\355\362\377\341\360\377"
        DC8 0, 0
        DC8 " \356\352\362\377\341\360\377"
        DC8 0, 0, 0
        DC8 " \355\356\377\341\360\377"
        DC8 " \344\345\352\340\341\360\377"
        DC8 0, 0, 0
        DC8 " \377\355\342\340\360\377"
        DC8 " \364\345\342\360\340\353\377"
        DC8 0, 0, 0
        DC8 " \354\340\360\362\340"
        DC8 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "\\321\\310\\321\\322\\305\\314\\300">`:
        DATA
        DC8 "\321\310\321\322\305\314\300"
        DC8 "%t %d db"
        DC8 0, 0, 0
        DC8 "\321\345\362\374"
        DC8 0, 0, 0
        DC8 "0:= %d Kb"
        DC8 0, 0
        DC8 "4:= %d Kb"
        DC8 0, 0
        DC8 "%t: %dKb"
        DC8 0, 0, 0
        DC8 "\316\357\345\360."
        DC8 0, 0
        DC8 "%t: %dB/s"
        DC8 0, 0
        DC8 "\321\352\356\360\356\361\362\374"
        DC8 0, 0, 0
        DC8 "\321\345\361\361\350\377"
        DC8 0
        DC8 "%t: %sKb"
        DC8 0, 0, 0
        DC8 "\357\356\361\353. \361\345\361."
        DC8 0
        DC8 "%t: %s"
        DC8 0
        DC8 "\302\361\345\343\356"
        DC8 0, 0
        DC8 "EGPRS \342\373\352\353\376\367\345\355"
        DC8 0
        DC8 "EGPRS"
        DC8 0, 0
        DC8 "\347\340\360\377\344\355\350\352"
        DC8 0, 0, 0
        DC8 "[%t]"
        DC8 0, 0, 0
        DC8 "\301\300\322\300\320\305\337"
        DC8 "%t: %d%"
        DC8 "\307\340\360\377\344"
        DC8 0, 0
        DC8 "%t: On"
        DC8 0
        DC8 "%t: Off"
        DC8 "\357\356\361\353. \347\340\360\377\344\352\340"
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "[Naticq plugin]">`:
        DATA
        DC8 "[Naticq plugin]"
        DC8 "Naticq not running or wrong version"
        DC8 "Online: %s"
        DC8 0
        DC8 "Ping: %s"
        DC8 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
        DATA
        DC8 "%t "

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "0:\\\\zbin\\\\miosd\\\\img8.png">`:
        DATA
        DC8 "0:\\zbin\\miosd\\img8.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img1.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img2.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img6.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img7.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img4.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img3.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\1.png"
        DC8 "0:\\zbin\\miosd\\2.png"
        DC8 "0:\\zbin\\miosd\\3.png"
        DC8 "0:\\zbin\\miosd\\4.png"
        DC8 "0:\\zbin\\miosd\\app1.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\app2.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\app3.png"
        DC8 0
        DC8 "0:\\zbin\\miosd\\img5.png"
        DC8 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "0:\\\\zbin\\\\miosd\\\\miosd2....">`:
        DATA
        DC8 "0:\\zbin\\miosd\\miosd2.file"
        DC8 0, 0
        DC8 "Unknown"

        RSEG DATA_C:CONST:SORT:NOROOT(0)
        DATA
        DC8 "%d"

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "\\342\\360. \\361\\345\\361.: %02d:%02d`:
        DATA
        DC8 "\342\360. \361\345\361.: %02d:%02d:%02d"
        DC8 0, 0, 0
// C:\arm\miosd_src\main.c
//    1 #include "..\inc\swilib.h"
//    2 #include "conf_loader.h"
//    3 #include "gprs_write.h"
//    4 #include "string_works.h"
//    5 #include "missed_events.h"
//    6 #include "language.h"
//    7 
//    8 extern const int use_plugin;
//    9 extern const char COLORfont1[4];
//   10 extern const char COLORfont2[4];
//   11 extern const unsigned int font1;
//   12 extern const unsigned int font2;
//   13 int naticq_plugin;
//   14 char naticq_time[16];
//   15 char naticq_ping[16]="none";
//   16 void Execute();
//   17 
//   18 extern const int engade_mis;
//   19 extern unsigned long  strtoul (const char *nptr,char **endptr,int base);
//   20 
//   21 extern const char linksound[64];
//   22 GBSTMR rs_tmr;
//   23 
//   24 
//   25 CSM_DESC icsmd;
//   26 int ker_state=0;
//   27 
//   28 int r_s=20;
//   29 int r_m;
//   30 int r_h;
//   31 int mode_enter;
//   32 int mode;
//   33 int pos=1;
//   34 int phase;
//   35 int pos_main_x;
//   36 int pos_main_y;
//   37 int lock_keys;
//   38 GBSTMR mytmr;
//   39 int pos_link_x;
//   40 int pos_link_y;
//   41 int pos_msg_x;
//   42 int pos_msg_y;
//   43 char chinfo[32];
//   44 char start_g2[32];
//   45 int monthc;
//   46 char month[10];
//   47 int hmm;
//   48 int ggg;
//   49 int trafiks;
//   50 int start_traffic;
//   51 GBSTMR mytmr2;
//   52 int ffq;
//   53 char gpinfo[32];
//   54 int isfile;
//   55 extern int result3;
//   56 int switch_gprs_info;
//   57 int do_st=3;
//   58 extern const char link1_name[64];
//   59 extern const char link2_name[64];
//   60 extern const char link3_name[64];
//   61 extern const char link1[64];
//   62 extern const char link2[64];
//   63 extern const char link3[64];
//   64 int con;
//   65 int charge_m;
//   66 int charge_s;
//   67 GBSTMR charger;
//   68 int g_min;
//   69 int g_sec;
//   70 int g_hour;
//   71 GBSTMR gipi;
//   72 #define IPC_RECIEVE_MSG 55

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "MIOSD_mod update">`:
        DATA
        DC8 "MIOSD_mod update"
        DC8 0, 0, 0
        DC8 "none"
        DC8 0, 0, 0
        DC8 "Charging(%dmin)"
        DC8 "%02d:%02d, %02d-%02d"
        DC8 0, 0, 0
        DC8 "0:\\zbin\\miosd\\miosd.file"
        DC8 0, 0, 0
        DC8 "Never"
        DC8 0, 0
//   73 const char ipc_my_name[]="MioSD";
ipc_my_name:
        DC8 "MioSD"
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(0)
        DATA
        DC8 "%s"

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock0 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrwImg??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock0
        REQUIRE DrwImg
//   74 extern GBSTMR missedt;
//   75 int rem_mis;
//   76 extern int alt_state;
//   77 extern const unsigned int CALL_BUTTON;
//   78 extern const unsigned int CALL_BUTTON2;
//   79 int first_con=1;
//   80 int key_mode;
//   81 int app_pos=1;
//   82 int pos_link2_x;
//   83 int pos_link2_y;
//   84 
//   85 
//   86 
//   87 IMGHDR screen={0,0,8,""};
//   88 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock1 Using cfiCommon1
        CFI Function DrwImg
        ARM
//   89 void DrwImg(IMGHDR *img, int x, int y, char *pen, char *brush)
//   90 {
DrwImg:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        SUB      SP,SP,#+44
        CFI CFA R13+60
        LDR      R6,[SP, #+60]
        MOV      R4,R0
//   91   RECT rc;
//   92   DRWOBJ drwobj;
//   93   StoreXYWHtoRECT(&rc,x,y,img->w,img->h);
        LDRH     R0,[R4, #+2]
        MOV      R5,R3
        PUSH     {R0}
        CFI CFA R13+64
        LDRH     R3,[R4, #+0]
        ADD      R0,SP,#+4
        SWI      +307
//   94   SetPropTo_Obj5(&drwobj,&rc,0,img);
        MOV      R3,R4
        MOV      R2,#+0
        ADD      R1,SP,#+4
        ADD      R0,SP,#+12
        SWI      +337
//   95   SetColor(&drwobj,pen,brush);
        MOV      R2,R6
        MOV      R1,R5
        ADD      R0,SP,#+12
        SWI      +331
//   96   DrawObject(&drwobj);
        ADD      R0,SP,#+12
        SWI      +298
//   97 }
        ADD      SP,SP,#+48
        CFI CFA R13+16
        POP      {R4-R6,PC}       ;; return
        CFI EndBlock cfiBlock1

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock2 Using cfiCommon0
        CFI NoFunction
        THUMB
??DoScreen??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock2
        REQUIRE DoScreen
//   98 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock3 Using cfiCommon1
        CFI Function DoScreen
        ARM
//   99 void DoScreen()
//  100 {
DoScreen:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
//  101     int ScrH=ScreenH();
//  102     int ScrW=ScreenW();
//  103     char *ms=RamScreenBuffer();
//  104     screen.w=ScrW;
        LDR      R7,??DataTable0  ;; screen
        SWI      +33161
        MOV      R4,R0
        SWI      +33160
        MOV      R5,R0
        SWI      +32992
        MOV      R6,R0
//  105     screen.h=ScrH;
//  106     screen.bitmap=malloc(ScrW*ScrH*2);
        MUL      R0,R4,R5
        STRH     R5,[R7, #+0]
        STRH     R4,[R7, #+2]
        LSL      R4,R0,#+1
        MOV      R0,R4
        SWI      +20
        STR      R0,[R7, #+8]
//  107     memcpy(screen.bitmap, ms, ScrW*ScrH*2);
        MOV      R2,R4
        MOV      R1,R6
        SWI      +286
//  108 }
        POP      {R4-R7,PC}       ;; return
        CFI EndBlock cfiBlock3

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable0:
        DC32     screen

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock4 Using cfiCommon0
        CFI NoFunction
        THUMB
??DoShowIt??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock4
        REQUIRE DoShowIt
//  109 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock5 Using cfiCommon1
        CFI Function DoShowIt
        ARM
//  110 void DoShowIt()
//  111 {
DoShowIt:
        PUSH     {R4-R11,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R11 Frame(CFA, -8)
        CFI R10 Frame(CFA, -12)
        CFI R9 Frame(CFA, -16)
        CFI R8 Frame(CFA, -20)
        CFI R7 Frame(CFA, -24)
        CFI R6 Frame(CFA, -28)
        CFI R5 Frame(CFA, -32)
        CFI R4 Frame(CFA, -36)
        CFI CFA R13+36
//  112   switch(phase)
        LDR      R4,??DataTable15  ;; screen
        LDR      R0,[R4, #+132]
        LDR      R10,[R4, #+116]
        LDR      R12,[R4, #+120]
        LDR      R2,[R4, #+216]
        LDR      LR,[R4, #+144]
        LDR      R3,[R4, #+228]
        LDR      R7,??DoShowIt_1  ;; DoShowIt
        SUB      R1,R0,#+1
        MOV      R5,#+2
        MOV      R6,#+320
        MOV      R8,#+3
        MOV      R9,#+7
        SUB      R10,R10,#+1
        CMP      R10,#+7
        POPHI    {R4-R11,PC}
        ADR      R11,??DoShowIt_0
        LDRB     R11,[R11, R10]
        ADD      PC,PC,R11, LSL #+2
        DATA
??DoShowIt_0:
        DC8      +1,+27,+85,+92
        DC8      +125,+143,+168,+176
        ARM
//  113   {
//  114 case 1:
//  115   {
//  116     if(key_mode==1)
??DoShowIt_2:
        CMP      R2,#+1
        BNE      ??DoShowIt_3
//  117     {
//  118     if(pos_main_x<0)
        CMP      R12,#+0
//  119     {
//  120       pos_main_x++;
        ADDMI    R0,R12,#+1
        STRMI    R0,[R4, #+120]
//  121     }
//  122     else
//  123       phase=2;
        STRPL    R5,[R4, #+116]
//  124     DirectRedrawGUI();
        SWI      +319
//  125     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
//  126     }
//  127     if(key_mode==2)
??DoShowIt_3:
        LDR      R0,[R4, #+216]
        CMP      R0,#+2
        POPNE    {R4-R11,PC}
//  128     {
//  129     if(pos_main_x>112)
        LDR      R0,[R4, #+120]
        CMP      R0,#+113
//  130     {
//  131       pos_main_x--;
        SUBGE    R0,R0,#+1
        STRGE    R0,[R4, #+120]
        BGE      ??DoShowIt_4
//  132     }
//  133     else
//  134       phase=2;
??DoShowIt_5:
        STR      R5,[R4, #+116]
//  135     DirectRedrawGUI();
??DoShowIt_4:
        SWI      +319
//  136     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
//  137     }
//  138   }
//  139   break;
//  140 case 2:
//  141   {
//  142     if(key_mode==1)
//  143     {
//  144     if(pos_link_x<20)
//  145     {
//  146       pos_link_x++;
//  147       DirectRedrawGUI();
//  148     }
//  149     else
//  150     {
//  151       DirectRedrawGUI();
//  152       if(pos==5)
//  153       {
//  154         pos_msg_y=pos_link_y-34;
//  155         pos_link2_y=pos_msg_y+24;
//  156         pos_link2_x=pos_msg_x-12+(app_pos*20);
//  157         phase=7;
//  158       }
//  159       else
//  160       phase=3;
//  161     }
//  162     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  163     }
//  164     if(key_mode==2)
//  165     {
//  166     if(pos_link_x>102)
//  167     {
//  168       pos_link_x--;
//  169       DirectRedrawGUI();
//  170     }
//  171     else
//  172     {
//  173       DirectRedrawGUI();
//  174       if(pos==5)
//  175       {
//  176         pos_msg_y=pos_link_y-34;
//  177         pos_link2_y=pos_msg_y+24;
//  178         pos_link2_x=pos_msg_x-12+(app_pos*20);
//  179         phase=7;
//  180       }
//  181       else
//  182       phase=3;
//  183     }
//  184     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  185     }
//  186   }
//  187   break;
//  188 case 3:
//  189   {
//  190     pos_msg_y=pos_link_y-34;
//  191     lock_keys=1;
//  192     DirectRedrawGUI();
//  193   }
//  194   break;
//  195 case 4:
//  196   {
//  197     if(key_mode==1)
//  198     {
//  199     if(pos_link_x>10)
//  200     {
//  201       pos_link_x--;
//  202     }
//  203     else
//  204     {
//  205       pos_link_y=pos_main_y-12+(pos*20);
//  206       phase=2;
//  207     }
//  208     DirectRedrawGUI();
//  209     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  210     }
//  211     if(key_mode==2)
//  212     {
//  213     if(pos_link_x<112)
//  214     {
//  215       pos_link_x++;
//  216     }
//  217     else
//  218     {
//  219       pos_link_y=pos_main_y-12+(pos*20);
//  220       phase=2;
//  221     }
//  222     DirectRedrawGUI();
//  223     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  224     }
//  225   }
//  226   break;
//  227 case 5:
//  228   {
//  229     if(key_mode==1)
//  230     {
//  231     if(pos_link_x>10)
//  232       pos_link_x--;
//  233     else
//  234       phase=6;
//  235     DirectRedrawGUI();
//  236     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  237     }
//  238     if(key_mode==2)
//  239     {
//  240     if(pos_link_x<112)
//  241       pos_link_x++;
//  242     else
//  243       phase=6;
//  244     DirectRedrawGUI();
//  245     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  246     }
//  247   }
//  248   break;
//  249 case 6:
//  250   {
//  251     if(key_mode==1)
//  252     {
//  253     if(pos_main_x>-20)
//  254     {
//  255       pos_main_x--;
//  256       DirectRedrawGUI();
//  257       GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  258     }
//  259     else;
//  260     //  CloseCSM(MAINCSM_ID);
//  261     }
//  262     if(key_mode==2)
//  263     {
//  264     if(pos_main_x<240)
//  265     {
//  266       pos_main_x++;
//  267       DirectRedrawGUI();
//  268       GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  269     }
//  270     else;
//  271    //   CloseCSM(MAINCSM_ID);
//  272     }
//  273   }
//  274   break;
//  275 case 7:
//  276   {
//  277     if(pos_link2_y>(pos_msg_y+14))
//  278     {
//  279       pos_link2_y--;
//  280     }
//  281     else
//  282       phase=3;
//  283     DirectRedrawGUI();
//  284     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  285   }
//  286   break;
//  287 case 8:
//  288   {
//  289     {
//  290     if(pos_link2_y<pos_msg_y+24)
//  291     {
//  292       pos_link2_y++;
//  293     }
//  294     else
//  295     {
//  296       phase=7;
//  297       pos_link2_x=pos_msg_x-12+(app_pos*20);
//  298     }
//  299     DirectRedrawGUI();
//  300     GBS_StartTimerProc(&mytmr, 3, DoShowIt);
//  301   }
//  302   }
//  303   break;
//  304   }
//  305 }
??DoShowIt_6:
        POP      {R4-R11,PC}      ;; return
??DoShowIt_7:
        CMP      R2,#+1
        BNE      ??DoShowIt_8
        CMP      R0,#+20
        BGE      ??DoShowIt_9
        ADD      R0,R0,#+1
        STR      R0,[R4, #+132]
        SWI      +319
        B        ??DoShowIt_10
??DoShowIt_9:
        SWI      +319
        LDR      R0,[R4, #+112]
        CMP      R0,#+5
        BNE      ??DoShowIt_11
        LDR      R0,[R4, #+136]
        LDR      R1,[R4, #+220]
        SUB      R0,R0,#+34
        STR      R0,[R4, #+144]
        ADD      R0,R0,#+24
        STR      R0,[R4, #+228]
        LDR      R0,[R4, #+140]
        MOV      R2,#+20
        MLA      R0,R2,R1,R0
        STR      R9,[R4, #+116]
        SUB      R0,R0,#+12
        STR      R0,[R4, #+224]
        B        ??DoShowIt_10
??DoShowIt_11:
        STR      R8,[R4, #+116]
??DoShowIt_10:
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
??DoShowIt_8:
        LDR      R0,[R4, #+216]
        CMP      R0,#+2
        POPNE    {R4-R11,PC}
        LDR      R0,[R4, #+132]
        CMP      R0,#+103
        BLT      ??DoShowIt_12
        SUB      R0,R0,#+1
        STR      R0,[R4, #+132]
        B        ??DoShowIt_13
??DoShowIt_12:
        SWI      +319
        LDR      R0,[R4, #+112]
        CMP      R0,#+5
        BNE      ??DoShowIt_14
        LDR      R0,[R4, #+136]
        LDR      R1,[R4, #+220]
        SUB      R0,R0,#+34
        STR      R0,[R4, #+144]
        ADD      R0,R0,#+24
        STR      R0,[R4, #+228]
        LDR      R0,[R4, #+140]
        MOV      R2,#+20
        MLA      R0,R2,R1,R0
        STR      R9,[R4, #+116]
        SUB      R0,R0,#+12
        STR      R0,[R4, #+224]
        B        ??DoShowIt_15
??DoShowIt_14:
        STR      R8,[R4, #+116]
        B        ??DoShowIt_15
??DoShowIt_16:
        LDR      R0,[R4, #+136]
        SUB      R0,R0,#+34
        STR      R0,[R4, #+144]
        MOV      R0,#+1
        STR      R0,[R4, #+128]
        SWI      +319
        POP      {R4-R11,PC}
??DoShowIt_17:
        CMP      R2,#+1
        BNE      ??DoShowIt_18
        CMP      R0,#+11
        STRGE    R1,[R4, #+132]
        BGE      ??DoShowIt_19
        LDR      R1,[R4, #+112]
        LDR      R0,[R4, #+124]
        MOV      R2,#+20
        MLA      R0,R2,R1,R0
        STR      R5,[R4, #+116]
        SUB      R0,R0,#+12
        STR      R0,[R4, #+136]
??DoShowIt_19:
        SWI      +319
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
??DoShowIt_18:
        LDR      R0,[R4, #+216]
        CMP      R0,#+2
        POPNE    {R4-R11,PC}
        LDR      R0,[R4, #+132]
        CMP      R0,#+112
        BGE      ??DoShowIt_20
??DoShowIt_21:
        ADD      R0,R0,#+1
        STR      R0,[R4, #+132]
        B        ??DoShowIt_4
??DoShowIt_20:
        LDR      R1,[R4, #+112]
        LDR      R0,[R4, #+124]
        MOV      R2,#+20
        MLA      R0,R2,R1,R0
        SUB      R0,R0,#+12
        STR      R0,[R4, #+136]
        B        ??DoShowIt_5
??DoShowIt_22:
        MOV      R5,#+6
        CMP      R2,#+1
        BNE      ??DoShowIt_23
        CMP      R0,#+11
        STRGE    R1,[R4, #+132]
        STRLT    R5,[R4, #+116]
        SWI      +319
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
??DoShowIt_23:
        LDR      R0,[R4, #+216]
        CMP      R0,#+2
        POPNE    {R4-R11,PC}
        LDR      R0,[R4, #+132]
        CMP      R0,#+112
        BGE      ??DoShowIt_5
        B        ??DoShowIt_21
??DoShowIt_24:
        CMP      R2,#+1
        BNE      ??DoShowIt_25
        CMN      R12,#+19
        POPLT    {R4-R11,PC}
        SUB      R0,R12,#+1
        STR      R0,[R4, #+120]
        SWI      +319
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
??DoShowIt_25:
        LDR      R0,[R4, #+216]
        CMP      R0,#+2
        POPNE    {R4-R11,PC}
        LDR      R0,[R4, #+120]
        CMP      R0,#+240
        POPGE    {R4-R11,PC}
        ADD      R0,R0,#+1
        STR      R0,[R4, #+120]
??DoShowIt_13:
        SWI      +319
??DoShowIt_15:
        MOV      R2,R7
        MOV      R1,#+3
        ADD      R0,R6,R4
        SWI      +77
        POP      {R4-R11,PC}
??DoShowIt_26:
        ADD      R0,LR,#+14
        CMP      R0,R3
        BGE      ??DoShowIt_27
        SUB      R0,R3,#+1
??DoShowIt_28:
        STR      R0,[R4, #+228]
        B        ??DoShowIt_4
??DoShowIt_27:
        STR      R8,[R4, #+116]
        B        ??DoShowIt_4
??DoShowIt_29:
        ADD      R0,LR,#+24
        CMP      R3,R0
        ADDLT    R0,R3,#+1
        BLT      ??DoShowIt_28
        LDR      R1,[R4, #+220]
        LDR      R0,[R4, #+140]
        MOV      R2,#+20
        MLA      R0,R2,R1,R0
        STR      R9,[R4, #+116]
        SUB      R0,R0,#+12
        STR      R0,[R4, #+224]
        B        ??DoShowIt_4
        DATA
??DoShowIt_1:
        DC32     DoShowIt
        CFI EndBlock cfiBlock5

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock6 Using cfiCommon0
        CFI NoFunction
        THUMB
??maincsm_onmessage??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock6
        REQUIRE maincsm_onmessage

        RSEG DATA_I:DATA:SORT:NOROOT(2)
screen:
        DS8 12
        REQUIRE `?<Initializer for screen>`
icsmd:
        DS8 40
        REQUIRE `?<Initializer for icsmd>`
naticq_time:
        DS8 16
        REQUIRE `?<Initializer for naticq_time>`
naticq_ping:
        DS8 16
        REQUIRE `?<Initializer for naticq_ping>`
naticq_plugin:
        DS8 4
        REQUIRE `?<Initializer for naticq_plugin>`
ker_state:
        DS8 4
        REQUIRE `?<Initializer for ker_state>`
r_s:
        DS8 4
        REQUIRE `?<Initializer for r_s>`
r_m:
        DS8 4
        REQUIRE `?<Initializer for r_m>`
r_h:
        DS8 4
        REQUIRE `?<Initializer for r_h>`
mode_enter:
        DS8 4
        REQUIRE `?<Initializer for mode_enter>`
mode:
        DS8 4
        REQUIRE `?<Initializer for mode>`
pos:
        DS8 4
        REQUIRE `?<Initializer for pos>`
phase:
        DS8 4
        REQUIRE `?<Initializer for phase>`
pos_main_x:
        DS8 4
        REQUIRE `?<Initializer for pos_main_x>`
pos_main_y:
        DS8 4
        REQUIRE `?<Initializer for pos_main_y>`
lock_keys:
        DS8 4
        REQUIRE `?<Initializer for lock_keys>`
pos_link_x:
        DS8 4
        REQUIRE `?<Initializer for pos_link_x>`
pos_link_y:
        DS8 4
        REQUIRE `?<Initializer for pos_link_y>`
pos_msg_x:
        DS8 4
        REQUIRE `?<Initializer for pos_msg_x>`
pos_msg_y:
        DS8 4
        REQUIRE `?<Initializer for pos_msg_y>`
monthc:
        DS8 4
        REQUIRE `?<Initializer for monthc>`
hmm:
        DS8 4
        REQUIRE `?<Initializer for hmm>`
ggg:
        DS8 4
        REQUIRE `?<Initializer for ggg>`
trafiks:
        DS8 4
        REQUIRE `?<Initializer for trafiks>`
start_traffic:
        DS8 4
        REQUIRE `?<Initializer for start_traffic>`
ffq:
        DS8 4
        REQUIRE `?<Initializer for ffq>`
isfile:
        DS8 4
        REQUIRE `?<Initializer for isfile>`
switch_gprs_info:
        DS8 4
        REQUIRE `?<Initializer for switch_gprs_info>`
do_st:
        DS8 4
        REQUIRE `?<Initializer for do_st>`
con:
        DS8 4
        REQUIRE `?<Initializer for con>`
charge_m:
        DS8 4
        REQUIRE `?<Initializer for charge_m>`
charge_s:
        DS8 4
        REQUIRE `?<Initializer for charge_s>`
g_min:
        DS8 4
        REQUIRE `?<Initializer for g_min>`
g_sec:
        DS8 4
        REQUIRE `?<Initializer for g_sec>`
g_hour:
        DS8 4
        REQUIRE `?<Initializer for g_hour>`
rem_mis:
        DS8 4
        REQUIRE `?<Initializer for rem_mis>`
first_con:
        DS8 4
        REQUIRE `?<Initializer for first_con>`
key_mode:
        DS8 4
        REQUIRE `?<Initializer for key_mode>`
app_pos:
        DS8 4
        REQUIRE `?<Initializer for app_pos>`
pos_link2_x:
        DS8 4
        REQUIRE `?<Initializer for pos_link2_x>`
pos_link2_y:
        DS8 4
        REQUIRE `?<Initializer for pos_link2_y>`
//  306 
//  307 int (*old_icsm_onMessage)(CSM_RAM*,GBS_MSG*);
old_icsm_onMessage:
        DS8 4
        REQUIRE `?<Initializer for old_icsm_onMessage>`
//  308 void (*old_icsm_onClose)(CSM_RAM*);
old_icsm_onClose:
        DS8 4
        REQUIRE `?<Initializer for old_icsm_onClose>`
chinfo:
        DS8 32
        REQUIRE `?<Initializer for chinfo>`
gpinfo:
        DS8 32
        REQUIRE `?<Initializer for gpinfo>`
rs_tmr:
        DS8 16
        REQUIRE `?<Initializer for rs_tmr>`
mytmr:
        DS8 16
        REQUIRE `?<Initializer for mytmr>`
start_g2:
        DS8 32
        REQUIRE `?<Initializer for start_g2>`
month:
        DS8 12
        REQUIRE `?<Initializer for month>`
mytmr2:
        DS8 16
        REQUIRE `?<Initializer for mytmr2>`
charger:
        DS8 16
        REQUIRE `?<Initializer for charger>`
gipi:
        DS8 16
        REQUIRE `?<Initializer for gipi>`
//  309 
//  310 const int minus11=-11;
//  311 
//  312 typedef struct
//  313 {
//  314   CSM_RAM csm;
//  315 }MAIN_CSM;
//  316 typedef struct
//  317 {
//  318   GUI gui;
//  319   WSHDR *ws1;
//  320   WSHDR *ws2;
//  321   int i1;
//  322 }MAIN_GUI;
//  323 
//  324 

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
//  325 CSM_RAM *under_idle;
under_idle:
        DS8 4
//  326 
//  327 extern void kill_data(void *p, void (*func_p)(void *));
//  328 
//  329 #pragma inline=forced
//  330 
//  331 int toupper(int c)
//  332 {
//  333   if ((c>='a')&&(c<='z')) c+='A'-'a';
//  334   return(c);
//  335 }
//  336 
//  337 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock7 Using cfiCommon1
        CFI Function maincsm_onmessage
        ARM
//  338 int maincsm_onmessage(CSM_RAM* data,GBS_MSG* msg)
//  339 {
//  340  
//  341   return (1);  
maincsm_onmessage:
        MOV      R0,#+1
        BX       LR               ;; return
        CFI EndBlock cfiBlock7
//  342 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock8 Using cfiCommon0
        CFI NoFunction
        THUMB
??maincsm_oncreate??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock8
        REQUIRE maincsm_oncreate
//  343 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock9 Using cfiCommon1
        CFI Function maincsm_oncreate
        ARM
//  344 static void maincsm_oncreate(CSM_RAM *data)
//  345 {
//  346  
//  347 }
maincsm_oncreate:
        BX       LR               ;; return
        CFI EndBlock cfiBlock9

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock10 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrawBatteryLog??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock10
        REQUIRE DrawBatteryLog
//  348 
//  349 
//  350 
//  351 
//  352 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock11 Using cfiCommon1
        CFI Function DrawBatteryLog
        ARM
//  353 void DrawBatteryLog()
//  354 {
DrawBatteryLog:
        PUSH     {R4-R10,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R10 Frame(CFA, -8)
        CFI R9 Frame(CFA, -12)
        CFI R8 Frame(CFA, -16)
        CFI R7 Frame(CFA, -20)
        CFI R6 Frame(CFA, -24)
        CFI R5 Frame(CFA, -28)
        CFI R4 Frame(CFA, -32)
        CFI CFA R13+32
//  355   int battery = *RamCap();
//  356   WSHDR *ws=AllocWS(64);
//  357   wsprintf(ws, "[%t]", LG_BATI);
        LDR      R8,??DataTable17  ;; `?<Constant "\\321\\310\\321\\322\\305\\314\\300">`
//  358   DrawString(ws,pos_msg_x+113,pos_msg_y+13,pos_msg_x+Get_WS_width(ws,font1)+113,pos_msg_y+GetFontYSIZE(font1)+13,font1,0,COLORfont1,GetPaletteAdrByColorIndex(23));
        LDR      R5,??DataTable15  ;; screen
        SWI      +32968
        LDRH     R6,[R0, #+0]
        MOV      R0,#+64
        SWI      +293
        MOV      R4,R0
        ADD      R2,R8,#+188
        ADD      R1,R8,#+180
        SWI      +292
        MOV      R0,#+23
        SWI      +302
        MOV      R7,R0
        LDR      R0,??DataTable22  ;; font1
        LDR      R9,[R0, #+0]
        MOV      R0,R9
        SWI      +453
        MOV      R10,R0
        MOV      R1,R9
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R5, #+140]
        LDR      R2,[R5, #+144]
        LDR      R3,??DataTable23  ;; COLORfont1
        PUSH     {R7}
        CFI CFA R13+36
//  359   wsprintf(ws,"%t: %d%", LG_BCAP, battery);
//  360   DrawString(ws,pos_msg_x+113,pos_msg_y+28,pos_msg_x+Get_WS_width(ws,font2)+113,pos_msg_y+GetFontYSIZE(font2)+28,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        LDR      R7,??DataTable25  ;; COLORfont2
        PUSH     {R3}
        CFI CFA R13+40
        ADD      R0,R0,R1
        ADD      R1,R1,#+113
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+44
        PUSH     {R9}
        CFI CFA R13+48
        ADD      R3,R10,R2
        ADD      R3,R3,#+13
        PUSH     {R3}
        CFI CFA R13+52
        ADD      R2,R2,#+13
        ADD      R3,R0,#+113
        MOV      R0,R4
        SWI      +332
        MOV      R3,R6
        ADD      R2,R8,#+204
        ADD      R1,R8,#+196
        MOV      R0,R4
        SWI      +292
        MOV      R0,#+23
        SWI      +302
        MOV      R9,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R6,[R0, #+0]
        MOV      R0,R6
        SWI      +453
        MOV      R10,R0
        MOV      R1,R6
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R5, #+140]
        LDR      R2,[R5, #+144]
        PUSH     {R9}
        CFI CFA R13+56
        MOV      R3,R7
        PUSH     {R3}
        CFI CFA R13+60
        ADD      R0,R0,R1
        ADD      R1,R1,#+113
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+64
        MOV      R3,R6
        PUSH     {R3}
        CFI CFA R13+68
        ADD      R3,R10,R2
        ADD      R2,R2,#+28
        ADD      R3,R3,#+28
        PUSH     {R3}
        CFI CFA R13+72
        ADD      R3,R0,#+113
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+40
        CFI CFA R13+32
//  361   if(GetAccessoryType()==13) wsprintf(ws, "%t: On", LG_BCON); else wsprintf(ws, "%t: Off", LG_BCON);
        SWI      +136
        CMP      R0,#+13
        ADD      R2,R8,#+168
        ADDEQ    R1,R8,#+212
        ADDNE    R1,R8,#+220
        MOV      R0,R4
        SWI      +292
//  362   DrawString(ws,pos_msg_x+113,pos_msg_y+38,pos_msg_x+Get_WS_width(ws,font2)+113,pos_msg_y+GetFontYSIZE(font2)+38,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R9,R0
        MOV      R0,R6
        SWI      +453
        MOV      R10,R0
        MOV      R1,R6
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R5, #+140]
        LDR      R2,[R5, #+144]
        PUSH     {R9}
        CFI CFA R13+36
        MOV      R3,R7
        PUSH     {R3}
        CFI CFA R13+40
        ADD      R0,R0,R1
        ADD      R1,R1,#+113
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+44
        MOV      R3,R6
        PUSH     {R3}
        CFI CFA R13+48
        ADD      R3,R10,R2
        ADD      R2,R2,#+38
        ADD      R3,R3,#+38
        PUSH     {R3}
        CFI CFA R13+52
        ADD      R3,R0,#+113
        MOV      R0,R4
        SWI      +332
//  363   wsprintf(ws, "%t:", LG_CLCH);
        ADD      R2,R8,#+228
        ADR      R1,??DrawBatteryLog_0  ;; "%t:"
        MOV      R0,R4
        SWI      +292
//  364   DrawString(ws,pos_msg_x+113,pos_msg_y+48,pos_msg_x+Get_WS_width(ws,font2)+113,pos_msg_y+GetFontYSIZE(font2)+48,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,R6
        SWI      +453
        MOV      R9,R0
        MOV      R1,R6
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R5, #+140]
        LDR      R2,[R5, #+144]
        PUSH     {R8}
        CFI CFA R13+56
        MOV      R3,R7
        PUSH     {R3}
        CFI CFA R13+60
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+64
        ADD      R0,R0,R1
        ADD      R1,R1,#+113
        MOV      R3,R6
        PUSH     {R3}
        CFI CFA R13+68
        ADD      R3,R9,R2
        ADD      R2,R2,#+48
        ADD      R3,R3,#+48
        PUSH     {R3}
        CFI CFA R13+72
        ADD      R3,R0,#+113
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+40
        CFI CFA R13+32
//  365   wsprintf(ws, chinfo);
        ADD      R1,R5,#+240
        MOV      R0,R4
        SWI      +292
//  366   DrawString(ws,pos_msg_x+1118,pos_msg_y+58,pos_msg_x+Get_WS_width(ws,font2)+1118,pos_msg_y+GetFontYSIZE(font2)+58,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,R6
        SWI      +453
        MOV      R9,R0
        MOV      R1,R6
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R5, #+140]
        LDR      R2,[R5, #+144]
        PUSH     {R8}
        CFI CFA R13+36
        PUSH     {R7}
        CFI CFA R13+40
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+44
        PUSH     {R6}
        CFI CFA R13+48
        MOV      R5,#+94
        ADD      R3,R9,R2
        ADD      R3,R3,#+58
        PUSH     {R3}
        CFI CFA R13+52
        ORR      R5,R5,#0x400
        ADD      R0,R0,R1
        ADD      R2,R2,#+58
        ADD      R3,R5,R0
        ADD      R1,R5,R1
        MOV      R0,R4
        SWI      +332
//  367   FreeWS(ws);
        MOV      R0,R4
        SWI      +297
//  368 }
        ADD      SP,SP,#+20
        CFI CFA R13+32
        POP      {R4-R10,PC}      ;; return
        DATA
??DrawBatteryLog_0:
        DC8      "%t:"
        CFI EndBlock cfiBlock11

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock12 Using cfiCommon0
        CFI NoFunction
        THUMB
??get_month??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock12
        REQUIRE get_month
//  369 
//  370 #pragma swi_number=0x41
//  371 __swi __arm char GetProvider(WSHDR *ws, int zero);
//  372 
//  373 
//  374 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock13 Using cfiCommon1
        CFI Function get_month
        ARM
//  375 void get_month()
//  376 {
get_month:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        SUB      SP,SP,#+8
        CFI CFA R13+24
//  377   TDate date;
//  378   GetDateTime(&date, NULL);
        MOV      R1,#+0
//  379   if(date.month==1) strcpy(month, " םגאנ");
        LDR      R5,??DataTable15  ;; screen
        LDR      R6,??get_month_0  ;; `?<Constant " \\340\\357\\360\\345\\353\\377">`
        MOV      R0,SP
        SWI      +180
        LDRB     R0,[SP, #+4]
        MOV      R4,#+368
        CMP      R0,#+1
        BNE      ??get_month_1
        ADD      R1,R6,#+88
        ADD      R0,R4,R5
        SWI      +26
//  380   if(date.month==2) strcpy(month, " פוגנאכ");
??get_month_1:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+2
        BNE      ??get_month_2
        ADD      R1,R6,#+96
        ADD      R0,R4,R5
        SWI      +26
//  381   if(date.month==3) strcpy(month, " לאנעא");
??get_month_2:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+3
        BNE      ??get_month_3
        ADD      R1,R6,#+108
        ADD      R0,R4,R5
        SWI      +26
//  382   if(date.month==4) strcpy(month, " אןנוכ");
??get_month_3:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+4
        BNE      ??get_month_4
        MOV      R1,R6
        ADD      R0,R4,R5
        SWI      +26
//  383   if(date.month==5) strcpy(month, " לא");
??get_month_4:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+5
        BNE      ??get_month_5
        ADD      R1,R6,#+8
        ADD      R0,R4,R5
        SWI      +26
//  384   if(date.month==6) strcpy(month, " ט‏ם");
??get_month_5:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+6
        BNE      ??get_month_6
        ADD      R1,R6,#+16
        ADD      R0,R4,R5
        SWI      +26
//  385   if(date.month==7) strcpy(month, " ט‏כ");
??get_month_6:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+7
        BNE      ??get_month_7
        ADD      R1,R6,#+24
        ADD      R0,R4,R5
        SWI      +26
//  386   if(date.month==8) strcpy(month, " אגדףסעא");
??get_month_7:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+8
        BNE      ??get_month_8
        ADD      R1,R6,#+32
        ADD      R0,R4,R5
        SWI      +26
//  387   if(date.month==9) strcpy(month, " סוםעבנ");
??get_month_8:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+9
        BNE      ??get_month_9
        ADD      R1,R6,#+44
        ADD      R0,R4,R5
        SWI      +26
//  388   if(date.month==10) strcpy(month, " מךעבנ");
??get_month_9:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+10
        BNE      ??get_month_10
        ADD      R1,R6,#+56
        ADD      R0,R4,R5
        SWI      +26
//  389   if(date.month==11) strcpy(month, " םמבנ");
??get_month_10:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+11
        BNE      ??get_month_11
        ADD      R1,R6,#+68
        ADD      R0,R4,R5
        SWI      +26
//  390   if(date.month==12) strcpy(month, " הוךאבנ");
??get_month_11:
        LDRB     R0,[SP, #+4]
        CMP      R0,#+12
        BNE      ??get_month_12
        ADD      R1,R6,#+76
        ADD      R0,R4,R5
        SWI      +26
//  391   monthc=date.month;
??get_month_12:
        LDRB     R0,[SP, #+4]
        STR      R0,[R5, #+148]
//  392 }
        POP      {R0,R1,R4-R6,PC}  ;; return
        DATA
??get_month_0:
        DC32     `?<Constant " \\340\\357\\360\\345\\353\\377">`
        CFI EndBlock cfiBlock13

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock14 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrawSystemLog??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock14
        REQUIRE DrawSystemLog
//  393 
//  394 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock15 Using cfiCommon1
        CFI Function DrawSystemLog
        ARM
//  395 void DrawSystemLog()
//  396 {
DrawSystemLog:
        PUSH     {R4-R11,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R11 Frame(CFA, -8)
        CFI R10 Frame(CFA, -12)
        CFI R9 Frame(CFA, -16)
        CFI R8 Frame(CFA, -20)
        CFI R7 Frame(CFA, -24)
        CFI R6 Frame(CFA, -28)
        CFI R5 Frame(CFA, -32)
        CFI R4 Frame(CFA, -36)
        CFI CFA R13+36
//  397   int ram = GetFreeRamAvail();
//  398   ram=ram/1024;
//  399   WSHDR *ws=AllocWS(64);
//  400   wsprintf(ws, "[%t]", LG_SYSI);
        LDR      R6,??DataTable17  ;; `?<Constant "\\321\\310\\321\\322\\305\\314\\300">`
//  401   DrawString(ws,pos_msg_x+16,pos_msg_y+73,pos_msg_x+Get_WS_width(ws,font1)+16,pos_msg_y+GetFontYSIZE(font1)+73,font1,0,COLORfont1,GetPaletteAdrByColorIndex(23));
        LDR      R7,??DataTable15  ;; screen
        SUB      SP,SP,#+20
        CFI CFA R13+56
        SWI      +95
        MOV      R4,R0
        MOV      R0,#+64
        SWI      +293
        MOV      R5,R0
        MOV      R2,R6
        ADD      R1,R6,#+180
        SWI      +292
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        LDR      R0,??DataTable22  ;; font1
        LDR      R9,[R0, #+0]
        MOV      R0,R9
        SWI      +453
        MOV      R10,R0
        MOV      R1,R9
        MOV      R0,R5
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        LDR      R3,??DataTable23  ;; COLORfont1
        PUSH     {R8}
        CFI CFA R13+60
        PUSH     {R3}
        CFI CFA R13+64
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+68
        PUSH     {R9}
        CFI CFA R13+72
        ADD      R3,R10,R2
        ADD      R3,R3,#+73
        PUSH     {R3}
        CFI CFA R13+76
        ADD      R2,R2,#+73
        ADD      R3,R0,#+16
        MOV      R0,R5
        SWI      +332
//  402   TTime time;
//  403   TDate date;
//  404   GetDateTime(&date, &time);
        ADD      R1,SP,#+32
        ADD      R0,SP,#+24
        SWI      +180
//  405   if(monthc!=date.month) get_month();
        LDRB     R1,[SP, #+28]
        LDR      R0,[R7, #+148]
        ADD      SP,SP,#+20
        CFI CFA R13+56
        CMP      R0,R1
        BEQ      ??DrawSystemLog_0
        BL       get_month
//  406   RAMNET *net_data;
//  407   net_data=RamNet();
//  408   wsprintf(ws,"%t %d db",LG_NET, net_data->power); 
//  409   DrawString(ws,pos_msg_x+16,pos_msg_y+88,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+88,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
??DrawSystemLog_0:
        LDR      R11,??DataTable25  ;; COLORfont2
        SWI      +32970
        LDRB     R3,[R0, #+6]
        ADD      R2,R6,#+20
        ADD      R1,R6,#+8
        MOV      R0,R5
        SWI      +292
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R9,[R0, #+0]
        MOV      R0,R9
        SWI      +453
        MOV      R10,R0
        MOV      R1,R9
        MOV      R0,R5
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R8}
        CFI CFA R13+60
        MOV      R3,R11
        PUSH     {R3}
        CFI CFA R13+64
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+68
        MOV      R3,R9
        PUSH     {R3}
        CFI CFA R13+72
        ADD      R3,R10,R2
        ADD      R2,R2,#+88
        ADD      R3,R3,#+88
        PUSH     {R3}
        CFI CFA R13+76
        ADD      R3,R0,#+16
        MOV      R0,R5
        SWI      +332
//  410    
//  411   int freemem0 = GetFreeFlexSpace(0, 0)/1024;
        MOV      R1,#+0
        MOV      R0,#+0
        SWI      +138
        ASR      R1,R0,#+9
        ADD      R0,R0,R1, LSR #+22
        ASR      R8,R0,#+10
//  412   int freemem4 = GetFreeFlexSpace(4, 0)/1024; 
        MOV      R1,#+0
        MOV      R0,#+4
        SWI      +138
        ASR      R2,R0,#+9
        ADD      R0,R0,R2, LSR #+22
        ASR      R0,R0,#+10
        STR      R0,[SP, #+20]
//  413   wsprintf(ws,"0:= %d Kb",freemem0);
        MOV      R2,R8
        ADD      R1,R6,#+28
        MOV      R0,R5
        SWI      +292
//  414   DrawString(ws,pos_msg_x+16,pos_msg_y+98,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+98,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,R9
        SWI      +453
        MOV      R10,R0
        MOV      R1,R9
        MOV      R0,R5
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R8}
        CFI CFA R13+80
        MOV      R3,R11
        PUSH     {R3}
        CFI CFA R13+84
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+88
        MOV      R3,R9
        PUSH     {R3}
        CFI CFA R13+92
        ADD      R3,R10,R2
        ADD      R2,R2,#+98
        ADD      R3,R3,#+98
        PUSH     {R3}
        CFI CFA R13+96
        ADD      R3,R0,#+16
        MOV      R0,R5
        SWI      +332
        ADD      SP,SP,#+40
        CFI CFA R13+56
//  415   wsprintf(ws,"4:= %d Kb",freemem4);
        LDR      R2,[SP, #+0]
        ADD      R1,R6,#+40
        MOV      R0,R5
        SWI      +292
//  416   DrawString(ws,pos_msg_x+16,pos_msg_y+108,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+108,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,R9
        SWI      +453
        MOV      R10,R0
        MOV      R1,R9
        MOV      R0,R5
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R8}
        CFI CFA R13+60
        MOV      R3,R11
        PUSH     {R3}
        CFI CFA R13+64
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+68
        MOV      R3,R9
        PUSH     {R3}
        CFI CFA R13+72
        ADD      R3,R10,R2
        ADD      R2,R2,#+108
        ADD      R3,R3,#+108
        PUSH     {R3}
        CFI CFA R13+76
        ADD      R3,R0,#+16
        MOV      R0,R5
        SWI      +332
//  417   wsprintf(ws,"%t: %dKb", LG_SRAM, ram);
        ASR      R0,R4,#+9
        ADD      R0,R4,R0, LSR #+22
        ASR      R3,R0,#+10
        ADD      R2,R6,#+64
        ADD      R1,R6,#+52
        MOV      R0,R5
        SWI      +292
//  418   DrawString(ws,pos_msg_x+16,pos_msg_y+118,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+118,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R4,R0
        MOV      R0,R9
        SWI      +453
        MOV      R6,R0
        MOV      R1,R9
        MOV      R0,R5
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R4}
        CFI CFA R13+80
        PUSH     {R11}
        CFI CFA R13+84
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+88
        PUSH     {R9}
        CFI CFA R13+92
        ADD      R0,R0,R1
        ADD      R3,R6,R2
        ADD      R3,R3,#+118
        PUSH     {R3}
        CFI CFA R13+96
        ADD      R2,R2,#+118
        ADD      R1,R1,#+16
        ADD      R3,R0,#+16
        MOV      R0,R5
        SWI      +332
        ADD      SP,SP,#+40
        CFI CFA R13+56
//  419   FreeWS(ws);
        MOV      R0,R5
        SWI      +297
//  420   
//  421 }
        ADD      SP,SP,#+20
        CFI CFA R13+36
        POP      {R4-R11,PC}      ;; return
        CFI EndBlock cfiBlock15

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock16 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrawNaticqLog??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock16
        REQUIRE DrawNaticqLog
//  422 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock17 Using cfiCommon1
        CFI Function DrawNaticqLog
        ARM
//  423 void DrawNaticqLog()
//  424 {
DrawNaticqLog:
        PUSH     {R4-R10,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R10 Frame(CFA, -8)
        CFI R9 Frame(CFA, -12)
        CFI R8 Frame(CFA, -16)
        CFI R7 Frame(CFA, -20)
        CFI R6 Frame(CFA, -24)
        CFI R5 Frame(CFA, -28)
        CFI R4 Frame(CFA, -32)
        CFI CFA R13+32
//  425   WSHDR *ws=AllocWS(64);
//  426   wsprintf(ws, "[Naticq plugin]");
        LDR      R7,??DrawNaticqLog_0  ;; `?<Constant "[Naticq plugin]">`
//  427   DrawString(ws,pos_msg_x+3,pos_msg_y+3,pos_msg_x+Get_WS_width(ws,font2)+3,pos_msg_y+GetFontYSIZE(font2)+3,font2,0,GetPaletteAdrByColorIndex(2),GetPaletteAdrByColorIndex(23));
        LDR      R6,??DataTable15  ;; screen
        MOV      R0,#+64
        SWI      +293
        MOV      R4,R0
        MOV      R1,R7
        SWI      +292
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,#+2
        SWI      +302
        MOV      R9,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R5,[R0, #+0]
        MOV      R0,R5
        SWI      +453
        MOV      R10,R0
        MOV      R1,R5
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R6, #+140]
        LDR      R2,[R6, #+144]
        PUSH     {R8}
        CFI CFA R13+36
        PUSH     {R9}
        CFI CFA R13+40
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+44
        ADD      R0,R0,R1
        ADD      R1,R1,#+3
        MOV      R3,R5
        PUSH     {R3}
        CFI CFA R13+48
        ADD      R3,R10,R2
        ADD      R2,R2,#+3
        ADD      R3,R3,#+3
        PUSH     {R3}
        CFI CFA R13+52
        ADD      R3,R0,#+3
        MOV      R0,R4
        SWI      +332
//  428   if(!naticq_plugin)
        LDR      R0,[R6, #+84]
        ADD      SP,SP,#+20
        CFI CFA R13+32
        CMP      R0,#+0
        BNE      ??DrawNaticqLog_1
//  429   {
//  430   wsprintf(ws, "Naticq not running or wrong version");
        ADD      R1,R7,#+16
        MOV      R0,R4
        SWI      +292
//  431   DrawString(ws,pos_msg_x+3,pos_msg_y+25,pos_msg_x+80,pos_msg_y+50+25,font2,0,GetPaletteAdrByColorIndex(4),GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R7,R0
        MOV      R0,#+4
        SWI      +302
        LDR      R1,[R6, #+140]
        LDR      R2,[R6, #+144]
        PUSH     {R7}
        CFI CFA R13+36
        PUSH     {R0}
        CFI CFA R13+40
        ADD      R3,R1,#+80
        ADD      R1,R1,#+3
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+44
        PUSH     {R5}
        CFI CFA R13+48
        ADD      R0,R2,#+75
        PUSH     {R0}
        CFI CFA R13+52
        ADD      R2,R2,#+25
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+20
        CFI CFA R13+32
        MOV      R0,R4
        SWI      +297
        POP      {R4-R10,PC}
//  432   }
//  433   else
//  434   {
//  435     wsprintf(ws, "Online: %s", naticq_time);
??DrawNaticqLog_1:
        ADD      R2,R6,#+52
        ADD      R1,R7,#+52
        MOV      R0,R4
        SWI      +292
//  436     DrawString(ws,pos_msg_x+3,pos_msg_y+20,pos_msg_x+Get_WS_width(ws,font2)+3,pos_msg_y+GetFontYSIZE(font2)+25,font2,0,GetPaletteAdrByColorIndex(4),GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,#+4
        SWI      +302
        MOV      R9,R0
        MOV      R0,R5
        SWI      +453
        MOV      R10,R0
        MOV      R1,R5
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R6, #+140]
        LDR      R2,[R6, #+144]
        PUSH     {R8}
        CFI CFA R13+36
        PUSH     {R9}
        CFI CFA R13+40
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+44
        ADD      R0,R0,R1
        ADD      R1,R1,#+3
        MOV      R3,R5
        PUSH     {R3}
        CFI CFA R13+48
        ADD      R3,R10,R2
        ADD      R2,R2,#+20
        ADD      R3,R3,#+25
        PUSH     {R3}
        CFI CFA R13+52
        ADD      R3,R0,#+3
        MOV      R0,R4
        SWI      +332
//  437     wsprintf(ws, "Ping: %s", naticq_ping);
        ADD      R2,R6,#+68
        ADD      R1,R7,#+64
        MOV      R0,R4
        SWI      +292
//  438     DrawString(ws,pos_msg_x+3,pos_msg_y+30,pos_msg_x+Get_WS_width(ws,font2)+3,pos_msg_y+GetFontYSIZE(font2)+35,font2,0,GetPaletteAdrByColorIndex(4),GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R7,R0
        MOV      R0,#+4
        SWI      +302
        MOV      R8,R0
        MOV      R0,R5
        SWI      +453
        MOV      R9,R0
        MOV      R1,R5
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R6, #+140]
        LDR      R2,[R6, #+144]
        PUSH     {R7}
        CFI CFA R13+56
        PUSH     {R8}
        CFI CFA R13+60
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+64
        PUSH     {R5}
        CFI CFA R13+68
        ADD      R0,R0,R1
        ADD      R3,R9,R2
        ADD      R3,R3,#+35
        PUSH     {R3}
        CFI CFA R13+72
        ADD      R2,R2,#+30
        ADD      R1,R1,#+3
        ADD      R3,R0,#+3
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+40
        CFI CFA R13+32
//  439   }
//  440   FreeWS(ws);
        MOV      R0,R4
        SWI      +297
//  441 }
        POP      {R4-R10,PC}      ;; return
        DATA
??DrawNaticqLog_0:
        DC32     `?<Constant "[Naticq plugin]">`
        CFI EndBlock cfiBlock17

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable15:
        DC32     screen

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock18 Using cfiCommon0
        CFI NoFunction
        THUMB
??reboot_ref??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock18
        REQUIRE reboot_ref

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock19 Using cfiCommon1
        CFI Function reboot_ref
        ARM
//  442 void reboot_ref()
//  443 {
reboot_ref:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//  444   DirectRedrawGUI();
        SWI      +319
//  445 }
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock19

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock20 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrawGPRSLog??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock20
        REQUIRE DrawGPRSLog
//  446 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock21 Using cfiCommon1
        CFI Function DrawGPRSLog
        ARM
//  447 void DrawGPRSLog()
//  448 {
DrawGPRSLog:
        PUSH     {R4-R11,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R11 Frame(CFA, -8)
        CFI R10 Frame(CFA, -12)
        CFI R9 Frame(CFA, -16)
        CFI R8 Frame(CFA, -20)
        CFI R7 Frame(CFA, -24)
        CFI R6 Frame(CFA, -28)
        CFI R5 Frame(CFA, -32)
        CFI R4 Frame(CFA, -36)
        CFI CFA R13+36
//  449   WSHDR *ws=AllocWS(64);
//  450   if(IsGPRSConnected())
        LDR      R5,??DataTable17  ;; `?<Constant "\\321\\310\\321\\322\\305\\314\\300">`
        LDR      R6,??DataTable25  ;; COLORfont2
        LDR      R7,??DataTable34  ;; screen
        SUB      SP,SP,#+4
        CFI CFA R13+40
        MOV      R0,#+64
        SWI      +293
        MOV      R4,R0
        SWI      +168
        CMP      R0,#+0
        BEQ      ??DrawGPRSLog_0
//  451   {
//  452     RefreshGPRSTraffic();
        SWI      +111
//  453     int *traf = GetGPRSTrafficPointer();
        SWI      +112
//  454     hmm=*traf-ggg;
        LDR      R1,[R7, #+156]
        MOV      R8,R0
        LDR      R0,[R8, #+0]
        SUB      R0,R0,R1
        STR      R0,[R7, #+152]
//  455     ascii2ws(ws, start_g2);
        ADD      R1,R7,#+336
        MOV      R0,R4
        _BLF     ascii2ws,??ascii2ws??rA
//  456     DrawString(ws,pos_msg_x+16,pos_msg_y+28,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+28,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R9,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R10,[R0, #+0]
        MOV      R0,R10
        SWI      +453
        MOV      R11,R0
        MOV      R1,R10
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R9}
        CFI CFA R13+44
        MOV      R3,R6
        PUSH     {R3}
        CFI CFA R13+48
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
//  457     if(ffq) 
        MOV      R9,#+0
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+52
        MOV      R3,R10
        PUSH     {R3}
        CFI CFA R13+56
        ADD      R3,R11,R2
        ADD      R2,R2,#+28
        ADD      R3,R3,#+28
        PUSH     {R3}
        CFI CFA R13+60
        ADD      R3,R0,#+16
        MOV      R0,R4
        SWI      +332
        LDR      R0,[R7, #+168]
        ADD      SP,SP,#+20
        CFI CFA R13+40
        CMP      R0,#+0
//  458     {
//  459       hmm=0;
        STRNE    R9,[R7, #+152]
//  460       ffq=0;
//  461     }
//  462     wsprintf(ws, "%t: %dB/s", LG_GSPE, hmm);
        LDR      R3,[R7, #+152]
        STRNE    R9,[R7, #+168]
        ADD      R2,R5,#+84
        ADD      R1,R5,#+72
        MOV      R0,R4
        SWI      +292
//  463     DrawString(ws,pos_msg_x+16,pos_msg_y+38,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+38,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R11,R0
        MOV      R0,R10
        SWI      +453
        STR      R0,[SP, #+0]
        MOV      R1,R10
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R11}
        CFI CFA R13+44
        MOV      R3,R6
        PUSH     {R3}
        CFI CFA R13+48
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+52
        MOV      R3,R10
        PUSH     {R3}
        CFI CFA R13+56
        LDR      R3,[SP, #+16]
        ADD      R3,R3,R2
        ADD      R3,R3,#+38
        PUSH     {R3}
        CFI CFA R13+60
        ADD      R2,R2,#+38
        ADD      R3,R0,#+16
        MOV      R0,R4
        SWI      +332
//  464     ggg=*traf;
        LDR      R0,[R8, #+0]
//  465     trafiks=(*traf-start_traffic)/1024;
        LDR      R1,[R7, #+164]
        STR      R0,[R7, #+156]
        LDR      R0,[R8, #+0]
//  466     wsprintf(ws, "%t: %dKb", LG_GSES, trafiks);
        ADD      R2,R5,#+96
        SUB      R0,R0,R1
        ASR      R1,R0,#+9
        ADD      R0,R0,R1, LSR #+22
        ASR      R3,R0,#+10
        STR      R3,[R7, #+160]
        ADD      R1,R5,#+52
        MOV      R0,R4
        SWI      +292
//  467     DrawString(ws,pos_msg_x+16,pos_msg_y+48,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+48,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,R10
        SWI      +453
        MOV      R11,R0
        MOV      R1,R10
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R8}
        CFI CFA R13+64
        MOV      R3,R6
        PUSH     {R3}
        CFI CFA R13+68
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,R9
        PUSH     {R3}
        CFI CFA R13+72
        MOV      R3,R10
        PUSH     {R3}
        CFI CFA R13+76
        ADD      R3,R11,R2
        ADD      R2,R2,#+48
        ADD      R3,R3,#+48
        PUSH     {R3}
        CFI CFA R13+80
        ADD      R3,R0,#+16
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+40
        CFI CFA R13+40
//  468     if(!do_st) 
        LDR      R0,[R7, #+180]
        CMP      R0,#+0
        BNE      ??DrawGPRSLog_1
//  469     {
//  470       switch_gprs_info=(!switch_gprs_info);
        LDR      R0,[R7, #+176]
        CMP      R0,#+0
        MOVEQ    R0,#+1
        MOVNE    R0,#+0
        STR      R0,[R7, #+176]
//  471       do_st=3;
        MOV      R0,#+3
        B        ??DrawGPRSLog_2
//  472     }
//  473     else
//  474       do_st--;
??DrawGPRSLog_1:
        SUB      R0,R0,#+1
??DrawGPRSLog_2:
        STR      R0,[R7, #+180]
//  475     if(!switch_gprs_info)
        LDR      R0,[R7, #+176]
        CMP      R0,#+0
        BNE      ??DrawGPRSLog_3
//  476     {
//  477       if(isfile)
        LDR      R1,[R7, #+172]
        MOV      R0,#+272
        CMP      R1,#+0
        ADD      R3,R0,R7
        ADD      R2,R5,#+116
        ADDEQ    R1,R5,#+128
//  478       wsprintf(ws, "%t: %sKb", LG_GLAS, gpinfo);
        ADDNE    R1,R5,#+104
        B        ??DrawGPRSLog_4
//  479       else
//  480         wsprintf(ws, "%t: %s", LG_GLAS, gpinfo);
//  481     }
//  482     else
//  483       wsprintf(ws, "%t: %dKb", LG_GTOT, result3);
??DrawGPRSLog_3:
        LDR      R0,??DrawGPRSLog_5+0x4  ;; result3
        ADD      R2,R5,#+136
        LDR      R3,[R0, #+0]
        ADD      R1,R5,#+52
??DrawGPRSLog_4:
        MOV      R0,R4
        SWI      +292
//  484       DrawString(ws,pos_msg_x+16,pos_msg_y+58,pos_msg_x+Get_WS_width(ws,font2)+16,pos_msg_y+GetFontYSIZE(font2)+58,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));    
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        MOV      R0,R10
        SWI      +453
        MOV      R9,R0
        MOV      R1,R10
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R8}
        CFI CFA R13+44
        PUSH     {R6}
        CFI CFA R13+48
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+52
        PUSH     {R10}
        CFI CFA R13+56
        ADD      R0,R0,R1
        ADD      R3,R9,R2
        ADD      R3,R3,#+58
        PUSH     {R3}
        CFI CFA R13+60
        ADD      R2,R2,#+58
        B        ??DrawGPRSLog_6
        CFI CFA R13+40
//  485   }
//  486   else
//  487   {
//  488     wsprintf(ws, "%t ", LG_GPOF);
??DrawGPRSLog_0:
        ADD      R2,R5,#+144
        ADR      R1,??DrawGPRSLog_5  ;; "%t "
        MOV      R0,R4
        SWI      +292
//  489     DrawString(ws,pos_msg_x+16,pos_msg_y+28,pos_msg_x+Get_WS_width(ws, font2)+16,pos_msg_y+GetFontYSIZE(font2)+28,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R10,[R0, #+0]
        MOV      R0,R10
        SWI      +453
        MOV      R9,R0
        MOV      R1,R10
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        PUSH     {R8}
        CFI CFA R13+44
        PUSH     {R6}
        CFI CFA R13+48
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+52
        PUSH     {R10}
        CFI CFA R13+56
        ADD      R0,R0,R1
        ADD      R3,R9,R2
        ADD      R3,R3,#+28
        PUSH     {R3}
        CFI CFA R13+60
        ADD      R2,R2,#+28
??DrawGPRSLog_6:
        ADD      R3,R0,#+16
        ADD      R1,R1,#+16
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+20
        CFI CFA R13+40
//  490   }
//  491   wsprintf(ws, "[%t]", LG_GINF);
        ADD      R2,R5,#+160
        ADD      R1,R5,#+180
        MOV      R0,R4
        SWI      +292
//  492   DrawString(ws,pos_msg_x+16,pos_msg_y+13,pos_msg_x+Get_WS_width(ws, font1)+16,pos_msg_y+GetFontYSIZE(font1)+13,font1,0,COLORfont1,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R5,R0
        LDR      R0,??DataTable22  ;; font1
        LDR      R6,[R0, #+0]
        MOV      R0,R6
        SWI      +453
        MOV      R8,R0
        MOV      R1,R6
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R7, #+140]
        LDR      R2,[R7, #+144]
        LDR      R3,??DataTable23  ;; COLORfont1
        PUSH     {R5}
        CFI CFA R13+44
        PUSH     {R3}
        CFI CFA R13+48
        ADD      R0,R0,R1
        ADD      R1,R1,#+16
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+52
        PUSH     {R6}
        CFI CFA R13+56
        ADD      R3,R8,R2
        ADD      R3,R3,#+13
        PUSH     {R3}
        CFI CFA R13+60
        ADD      R2,R2,#+13
        ADD      R3,R0,#+16
        MOV      R0,R4
        SWI      +332
//  493   FreeWS(ws);
        MOV      R0,R4
        SWI      +297
//  494 }
        ADD      SP,SP,#+24
        CFI CFA R13+36
        POP      {R4-R11,PC}      ;; return
        DATA
??DrawGPRSLog_5:
        DC8      "%t "
        DC32     result3
        CFI EndBlock cfiBlock21

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable17:
        DC32     `?<Constant "\\321\\310\\321\\322\\305\\314\\300">`

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable22:
        DC32     font1

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable23:
        DC32     COLORfont1

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock22 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrawAppLog??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock22
        REQUIRE DrawAppLog

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock23 Using cfiCommon1
        CFI Function DrawAppLog
        ARM
//  495 void DrawAppLog()
//  496 {
DrawAppLog:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
//  497   WSHDR *ws=AllocWS(64);
//  498   switch(app_pos)
        LDR      R6,??DataTable34  ;; screen
        LDR      R5,??DataTable25  ;; COLORfont2
        MOV      R0,#+64
        SWI      +293
        MOV      R4,R0
        LDR      R0,[R6, #+220]
        SUBS     R0,R0,#+1
        BEQ      ??DrawAppLog_0
        SUBS     R0,R0,#+1
        BEQ      ??DrawAppLog_1
        SUBS     R0,R0,#+1
        BEQ      ??DrawAppLog_2
        POP      {R4-R9,PC}
//  499   {
//  500   case 1:
//  501     {
//  502     wsprintf(ws, link1_name);
??DrawAppLog_0:
        LDR      R1,??DrawAppLog_3  ;; link1_name
        MOV      R0,R4
        SWI      +292
//  503     DrawString(ws,pos_link2_x+3,pos_link2_y-14,pos_link2_x+Get_WS_width(ws,font2)+3,pos_link2_y+GetFontYSIZE(font2)-14,font2,0, COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R7,[R0, #+0]
        MOV      R0,R7
        SWI      +453
        MOV      R9,R0
        MOV      R1,R7
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R6, #+224]
        LDR      R2,[R6, #+228]
        PUSH     {R8}
        CFI CFA R13+32
        PUSH     {R5}
        CFI CFA R13+36
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+40
        PUSH     {R7}
        CFI CFA R13+44
        ADD      R0,R0,R1
        ADD      R3,R9,R2
        SUB      R3,R3,#+14
        PUSH     {R3}
        CFI CFA R13+48
        SUB      R2,R2,#+14
        ADD      R1,R1,#+3
        ADD      R3,R0,#+3
        B        ??DrawAppLog_4
        CFI CFA R13+28
//  504     FreeWS(ws);
//  505     }
//  506     break;
//  507   case 2:
//  508     wsprintf(ws, link2_name);
??DrawAppLog_1:
        LDR      R1,??DrawAppLog_3+0x4  ;; link2_name
        B        ??DrawAppLog_5
//  509     DrawString(ws,pos_link2_x-7,pos_link2_y-14,pos_link2_x+Get_WS_width(ws,font2)-7,pos_link2_y+GetFontYSIZE(font2)-14,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
//  510     FreeWS(ws);
//  511     break;
//  512   case 3:
//  513     wsprintf(ws, link3_name);
??DrawAppLog_2:
        LDR      R1,??DrawAppLog_3+0x8  ;; link3_name
??DrawAppLog_5:
        MOV      R0,R4
        SWI      +292
//  514     DrawString(ws,pos_link2_x-7,pos_link2_y-14,pos_link2_x+Get_WS_width(ws,font2)-7,pos_link2_y+GetFontYSIZE(font2)-14,font2,0,COLORfont2,GetPaletteAdrByColorIndex(23));
        MOV      R0,#+23
        SWI      +302
        MOV      R8,R0
        LDR      R0,??DataTable27  ;; font2
        LDR      R7,[R0, #+0]
        MOV      R0,R7
        SWI      +453
        MOV      R9,R0
        MOV      R1,R7
        MOV      R0,R4
        SWI      +520
        LDR      R1,[R6, #+224]
        LDR      R2,[R6, #+228]
        PUSH     {R8}
        CFI CFA R13+32
        PUSH     {R5}
        CFI CFA R13+36
        MOV      R3,#+0
        PUSH     {R3}
        CFI CFA R13+40
        PUSH     {R7}
        CFI CFA R13+44
        ADD      R0,R0,R1
        ADD      R3,R9,R2
        SUB      R3,R3,#+14
        PUSH     {R3}
        CFI CFA R13+48
        SUB      R2,R2,#+14
        SUB      R1,R1,#+7
        SUB      R3,R0,#+7
??DrawAppLog_4:
        MOV      R0,R4
        SWI      +332
//  515     FreeWS(ws);
        MOV      R0,R4
        SWI      +297
        ADD      SP,SP,#+20
        CFI CFA R13+28
//  516     break;
//  517   }
//  518 }
        POP      {R4-R9,PC}       ;; return
        DATA
??DrawAppLog_3:
        DC32     link1_name
        DC32     link2_name
        DC32     link3_name
        CFI EndBlock cfiBlock23

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable25:
        DC32     COLORfont2

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable27:
        DC32     font2

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock24 Using cfiCommon0
        CFI NoFunction
        THUMB
??RedrawScreen??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock24
        REQUIRE RedrawScreen
//  519 
//  520 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock25 Using cfiCommon1
        CFI Function RedrawScreen
        ARM
//  521 void RedrawScreen()
//  522 {
RedrawScreen:
        PUSH     {R4-R11,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R11 Frame(CFA, -8)
        CFI R10 Frame(CFA, -12)
        CFI R9 Frame(CFA, -16)
        CFI R8 Frame(CFA, -20)
        CFI R7 Frame(CFA, -24)
        CFI R6 Frame(CFA, -28)
        CFI R5 Frame(CFA, -32)
        CFI R4 Frame(CFA, -36)
        CFI CFA R13+36
        SUB      SP,SP,#+20
        CFI CFA R13+56
//  523   DrwImg(&screen, 0, 0, NULL, NULL);
        LDR      R4,??DataTable28  ;; screen
//  524   void *canvasdata = BuildCanvas();
        LDR      R5,??RedrawScreen_2  ;; `?<Constant "0:\\\\zbin\\\\miosd\\\\img8.png">`
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+60
        MOV      R3,#+0
        MOV      R2,R0
        MOV      R1,R0
        MOV      R0,R4
        BL       DrwImg
        SWI      +33009
        LDR      R0,??DataTable38  ;; use_plugin
        ADD      R1,R5,#+120
        STR      R1,[SP, #+16]
        ADD      R1,R5,#+72
        STR      R1,[SP, #+20]
        LDR      R11,[R0, #+0]
        LDR      R0,[R4, #+116]
        ADD      R6,R5,#+296
        ADD      R7,R5,#+272
        ADD      R8,R5,#+248
        ADD      R9,R5,#+320
        ADD      R10,R5,#+24
        ADD      R2,R5,#+48
        ADD      SP,SP,#+4
        CFI CFA R13+56
        SUB      R0,R0,#+1
        CMP      R0,#+7
        BHI      ??RedrawScreen_3
        ADR      R1,??RedrawScreen_0
        MOV      R0,R0, LSL #+1
        LDRH     R1,[R1, R0]
        ADD      PC,PC,R1, LSL #+2
        DATA
??RedrawScreen_0:
        DC16     +3,+14,+18,+14
        DC16     +177,+3,+181,+181
        ARM
//  525   switch(phase)
//  526   {
//  527   case 1:
//  528     if(use_plugin)
??RedrawScreen_4:
        CMP      R11,#+0
        BEQ      ??RedrawScreen_5
//  529     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
        LDR      R0,[R4, #+124]
        MOV      R2,R5
        SUB      R1,R0,#+20
        LDR      R0,[R4, #+120]
        SWI      +35
//  530     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
??RedrawScreen_5:
        LDR      R1,[R4, #+124]
        LDR      R0,[R4, #+120]
        MOV      R2,R10
        B        ??RedrawScreen_6
//  531     break;
//  532   case 2:
//  533     DrawImg(pos_link_x, pos_link_y, (int)"0:\\zbin\\miosd\\img2.png");
??RedrawScreen_7:
        LDR      R1,[R4, #+136]
        LDR      R0,[R4, #+132]
        SWI      +35
//  534     if(use_plugin)
        B        ??RedrawScreen_4
//  535     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
//  536     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
//  537    break;
//  538   case 3:
//  539     if(pos==5)
??RedrawScreen_8:
        LDR      R3,[R4, #+112]
        LDR      R0,[R4, #+132]
        LDR      R1,[R4, #+136]
        CMP      R3,#+5
        BNE      ??RedrawScreen_9
//  540     {
//  541       DrawImg(pos_link_x, pos_link_y, (int)"0:\\zbin\\miosd\\img2.png");
        SWI      +35
//  542     if(use_plugin)
        CMP      R11,#+0
        BEQ      ??RedrawScreen_10
//  543     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
        LDR      R0,[R4, #+124]
        MOV      R2,R5
        SUB      R1,R0,#+20
        LDR      R0,[R4, #+120]
        SWI      +35
//  544     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
??RedrawScreen_10:
        LDR      R1,[R4, #+124]
        LDR      R0,[R4, #+120]
        MOV      R2,R10
        SWI      +35
//  545     DrawImg(pos_link2_x+10, pos_link2_y, (int)"0:\\zbin\\miosd\\img6.png");
        LDR      R0,[R4, #+224]
        LDR      R2,[SP, #+16]
        LDR      R1,[R4, #+228]
        ADD      R0,R0,#+10
        SWI      +35
//  546     if(app_pos==1)DrawImg(pos_link2_x, pos_link2_y-17, (int)"0:\\zbin\\miosd\\img7.png");
        LDR      R0,[R4, #+220]
        ADD      R2,R5,#+96
        CMP      R0,#+1
        LDR      R0,[R4, #+228]
        SUB      R1,R0,#+17
        LDR      R0,[R4, #+224]
//  547     else DrawImg(pos_link2_x-10, pos_link2_y-17, (int)"0:\\zbin\\miosd\\img7.png");
        SUBNE    R0,R0,#+10
        SWI      +35
//  548     DrawAppLog();
        BL       DrawAppLog
//  549     DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img4.png"); 
        LDR      R0,[R4, #+144]
        LDR      R2,[SP, #+12]
        ADD      R1,R0,#+24
        B        ??RedrawScreen_11
//  550     }
//  551     else
//  552     {
//  553       DrawImg(pos_link_x, pos_link_y, (int)"0:\\zbin\\miosd\\img2.png");
??RedrawScreen_9:
        SWI      +35
//  554     if(use_plugin)
        CMP      R11,#+0
        BEQ      ??RedrawScreen_12
//  555     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
        LDR      R0,[R4, #+124]
        MOV      R2,R5
        SUB      R1,R0,#+20
        LDR      R0,[R4, #+120]
        SWI      +35
//  556       DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
??RedrawScreen_12:
        LDR      R1,[R4, #+124]
        LDR      R0,[R4, #+120]
        MOV      R2,R10
        SWI      +35
//  557       DrawImg(pos_msg_x+10, pos_msg_y, (int)"0:\\zbin\\miosd\\img3.png");
        LDR      R1,[R4, #+144]
        ADD      R2,R5,#+144
??RedrawScreen_11:
        LDR      R0,[R4, #+140]
//  558     }
//  559     switch(pos)
        LDR      R11,??RedrawScreen_2+0x4  ;; reboot_ref
        ADD      R0,R0,#+10
        SWI      +35
        LDR      R3,[R4, #+140]
        LDR      R2,[R4, #+112]
        LDR      R1,[R4, #+144]
        ADD      R0,R3,#+10
        MOV      R10,#+380
        CMP      R2,#+5
        BHI      ??RedrawScreen_3
        ADR      R12,??RedrawScreen_1
        LDRB     R12,[R12, R2]
        ADD      PC,PC,R12, LSL #+2
        DATA
??RedrawScreen_1:
        DC8      +1,+3,+10,+18
        DC8      +21,+23,+0,+0
        ARM
//  560     {
//  561     case 0:
//  562       DrawNaticqLog();
??RedrawScreen_13:
        BL       DrawNaticqLog
//  563       GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
??RedrawScreen_14:
        B        ??RedrawScreen_15
//  564       break;
//  565     case 1:
//  566       DrawImg(pos_msg_x+10, pos_msg_y+10, (int)"0:\\zbin\\miosd\\1.png");
??RedrawScreen_16:
        ADD      R2,R5,#+168
        ADD      R1,R1,#+10
        SWI      +35
//  567       DrawBatteryLog();
        BL       DrawBatteryLog
//  568       DrawSystemLog();
        BL       DrawSystemLog
//  569       DrawGPRSLog();
        BL       DrawGPRSLog
//  570       GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
        B        ??RedrawScreen_15
//  571       break;
//  572     case 2:
//  573       DrawImg(pos_msg_x+10, pos_msg_y, (int)"0:\\zbin\\miosd\\2.png");
??RedrawScreen_17:
        ADD      R2,R5,#+188
??RedrawScreen_18:
        SWI      +35
//  574       GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
??RedrawScreen_15:
        MOV      R2,R11
        MOV      R1,#+216
        ADD      R0,R10,R4
        SWI      +77
??RedrawScreen_19:
        ADD      SP,SP,#+20
        CFI CFA R13+36
        POP      {R4-R11,PC}
        CFI CFA R13+56
//  575       break;
//  576     case 3:
//  577       DrawImg(pos_msg_x+10, pos_msg_y, (int)"0:\\zbin\\miosd\\3.png");
??RedrawScreen_20:
        ADD      R2,R5,#+208
??RedrawScreen_21:
        SWI      +35
//  578       GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
        B        ??RedrawScreen_15
//  579       break;
//  580     case 4:
//  581       DrawImg(pos_msg_x+10, pos_msg_y, (int)"0:\\zbin\\miosd\\4.png");
??RedrawScreen_22:
        ADD      R2,R5,#+228
        B        ??RedrawScreen_18
//  582       GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
//  583       break;
//  584     case 5: 
//  585       switch(app_pos)
??RedrawScreen_23:
        LDR      R2,[R4, #+220]
        ADD      R1,R1,#+24
        SUBS     R2,R2,#+1
        BEQ      ??RedrawScreen_24
        SUBS     R2,R2,#+1
        BEQ      ??RedrawScreen_25
        SUBS     R2,R2,#+1
        BEQ      ??RedrawScreen_26
        B        ??RedrawScreen_19
//  586       {
//  587       case 1:
//  588         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img5.png"); 
??RedrawScreen_24:
        MOV      R2,R9
        SWI      +35
//  589         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app1.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R8
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+10
        SWI      +35
//  590         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app2.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R7
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+30
        SWI      +35
//  591         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app3.png");
        LDR      R0,[R4, #+144]
        MOV      R2,R6
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+50
        B        ??RedrawScreen_21
//  592         GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
//  593         break;
//  594       case 2:
//  595         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img5.png"); 
??RedrawScreen_25:
        MOV      R2,R9
        ADD      R0,R3,#+30
        SWI      +35
//  596         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app1.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R8
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+10
        SWI      +35
//  597         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app2.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R7
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+30
        SWI      +35
//  598         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app3.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R6
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+50
        B        ??RedrawScreen_18
//  599         GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
//  600         break;
//  601       case 3:
//  602         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img5.png");
??RedrawScreen_26:
        MOV      R2,R9
        ADD      R0,R3,#+50
        SWI      +35
//  603         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app1.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R8
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+10
        SWI      +35
//  604         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app2.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R7
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+30
        SWI      +35
//  605         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app3.png");
        LDR      R0,[R4, #+144]
        MOV      R2,R6
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+50
        SWI      +35
//  606         GBS_StartTimerProc(&mytmr2, 216, reboot_ref);
        B        ??RedrawScreen_15
//  607         break;
//  608       }
//  609       break;
//  610     }
//  611     break;
//  612   case 4:
//  613     DrawImg(pos_link_x, pos_link_y, (int)"0:\\zbin\\miosd\\img2.png");
//  614     if(use_plugin)
//  615     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
//  616     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
//  617     break;
//  618   case 5:
//  619     DrawImg(pos_link_x, pos_link_y, (int)"0:\\zbin\\miosd\\img2.png");
??RedrawScreen_27:
        LDR      R1,[R4, #+136]
        LDR      R0,[R4, #+132]
        SWI      +35
//  620     if(use_plugin)
        B        ??RedrawScreen_4
//  621     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
//  622     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
//  623     break;
//  624   case 6:
//  625     if(use_plugin)
//  626     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
//  627     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
//  628     break;
//  629   case 7:
//  630   case 8:
//  631     DrawImg(pos_link_x, pos_link_y, (int)"0:\\zbin\\miosd\\img2.png");
??RedrawScreen_28:
        LDR      R1,[R4, #+136]
        LDR      R0,[R4, #+132]
        SWI      +35
//  632     if(use_plugin)
        CMP      R11,#+0
        BEQ      ??RedrawScreen_29
//  633     DrawImg(pos_main_x, pos_main_y-20, (int)"0:\\zbin\\miosd\\img8.png");
        LDR      R0,[R4, #+124]
        MOV      R2,R5
        SUB      R1,R0,#+20
        LDR      R0,[R4, #+120]
        SWI      +35
//  634     DrawImg(pos_main_x, pos_main_y, (int)"0:\\zbin\\miosd\\img1.png");
??RedrawScreen_29:
        LDR      R1,[R4, #+124]
        LDR      R0,[R4, #+120]
        MOV      R2,R10
        SWI      +35
//  635     DrawImg(pos_link2_x+10, pos_link2_y, (int)"0:\\zbin\\miosd\\img6.png"); 
        LDR      R0,[R4, #+224]
        LDR      R2,[SP, #+16]
        LDR      R1,[R4, #+228]
        ADD      R0,R0,#+10
        SWI      +35
//  636     DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img4.png"); 
        LDR      R0,[R4, #+144]
        LDR      R2,[SP, #+12]
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+10
        SWI      +35
//  637     switch(app_pos)
        LDR      R0,[R4, #+220]
        SUBS     R0,R0,#+1
        BEQ      ??RedrawScreen_30
        SUBS     R0,R0,#+1
        BEQ      ??RedrawScreen_31
        SUBS     R0,R0,#+1
        BEQ      ??RedrawScreen_32
        B        ??RedrawScreen_19
//  638       {
//  639       case 1:
//  640         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img5.png"); 
??RedrawScreen_30:
        LDR      R0,[R4, #+144]
        MOV      R2,R9
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+10
        B        ??RedrawScreen_33
//  641         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app1.png"); 
//  642         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app2.png"); 
//  643         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app3.png"); 
//  644         break;
//  645       case 2:
//  646         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img5.png"); 
??RedrawScreen_31:
        LDR      R0,[R4, #+144]
        MOV      R2,R9
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+30
        B        ??RedrawScreen_33
//  647         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app1.png"); 
//  648         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app2.png"); 
//  649         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app3.png"); 
//  650         break;
//  651       case 3:
//  652         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\img5.png");
??RedrawScreen_32:
        LDR      R0,[R4, #+144]
        MOV      R2,R9
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+50
??RedrawScreen_33:
        SWI      +35
//  653         DrawImg(pos_msg_x+10, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app1.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R8
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+10
        SWI      +35
//  654         DrawImg(pos_msg_x+30, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app2.png"); 
        LDR      R0,[R4, #+144]
        MOV      R2,R7
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+30
        SWI      +35
//  655         DrawImg(pos_msg_x+50, pos_msg_y+24, (int)"0:\\zbin\\miosd\\app3.png");
        LDR      R0,[R4, #+144]
        MOV      R2,R6
        ADD      R1,R0,#+24
        LDR      R0,[R4, #+140]
        ADD      R0,R0,#+50
??RedrawScreen_6:
        SWI      +35
//  656         break;
//  657       }
//  658     break;
//  659   }
//  660 }
??RedrawScreen_3:
        ADD      SP,SP,#+20       ;; stack cleaning
        CFI CFA R13+36
        POP      {R4-R11,PC}      ;; return
        DATA
??RedrawScreen_2:
        DC32     `?<Constant "0:\\\\zbin\\\\miosd\\\\img8.png">`
        DC32     reboot_ref
        CFI EndBlock cfiBlock25

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable28:
        DC32     screen

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock26 Using cfiCommon0
        CFI NoFunction
        THUMB
??MyIDLECSM_onClose??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock26
        REQUIRE MyIDLECSM_onClose
//  661 
//  662 
//  663 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock27 Using cfiCommon1
        CFI Function MyIDLECSM_onClose
        ARM
//  664 void MyIDLECSM_onClose(CSM_RAM *data)
//  665 {
MyIDLECSM_onClose:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
//  666   extern void seqkill(void *data, void(*next_in_seq)(CSM_RAM *), void *data_to_kill, void *seqkiller);
//  667   extern void *ELF_BEGIN;
//  668   seqkill(data,old_icsm_onClose,&ELF_BEGIN,SEQKILLER_ADR());
        SWI      +33180
        LDR      R2,??DataTable44  ;; ELF_BEGIN
        MOV      R3,R0
        LDR      R0,??MyIDLECSM_onClose_0  ;; screen + 236
        LDR      R1,[R0, #+0]
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        _BF      seqkill,??seqkill??rA  ;; tailcall
        DATA
??MyIDLECSM_onClose_0:
        DC32     screen + 236
        CFI EndBlock cfiBlock27
//  669 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock28 Using cfiCommon0
        CFI NoFunction
        THUMB
??charger_c??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock28
        REQUIRE charger_c
//  670 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock29 Using cfiCommon1
        CFI Function charger_c
        ARM
//  671 void charger_c()
//  672 {
//  673   charge_s++;
charger_c:
        LDR      R0,??DataTable34  ;; screen
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        LDR      R1,[R0, #+192]
        ADD      R1,R1,#+1
//  674   if(charge_s==60){charge_s=0;charge_m++;}
        CMP      R1,#+60
        BNE      ??charger_c_0
        LDR      R2,[R0, #+188]
        MOV      R1,#+0
        ADD      R2,R2,#+1
        STR      R2,[R0, #+188]
//  675   GBS_StartTimerProc(&charger, 216, charger_c);
??charger_c_0:
        LDR      R2,??charger_c_1  ;; charger_c
        STR      R1,[R0, #+192]
        MOV      R1,#+216
        ADD      R0,R0,#+396
        SWI      +77
//  676 }
        POP      {PC}             ;; return
        DATA
??charger_c_1:
        DC32     charger_c
        CFI EndBlock cfiBlock29

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock30 Using cfiCommon0
        CFI NoFunction
        THUMB
??write_log??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock30
        REQUIRE write_log
//  677 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock31 Using cfiCommon1
        CFI Function write_log
        ARM
//  678 void write_log(int number)
//  679 {
write_log:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SUB      SP,SP,#+36
        CFI CFA R13+44
//  680       volatile int hFile = fopen("0:\\zbin\\miosd\\miosd2.file",A_ReadWrite+A_Create+A_Truncate+ A_BIN,P_READ+P_WRITE, 0);
        MOV      R3,#+0
        MOV      R4,R0
        LDR      R0,??DataTable41  ;; `?<Constant "0:\\\\zbin\\\\miosd\\\\miosd2....">`
        MOV      R2,#+384
        MOV      R1,#+2
        ORR      R1,R1,#0x8300
        SWI      +10
        STR      R0,[SP, #+0]
//  681       if(hFile!=-1)
        LDR      R0,[SP, #+0]
        CMN      R0,#+1
        BEQ      ??write_log_0
//  682       {
//  683         char writer[32];
//  684         sprintf(writer, "%d", number);
        MOV      R2,R4
        ADR      R1,??write_log_1  ;; "%d"
        ADD      R0,SP,#+4
        SWI      +22
//  685         fwrite(hFile, writer, strlen(writer), 0);
        ADD      R0,SP,#+4
        SWI      +27
        MOV      R3,#+0
        MOV      R2,R0
        LDR      R0,[SP, #+0]
        ADD      R1,SP,#+4
        SWI      +12
//  686         fclose(hFile, 0);
        LDR      R0,[SP, #+0]
        MOV      R1,#+0
        SWI      +13
//  687       }
//  688 }
??write_log_0:
        ADD      SP,SP,#+36       ;; stack cleaning
        CFI CFA R13+8
        POP      {R4,PC}          ;; return
        DATA
??write_log_1:
        DC8      "%d",+0
        CFI EndBlock cfiBlock31

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock32 Using cfiCommon0
        CFI NoFunction
        THUMB
??Count_GPRS??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock32
        REQUIRE Count_GPRS
//  689 
//  690 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock33 Using cfiCommon1
        CFI Function Count_GPRS
        ARM
//  691 void Count_GPRS()
//  692 {
Count_GPRS:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
//  693   int rewriter=0;
//  694   g_sec++;
        LDR      R4,??DataTable34  ;; screen
        LDR      R0,[R4, #+200]
//  695   if (g_sec==60){g_sec=0;g_min++;}
        LDR      R1,[R4, #+196]
        ADD      R0,R0,#+1
        CMP      R0,#+60
        MOVEQ    R0,#+0
        ADDEQ    R1,R1,#+1
        STR      R0,[R4, #+200]
//  696   if(g_min==60){g_min=0;g_hour++;}
        CMP      R1,#+60
        BNE      ??Count_GPRS_0
        LDR      R0,[R4, #+204]
        MOV      R1,#+0
        ADD      R0,R0,#+1
        STR      R0,[R4, #+204]
??Count_GPRS_0:
        STR      R1,[R4, #+196]
//  697   int r=g_min;
        CMP      R1,#+1
        BLT      ??Count_GPRS_1
//  698   while(r>0)r-=2;
??Count_GPRS_2:
        SUB      R1,R1,#+2
        CMP      R1,#+1
        BGE      ??Count_GPRS_2
//  699   if((r==0)&&(g_min!=0)&&(rewriter!=g_min)) 
??Count_GPRS_1:
        CMP      R1,#+0
        BNE      ??Count_GPRS_3
        LDR      R0,[R4, #+196]
        CMP      R0,#+0
        BEQ      ??Count_GPRS_3
//  700   {
//  701     int *trafik2 = GetGPRSTrafficPointer();
        SWI      +112
//  702     int trafiks2=(*trafik2-start_traffic)/1024;
//  703     SUBPROC((void *)write_log,trafiks2);   //latest fix
        LDR      R0,[R0, #+0]
        LDR      R1,[R4, #+164]
        SUB      R0,R0,R1
        ASR      R1,R0,#+9
        ADD      R0,R0,R1, LSR #+22
        ASR      R1,R0,#+10
        LDR      R0,??Count_GPRS_4  ;; write_log
        SWI      +369
//  704     rewriter=g_min;
//  705   }
//  706   sprintf(start_g2, "גנ. סוס.: %02d:%02d:%02d", g_hour, g_min, g_sec);
??Count_GPRS_3:
        LDR      R0,[R4, #+200]
        LDR      R1,??Count_GPRS_4+0x4  ;; `?<Constant "\\342\\360. \\361\\345\\361.: %02d:%02d`
        PUSH     {R0}
        CFI CFA R13+12
        LDR      R3,[R4, #+196]
        LDR      R2,[R4, #+204]
        ADD      R0,R4,#+336
        SWI      +22
//  707   GBS_StartTimerProc(&gipi, 216, Count_GPRS);
        LDR      R2,??Count_GPRS_4+0x8  ;; Count_GPRS
        MOV      R1,#+216
        ADD      R0,R4,#+412
        SWI      +77
//  708 }
        POP      {R0,R4,PC}       ;; return
        DATA
??Count_GPRS_4:
        DC32     write_log
        DC32     `?<Constant "\\342\\360. \\361\\345\\361.: %02d:%02d`
        DC32     Count_GPRS
        CFI EndBlock cfiBlock33

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock34 Using cfiCommon0
        CFI NoFunction
        THUMB
??MyIDLECSM_onMessage??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock34
        REQUIRE MyIDLECSM_onMessage

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock35 Using cfiCommon1
        CFI Function MyIDLECSM_onMessage
        ARM
//  709 int MyIDLECSM_onMessage(CSM_RAM* data, GBS_MSG* msg)
//  710 {
MyIDLECSM_onMessage:
        PUSH     {R4-R10,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R10 Frame(CFA, -8)
        CFI R9 Frame(CFA, -12)
        CFI R8 Frame(CFA, -16)
        CFI R7 Frame(CFA, -20)
        CFI R6 Frame(CFA, -24)
        CFI R5 Frame(CFA, -28)
        CFI R4 Frame(CFA, -32)
        CFI CFA R13+32
//  711   int csm_result;
//  712   csm_result=old_icsm_onMessage(data,msg);
        LDR      R4,??DataTable34  ;; screen
        SUB      SP,SP,#+124
        CFI CFA R13+156
        LDR      R2,[R4, #+232]
//  713   
//  714   if(msg->msg == MSG_RECONFIGURE_REQ) // ונוקטעגאםטו ךמםפטדא ןמ סממבשוםט‏
        LDR      R6,??DataTable39  ;; `?<Constant "MIOSD_mod update">`
        MOV      R9,R1
        BLX      R2
        MOV      R5,R0
        LDR      R0,[R9, #+4]
        MOV      R1,#+175
        ORR      R1,R1,#0xDE00
        CMP      R0,R1
        BNE      ??MyIDLECSM_onMessage_0
//  715   {
//  716     extern const char *successed_config_filename;
//  717     if (strcmp_nocase(successed_config_filename,(char *)msg->data0)==0)
        LDR      R0,??MyIDLECSM_onMessage_1+0x4  ;; successed_config_filename
        LDR      R1,[R9, #+12]
        LDR      R0,[R0, #+0]
        _BLF     strcmp_nocase,??strcmp_nocase??rA
        CMP      R0,#+0
        BNE      ??MyIDLECSM_onMessage_0
//  718     {
//  719       InitConfig();
        _BLF     InitConfig,??InitConfig??rA
//  720       ShowMSG(1,(int)"MIOSD_mod update");
        MOV      R1,R6
        MOV      R0,#+1
        SWI      +328
//  721     }
//  722   }
//  723 
//  724   if (msg->msg==MSG_IPC)
??MyIDLECSM_onMessage_0:
        LDR      R0,[R9, #+4]
        MOV      R7,#+1
        MOV      R8,#+0
        MOV      R1,#+176
        ORR      R1,R1,#0xDE00
        CMP      R0,R1
        BNE      ??MyIDLECSM_onMessage_2
//  725     {
//  726       IPC_REQ *ipc;
//  727       if ((ipc=(IPC_REQ*)msg->data0))
        LDR      R10,[R9, #+12]
        CMP      R10,#+0
        BEQ      ??MyIDLECSM_onMessage_2
//  728       {
//  729 	if (strcmp_nocase(ipc->name_to,ipc_my_name)==0)
        LDR      R0,[R10, #+0]
        ADD      R1,R6,#+104
        _BLF     strcmp_nocase,??strcmp_nocase??rA
        CMP      R0,#+0
//  730 	{
//  731 	  switch (msg->submess)
        LDREQ    R0,[R9, #+8]
        CMPEQ    R0,#+55
        BNE      ??MyIDLECSM_onMessage_2
//  732 	  {
//  733 	  case IPC_RECIEVE_MSG:
//  734             {
//  735               char test[64];
//  736               int len=strlen(ipc->data);
        LDR      R0,[R10, #+8]
        SWI      +27
//  737               sprintf(test,"%s",ipc->data);
        LDR      R2,[R10, #+8]
        MOV      R9,R0
        ADR      R1,??MyIDLECSM_onMessage_1  ;; "%s"
        ADD      R0,SP,#+20
        SWI      +22
//  738               test[len]='\0';
        ADD      R0,SP,#+20
        STRB     R8,[R9, +R0]
//  739               if(test[0]!='0')
        LDRB     R0,[SP, #+20]
        CMP      R0,#+48
        BEQ      ??MyIDLECSM_onMessage_3
//  740               {
//  741                 if(test[0]=='1') naticq_plugin=1;
        CMP      R0,#+49
        STREQ    R7,[R4, #+84]
        BEQ      ??MyIDLECSM_onMessage_4
//  742                 if(test[0]=='2') 
        CMP      R0,#+50
        BNE      ??MyIDLECSM_onMessage_3
//  743                 {
//  744                   naticq_plugin=0;
        STR      R8,[R4, #+84]
//  745                   sprintf(naticq_ping, "none");
        ADD      R1,R6,#+20
        ADD      R0,R4,#+68
        SWI      +22
//  746                 }
//  747               }
//  748               if(naticq_plugin)
??MyIDLECSM_onMessage_3:
        LDR      R0,[R4, #+84]
        CMP      R0,#+0
        BEQ      ??MyIDLECSM_onMessage_5
//  749               {
//  750                 if(test[1]!='0')
??MyIDLECSM_onMessage_4:
        LDRB     R0,[SP, #+21]
        CMP      R0,#+48
        BEQ      ??MyIDLECSM_onMessage_2
//  751                 {
//  752                   if(test[1]=='1');
//  753                   {
//  754                     strncpy(naticq_time,test+2,8);
        MOV      R2,#+8
        ADD      R1,SP,#+22
        ADD      R0,R4,#+52
        SWI      +278
//  755                     naticq_time[8]='\0';
        STRB     R8,[R4, #+60]
//  756                   }
//  757                   if(test[1]=='2')
        LDRB     R0,[SP, #+21]
        CMP      R0,#+50
        BNE      ??MyIDLECSM_onMessage_2
//  758                   {
//  759                     strncpy(naticq_time,test+2,8);
        MOV      R2,#+8
        ADD      R1,SP,#+22
        ADD      R0,R4,#+52
        SWI      +278
//  760                     naticq_time[8]='\0';
        STRB     R8,[R4, #+60]
//  761                     strncpy(naticq_ping,test+10,6);
        MOV      R2,#+6
        ADD      R1,SP,#+30
        ADD      R0,R4,#+68
        SWI      +278
//  762                     naticq_ping[6]='\0';
        STRB     R8,[R4, #+74]
//  763                   }
//  764                 }
//  765               }
//  766             }
//  767 	    break;
//  768           }
//  769         }
//  770       }
//  771     }
//  772   if(rem_mis!=GetMissedEventCount(0))
??MyIDLECSM_onMessage_2:
        MOV      R0,#+0
??MyIDLECSM_onMessage_5:
        SWI      +158
        LDR      R1,[R4, #+208]
        CMP      R1,R0
        BEQ      ??MyIDLECSM_onMessage_6
//  773   {
//  774     if(GetMissedEventCount(0)<rem_mis) rem_mis=GetMissedEventCount(0);
        MOV      R0,#+0
        SWI      +158
        LDR      R1,[R4, #+208]
        CMP      R0,R1
        MOV      R0,R8
        BGE      ??MyIDLECSM_onMessage_7
        SWI      +158
        STR      R0,[R4, #+208]
        B        ??MyIDLECSM_onMessage_6
//  775     else
//  776     {
//  777       rem_mis=GetMissedEventCount(0);
??MyIDLECSM_onMessage_7:
        SWI      +158
        STR      R0,[R4, #+208]
//  778       if(engade_mis) GBS_StartTimerProc(&missedt, 216*3, start_timerize);
        LDR      R0,??MyIDLECSM_onMessage_1+0x8  ;; engade_mis
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        BEQ      ??MyIDLECSM_onMessage_6
        LDR      R2,??MyIDLECSM_onMessage_1+0xC  ;; start_timerize
        LDR      R0,??MyIDLECSM_onMessage_1+0x10  ;; missedt
        MOV      R1,#+648
        SWI      +77
//  779     }
//  780   }
//  781   if((IsGPRSConnected())&&(first_con))
??MyIDLECSM_onMessage_6:
        SWI      +168
        CMP      R0,#+0
        LDRNE    R0,[R4, #+212]
        CMPNE    R0,#+0
        BEQ      ??MyIDLECSM_onMessage_8
//  782   {
//  783   int *trafik = GetGPRSTrafficPointer();
//  784   start_traffic=*trafik;
        SWI      +112
        LDR      R0,[R0, #+0]
//  785 
//  786   g_min=0;
        STR      R8,[R4, #+196]
        STR      R0,[R4, #+164]
//  787   g_sec=0;
        STR      R8,[R4, #+200]
//  788   g_hour=0;
        STR      R8,[R4, #+204]
//  789   GBS_DelTimer(&gipi);
        ADD      R0,R4,#+412
        SWI      +396
//  790   Count_GPRS();
        BL       Count_GPRS
//  791   first_con=0;
        STR      R8,[R4, #+212]
//  792   }
//  793   if(!IsGPRSConnected()) first_con=1;
??MyIDLECSM_onMessage_8:
        SWI      +168
        CMP      R0,#+0
        STREQ    R7,[R4, #+212]
//  794   if(GetAccessoryType()==13) 
        SWI      +136
        CMP      R0,#+13
        LDR      R0,[R4, #+184]
        BNE      ??MyIDLECSM_onMessage_9
//  795   {
//  796     if(!con) 
        CMP      R0,#+0
        BNE      ??MyIDLECSM_onMessage_10
//  797     {
//  798       charge_s=0;
        STR      R8,[R4, #+192]
//  799       charge_m=0;
        STR      R8,[R4, #+188]
//  800       charger_c();
        BL       charger_c
//  801       con=1;
        STR      R7,[R4, #+184]
//  802     }
//  803     sprintf(chinfo, "Charging(%dmin)", charge_m);
??MyIDLECSM_onMessage_10:
        LDR      R2,[R4, #+188]
        ADD      R1,R6,#+28
        ADD      R0,R4,#+240
        SWI      +22
        MOV      R0,R5
        ADD      SP,SP,#+124
        CFI CFA R13+32
        POP      {R4-R10,PC}
        CFI CFA R13+156
//  804   }
//  805   else 
//  806   {
//  807     if(con)
??MyIDLECSM_onMessage_9:
        CMP      R0,#+0
        BEQ      ??MyIDLECSM_onMessage_11
//  808     {
//  809       GBS_DelTimer(&charger);
        ADD      R0,R4,#+396
        SWI      +396
//  810       TTime time;
//  811       TDate date;
//  812       GetDateTime(&date, &time);
        ADD      R1,SP,#+4
        ADD      R0,SP,#+12
        SWI      +180
//  813       sprintf(chinfo, "%02d:%02d, %02d-%02d", time.hour, time.min, date.month, date.day);
        LDRB     R0,[SP, #+17]
        ADD      R1,R6,#+44
        PUSH     {R0}
        CFI CFA R13+160
        LDRB     R0,[SP, #+20]
        PUSH     {R0}
        CFI CFA R13+164
        LDRB     R3,[SP, #+13]
        LDRB     R2,[SP, #+12]
        ADD      R0,R4,#+240
        SWI      +22
//  814       FSTATS stat;
//  815       GetFileStats("0:\\zbin\\miosd\\miosd.file",&stat,0);
        MOV      R2,#+0
        ADD      R1,SP,#+92
        ADD      R0,R6,#+68
        SWI      +132
//  816       volatile int hFile = fopen("0:\\zbin\\miosd\\miosd.file",A_ReadWrite+A_Create+A_Truncate+ A_BIN,P_READ+P_WRITE, 0);
        MOV      R3,R8
        MOV      R2,#+384
        MOV      R1,#+2
        ORR      R1,R1,#0x8300
        ADD      R0,R6,#+68
        SWI      +10
        STR      R0,[SP, #+8]
//  817       if(hFile!=-1)
        LDR      R0,[SP, #+8]
        ADD      SP,SP,#+8
        CFI CFA R13+156
        CMN      R0,#+1
        BEQ      ??MyIDLECSM_onMessage_12
//  818       {
//  819         fwrite(hFile, chinfo, strlen(chinfo), 0);
        ADD      R0,R4,#+240
        SWI      +27
        MOV      R2,R0
        LDR      R0,[SP, #+0]
        MOV      R3,#+0
        ADD      R1,R4,#+240
        SWI      +12
//  820         fclose(hFile, 0);
        LDR      R0,[SP, #+0]
        MOV      R1,R8
        SWI      +13
//  821       }
//  822       con=0;
??MyIDLECSM_onMessage_12:
        STR      R8,[R4, #+184]
//  823     }
//  824   }
//  825   return(csm_result);
??MyIDLECSM_onMessage_11:
        MOV      R0,R5
        ADD      SP,SP,#+124
        CFI CFA R13+32
        POP      {R4-R10,PC}      ;; return
        DATA
??MyIDLECSM_onMessage_1:
        DC8      "%s",+0
        DC32     successed_config_filename
        DC32     engade_mis
        DC32     start_timerize
        DC32     missedt
        CFI EndBlock cfiBlock35
//  826 }  

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable34:
        DC32     screen

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock36 Using cfiCommon0
        CFI NoFunction
        THUMB
??my_keyhook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock36
        REQUIRE my_keyhook
//  827 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock37 Using cfiCommon1
        CFI Function my_keyhook
        ARM
//  828 int my_keyhook(int submsg, int msg)
//  829 {
my_keyhook:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
        MOV      R4,R0
        MOV      R8,R1
//  830   if((submsg==9)&&(IsIdleUiOnTop())&&(IsUnlocked()))Execute();
        CMP      R4,#+9
        BNE      ??my_keyhook_1
        SWI      +197
        CMP      R0,#+0
        BEQ      ??my_keyhook_1
        SWI      +67
        CMP      R0,#+0
        BEQ      ??my_keyhook_1
        BL       Execute
//  831   if(submsg==CALL_BUTTON2) 
??my_keyhook_1:
        LDR      R0,??my_keyhook_2  ;; CALL_BUTTON2
        MOV      R5,#+1
        LDR      R0,[R0, #+0]
        CMP      R4,R0
        BNE      ??my_keyhook_3
//  832   {
//  833     alt_state=1;
        LDR      R0,??my_keyhook_2+0x4  ;; alt_state
        STR      R5,[R0, #+0]
//  834     process_missed();
        _BLF     process_missed,??process_missed??rA
//  835   }
//  836   if (submsg!=CALL_BUTTON) return(0);
??my_keyhook_3:
        LDR      R0,??my_keyhook_2+0x8  ;; CALL_BUTTON
        LDR      R2,[R0, #+0]
        CMP      R4,R2
        MOVNE    R0,#+0
        POPNE    {R4-R9,PC}
//  837   switch(msg)
        LDR      R6,??DataTable47  ;; screen
        MOV      R0,#+9
        LDR      R1,[R6, #+108]
        LDR      R3,[R6, #+104]
        ORR      R0,R0,#0x4200
        MOV      R9,#+147
        ORR      R9,R9,#0x100
        MOV      R7,#+0
        CMP      R8,R9
        BEQ      ??my_keyhook_4
        CMP      R8,#+404
        BEQ      ??my_keyhook_5
        ORR      LR,R5,#0x194
        CMP      R8,LR
        BEQ      ??my_keyhook_6
        B        ??my_keyhook_7
//  838   {
//  839   case KEY_DOWN:
//  840     if (mode_enter==2)
??my_keyhook_4:
        CMP      R3,#+2
        BNE      ??my_keyhook_8
//  841     {
//  842       GBS_SendMessage(MMI_CEPID,KEY_UP,CALL_BUTTON);
        MOV      R1,#+404
        SWI      +256
//  843       return (0);
        MOV      R0,#+0
        POP      {R4-R9,PC}
//  844     }
//  845     mode_enter=0;
??my_keyhook_8:
        STR      R7,[R6, #+104]
//  846     return (2);
        B        ??my_keyhook_9
//  847   case KEY_UP:
//  848     if (mode==1)mode=0;
??my_keyhook_5:
        CMP      R1,#+1
        STREQ    R7,[R6, #+108]
//  849     if (!mode_enter)
        CMP      R3,#+0
        BNE      ??my_keyhook_10
//  850     {
//  851       mode_enter=2;
        MOV      R1,#+2
        STR      R1,[R6, #+104]
//  852       GBS_SendMessage(MMI_CEPID,KEY_DOWN,CALL_BUTTON);
        MOV      R1,R9
        SWI      +256
//  853       return (2);
??my_keyhook_11:
        MOV      R0,#+2
        POP      {R4-R9,PC}
//  854     }
//  855     if (mode_enter==2)
??my_keyhook_10:
        CMP      R3,#+2
        BNE      ??my_keyhook_8
//  856     {
//  857       mode_enter=0;
        STR      R7,[R6, #+104]
//  858       return (0);
        MOV      R0,#+0
        POP      {R4-R9,PC}
//  859     }
//  860     mode_enter=0;
//  861     return (2);      
//  862   case LONG_PRESS:
//  863     mode_enter=1;
??my_keyhook_6:
        STR      R5,[R6, #+104]
//  864     if (!mode&&IsUnlocked()&&(!IsIdleUiOnTop())) Execute();
        CMP      R1,#+0
        BNE      ??my_keyhook_12
        SWI      +67
        CMP      R0,#+0
        BEQ      ??my_keyhook_12
        SWI      +197
        CMP      R0,#+0
        BNE      ??my_keyhook_12
        BL       Execute
//  865     mode=1;
??my_keyhook_12:
        STR      R5,[R6, #+108]
//  866     break;
//  867   }
//  868   if(lock_keys)
??my_keyhook_7:
        LDR      R0,[R6, #+128]
        CMP      R0,#+0
        BEQ      ??my_keyhook_11
//  869   {
//  870     DirectRedrawGUI();
        SWI      +319
//  871    if (msg==KEY_DOWN)
        CMP      R8,R9
        BNE      ??my_keyhook_11
//  872   {          
//  873     switch(submsg)
        LDR      R0,[R6, #+220]
        LDR      R1,[R6, #+112]
        MOV      R2,#+8
        MOV      R8,#+5
        MOV      R3,#+380
        SUB      R4,R4,#+4
        CMP      R4,#+58
        BHI      ??my_keyhook_11
        ADR      R9,??my_keyhook_0
        LDRB     R9,[R9, R4]
        ADD      PC,PC,R9, LSL #+2
        DATA
??my_keyhook_0:
        DC8      +21,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+60,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+51,+51,+51
        DC8      +51,+14,+51,+51
        DC8      +51,+51,+51,+109
        DC8      +89,+33,+40,+0
        ARM
//  874     {
//  875     case 0x35:
//  876       if(pos==1)
??my_keyhook_13:
        CMP      R1,#+1
        BNE      ??my_keyhook_11
//  877       {
//  878         ffq=1;
        STR      R5,[R6, #+168]
//  879         GBS_DelTimer(&mytmr2);
        ADD      R0,R3,R6
        SWI      +396
//  880 
//  881       DirectRedrawGUI();
        SWI      +319
//  882       }
//  883       break;
//  884       case RIGHT_SOFT:
//  885       if(key_mode==1) goto set1;
//  886       else goto set2;
//  887       case LEFT_BUTTON:
//  888         if((pos==5)&&(app_pos>1))
//  889         {
//  890           app_pos--;
//  891           lock_keys=0;
//  892           phase=8;
//  893           DoShowIt();
//  894         }
//  895         else
//  896         {
//  897         set1:
//  898           ffq=1;
//  899           GBS_DelTimer(&mytmr2);
//  900           if(key_mode==1)
//  901           {
//  902       lock_keys=0;
//  903       phase=5;
//  904       DoShowIt();
//  905           }
//  906         }
//  907       break;
//  908       case RIGHT_BUTTON:
//  909         if(pos==5)
//  910         {
//  911           app_pos++;
//  912           if(app_pos==4) app_pos--;
//  913           else
//  914           {
//  915             lock_keys=0;
//  916             phase=8;
//  917             DoShowIt();
//  918           }
//  919         }
//  920         else
//  921         {
//  922         set2:
//  923           ffq=1;
//  924           GBS_DelTimer(&mytmr2);
//  925           if(key_mode==2)
//  926           {
//  927       lock_keys=0;
//  928       phase=5;
//  929       DoShowIt();
//  930           }
//  931         }
//  932       break;
//  933     case ENTER_BUTTON:
//  934       if(pos==5)
//  935       {
//  936         WSHDR *elfname=AllocWS(256);
//  937         switch(app_pos)
//  938         {
//  939         case 1:
//  940           app_pos=1;
//  941           wsprintf(elfname, link1);
//  942           ExecuteFile(elfname,NULL,NULL);
//  943           FreeWS(elfname);
//  944           return(1);
//  945         case 2:
//  946           app_pos=1;
//  947           wsprintf(elfname, link2);
//  948           ExecuteFile(elfname,NULL,NULL);
//  949           FreeWS(elfname);
//  950           return(1);
//  951         case 3:
//  952           app_pos=1;
//  953           wsprintf(elfname, link3);
//  954           ExecuteFile(elfname,NULL,NULL);
//  955           FreeWS(elfname);
//  956           return(1);
//  957         }
//  958       }
//  959       break;
//  960     case DOWN_BUTTON:
//  961       {
//  962         ffq=1;
//  963         GBS_DelTimer(&mytmr2);
//  964         pos++;
//  965         if(use_plugin)
//  966         {
//  967         if (pos==6) pos=0;
//  968         }
//  969         else
//  970         {
//  971           if (pos==6) pos=1;
//  972         }
//  973         lock_keys=0;
//  974         phase=4;
//  975         DoShowIt();
//  976       }
//  977         break;
//  978     case UP_BUTTON:
//  979        {
//  980          ffq=1;
//  981          GBS_DelTimer(&mytmr2);
//  982           pos--;
//  983           if(use_plugin)
//  984           {
//  985           if (pos==-1) pos=5;
//  986           }
//  987           else
//  988           {
//  989             if (pos==0) pos=5;
//  990           }
//  991           lock_keys=0;
//  992           phase=4;
//  993           DoShowIt();
//  994        }
//  995         break;        
//  996     }
//  997   }
//  998   }
//  999 return(2); 
??my_keyhook_14:
        B        ??my_keyhook_9
??my_keyhook_15:
        LDR      R0,[R6, #+216]
        CMP      R0,#+1
        BNE      ??my_keyhook_16
??my_keyhook_17:
        STR      R5,[R6, #+168]
        ADD      R0,R3,R6
        SWI      +396
        LDR      R0,[R6, #+216]
        CMP      R0,#+1
        BNE      ??my_keyhook_11
??my_keyhook_18:
        STR      R7,[R6, #+128]
        STR      R8,[R6, #+116]
        B        ??my_keyhook_19
??my_keyhook_20:
        CMP      R1,#+5
        BNE      ??my_keyhook_17
        CMP      R0,#+2
        BLT      ??my_keyhook_17
        SUB      R0,R0,#+1
        STR      R0,[R6, #+220]
        B        ??my_keyhook_21
??my_keyhook_22:
        CMP      R1,#+5
        BNE      ??my_keyhook_16
        ADD      R0,R0,#+1
        STR      R0,[R6, #+220]
        CMP      R0,#+4
        MOVEQ    R0,#+3
        STREQ    R0,[R6, #+220]
        BEQ      ??my_keyhook_11
??my_keyhook_21:
        STR      R7,[R6, #+128]
        STR      R2,[R6, #+116]
??my_keyhook_19:
        BL       DoShowIt
??my_keyhook_9:
        MOV      R0,#+2
        POP      {R4-R9,PC}
??my_keyhook_16:
        STR      R5,[R6, #+168]
        ADD      R0,R3,R6
        SWI      +396
        LDR      R0,[R6, #+216]
        CMP      R0,#+2
        BNE      ??my_keyhook_11
        B        ??my_keyhook_18
??my_keyhook_23:
        CMP      R1,#+5
        BNE      ??my_keyhook_11
        MOV      R0,#+256
        SWI      +293
        MOV      R4,R0
        LDR      R0,[R6, #+220]
        SUBS     R0,R0,#+1
        BEQ      ??my_keyhook_24
        SUBS     R0,R0,#+1
        BEQ      ??my_keyhook_25
        SUBS     R0,R0,#+1
        BEQ      ??my_keyhook_26
        B        ??my_keyhook_9
??my_keyhook_24:
        LDR      R1,??my_keyhook_2+0xC  ;; link1
        B        ??my_keyhook_27
??my_keyhook_25:
        LDR      R1,??my_keyhook_2+0x10  ;; link2
??my_keyhook_27:
        STR      R5,[R6, #+220]
        MOV      R0,R4
        SWI      +292
        MOV      R2,#+0
        MOV      R1,R2
        MOV      R0,R4
        SWI      +148
        MOV      R0,R4
        SWI      +297
        MOV      R0,R5
        POP      {R4-R9,PC}
??my_keyhook_26:
        LDR      R1,??my_keyhook_2+0x14  ;; link3
        B        ??my_keyhook_27
??my_keyhook_28:
        STR      R5,[R6, #+168]
        ADD      R0,R3,R6
        SWI      +396
        LDR      R1,??DataTable38  ;; use_plugin
        LDR      R0,[R6, #+112]
        LDR      R1,[R1, #+0]
        ADD      R0,R0,#+1
        STR      R0,[R6, #+112]
        CMP      R1,#+0
        BEQ      ??my_keyhook_29
        CMP      R0,#+6
        BNE      ??my_keyhook_30
        STR      R7,[R6, #+112]
        B        ??my_keyhook_30
??my_keyhook_29:
        CMP      R0,#+6
        STREQ    R5,[R6, #+112]
??my_keyhook_30:
        STR      R7,[R6, #+128]
        MOV      R0,#+4
        STR      R0,[R6, #+116]
        B        ??my_keyhook_19
??my_keyhook_31:
        STR      R5,[R6, #+168]
        ADD      R0,R3,R6
        SWI      +396
        LDR      R1,??DataTable38  ;; use_plugin
        LDR      R0,[R6, #+112]
        LDR      R1,[R1, #+0]
        SUB      R0,R0,#+1
        STR      R0,[R6, #+112]
        CMP      R1,#+0
        BEQ      ??my_keyhook_32
        CMN      R0,#+1
??my_keyhook_33:
        BNE      ??my_keyhook_30
        STR      R8,[R6, #+112]
        B        ??my_keyhook_30
??my_keyhook_32:
        CMP      R0,#+0
        B        ??my_keyhook_33
        DATA
??my_keyhook_2:
        DC32     CALL_BUTTON2
        DC32     alt_state
        DC32     CALL_BUTTON
        DC32     link1
        DC32     link2
        DC32     link3
        CFI EndBlock cfiBlock37
// 1000 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable38:
        DC32     use_plugin

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock38 Using cfiCommon0
        CFI NoFunction
        THUMB
??check_battery??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock38
        REQUIRE check_battery

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock39 Using cfiCommon1
        CFI Function check_battery
        ARM
// 1001 void check_battery()
// 1002 {
check_battery:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
// 1003   volatile int hFile_ex = fopen("0:\\zbin\\miosd\\miosd.file",A_ReadOnly + A_BIN,P_READ, 0);
        LDR      R5,??DataTable39  ;; `?<Constant "MIOSD_mod update">`
        SUB      SP,SP,#+44
        CFI CFA R13+60
        MOV      R3,#+0
        MOV      R2,#+128
        MOV      R1,#+32768
// 1004   if(hFile_ex!=-1)
        LDR      R4,??DataTable47  ;; screen
        ADD      R0,R5,#+68
        SWI      +10
        STR      R0,[SP, #+0]
        LDR      R0,[SP, #+0]
        CMN      R0,#+1
        BEQ      ??check_battery_0
// 1005   {
// 1006    fclose(hFile_ex, 0);
        LDR      R0,[SP, #+0]
        MOV      R1,#+0
        SWI      +13
// 1007     FSTATS stat;
// 1008     GetFileStats("0:\\zbin\\miosd\\miosd.file",&stat,0);
        MOV      R2,#+0
        ADD      R1,SP,#+4
        ADD      R0,R5,#+68
        SWI      +132
// 1009     if(stat.size>0)
        LDR      R0,[SP, #+8]
        CMP      R0,#+0
        BEQ      ??check_battery_1
// 1010     {
// 1011       int f=fopen("0:\\zbin\\miosd\\miosd.file",A_ReadOnly+A_BIN,P_READ,0);
        MOV      R3,#+0
        MOV      R2,#+128
        MOV      R1,#+32768
        ADD      R0,R5,#+68
        SWI      +10
        MOV      R5,R0
// 1012       char *p=malloc(stat.size);
        LDR      R0,[SP, #+8]
        SWI      +20
// 1013       p[fread(f,p,stat.size,0)];
        LDR      R2,[SP, #+8]
        MOV      R6,R0
        MOV      R3,#+0
        MOV      R1,R6
        MOV      R0,R5
        SWI      +11
// 1014       fclose(f,0);
        MOV      R1,#+0
        MOV      R0,R5
        SWI      +13
// 1015       strcpy(chinfo, p);
        MOV      R1,R6
        ADD      R0,R4,#+240
        SWI      +26
// 1016       chinfo[stat.size]='\0';
        LDR      R0,[SP, #+8]
        MOV      R1,#+0
        ADD      R0,R0,R4
        STRB     R1,[R0, #+240]
// 1017       mfree(p);
        MOV      R0,R6
        SWI      +21
        ADD      SP,SP,#+44
        CFI CFA R13+16
        POP      {R4-R6,PC}
        CFI CFA R13+60
// 1018     }
// 1019   }
// 1020   else
// 1021     sprintf(chinfo, "Never");
??check_battery_0:
        ADD      R1,R5,#+96
        ADD      R0,R4,#+240
        SWI      +22
// 1022 }
??check_battery_1:
        ADD      SP,SP,#+44       ;; stack cleaning
        CFI CFA R13+16
        POP      {R4-R6,PC}       ;; return
        CFI EndBlock cfiBlock39

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable39:
        DC32     `?<Constant "MIOSD_mod update">`

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock40 Using cfiCommon0
        CFI NoFunction
        THUMB
??check_gprs??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock40
        REQUIRE check_gprs
// 1023 
// 1024 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock41 Using cfiCommon1
        CFI Function check_gprs
        ARM
// 1025 void check_gprs()
// 1026 {
check_gprs:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
// 1027   volatile int hFile_ex = fopen("0:\\zbin\\miosd\\miosd2.file",A_ReadOnly + A_BIN,P_READ, 0);
        LDR      R6,??DataTable41  ;; `?<Constant "0:\\\\zbin\\\\miosd\\\\miosd2....">`
        SUB      SP,SP,#+44
        CFI CFA R13+64
        MOV      R3,#+0
        MOV      R2,#+128
        MOV      R1,#+32768
// 1028   if(hFile_ex!=-1)
        LDR      R5,??DataTable47  ;; screen
        MOV      R0,R6
        SWI      +10
        STR      R0,[SP, #+0]
        LDR      R0,[SP, #+0]
        MOV      R4,#+272
        CMN      R0,#+1
        BEQ      ??check_gprs_0
// 1029   {
// 1030    fclose(hFile_ex, 0);
        LDR      R0,[SP, #+0]
        MOV      R1,#+0
        SWI      +13
// 1031     FSTATS stat;
// 1032     GetFileStats("0:\\zbin\\miosd\\miosd2.file",&stat,0);
        MOV      R2,#+0
        ADD      R1,SP,#+4
        MOV      R0,R6
        SWI      +132
// 1033     if(stat.size>0)
        LDR      R0,[SP, #+8]
        CMP      R0,#+0
        BEQ      ??check_gprs_1
// 1034     {
// 1035       int f=fopen("0:\\zbin\\miosd\\miosd2.file",A_ReadOnly+A_BIN,P_READ,0);
        MOV      R3,#+0
        MOV      R2,#+128
        MOV      R1,#+32768
        MOV      R0,R6
        SWI      +10
        MOV      R7,R0
// 1036       char *p=malloc(stat.size);
        LDR      R0,[SP, #+8]
        SWI      +20
// 1037       p[fread(f,p,stat.size,0)];
        LDR      R2,[SP, #+8]
        MOV      R6,R0
        MOV      R3,#+0
        MOV      R1,R6
        MOV      R0,R7
        SWI      +11
// 1038       fclose(f,0);
        MOV      R1,#+0
        MOV      R0,R7
        SWI      +13
// 1039       strcpy(gpinfo, p);
        MOV      R1,R6
        ADD      R0,R4,R5
        SWI      +26
// 1040       gpinfo[stat.size]='\0';
        LDR      R0,[SP, #+8]
        MOV      R1,#+0
        ADD      R0,R0,R5
        STRB     R1,[R0, #+272]
// 1041       mfree(p);
        MOV      R0,R6
        SWI      +21
// 1042       isfile=1;
        MOV      R0,#+1
        STR      R0,[R5, #+172]
// 1043       write_total();
        _BLF     write_total,??write_total??rA
        ADD      SP,SP,#+44
        CFI CFA R13+20
        POP      {R4-R7,PC}
        CFI CFA R13+64
// 1044     }
// 1045   }
// 1046   else
// 1047     sprintf(gpinfo, "Unknown");
??check_gprs_0:
        ADD      R1,R6,#+28
        ADD      R0,R4,R5
        SWI      +22
// 1048 }
??check_gprs_1:
        ADD      SP,SP,#+44       ;; stack cleaning
        CFI CFA R13+20
        POP      {R4-R7,PC}       ;; return
        CFI EndBlock cfiBlock41

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable41:
        DC32     `?<Constant "0:\\\\zbin\\\\miosd\\\\miosd2....">`

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock42 Using cfiCommon0
        CFI NoFunction
        THUMB
??runtime_count??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock42
        REQUIRE runtime_count
// 1049 
// 1050 
// 1051 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock43 Using cfiCommon1
        CFI Function runtime_count
        ARM
// 1052 void runtime_count()
// 1053 {
// 1054   r_s++;
runtime_count:
        LDR      R0,??DataTable47  ;; screen
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        LDR      R1,[R0, #+92]
// 1055  if(r_s>=60){r_s=0;r_m++;}
        LDR      R2,[R0, #+96]
        ADD      R1,R1,#+1
        CMP      R1,#+60
        MOVGE    R1,#+0
        ADDGE    R2,R2,#+1
        STR      R1,[R0, #+92]
// 1056  if(r_m>=60){r_m=0;r_h++;}
        CMP      R2,#+60
        BLT      ??runtime_count_0
        LDR      R1,[R0, #+100]
        MOV      R2,#+0
        ADD      R1,R1,#+1
        STR      R1,[R0, #+100]
??runtime_count_0:
        STR      R2,[R0, #+96]
// 1057  GBS_StartTimerProc(&rs_tmr, 216, runtime_count);
        LDR      R2,??runtime_count_1  ;; runtime_count
        MOV      R1,#+216
        ADD      R0,R0,#+304
        SWI      +77
// 1058 }
        POP      {PC}             ;; return
        DATA
??runtime_count_1:
        DC32     runtime_count
        CFI EndBlock cfiBlock43

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock44 Using cfiCommon0
        CFI NoFunction
        THUMB
??Killer??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock44
        REQUIRE Killer
// 1059 
// 1060 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock45 Using cfiCommon1
        CFI Function Killer
        ARM
// 1061 static void Killer(void)
// 1062 {
Killer:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
// 1063   extern void *ELF_BEGIN;
// 1064   kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
        SWI      +32789
        MOV      R1,R0
        LDR      R0,??DataTable44  ;; ELF_BEGIN
        POP      {LR}             ;; Pop
        CFI ?RET R14
        CFI CFA R13+0
        _BF      kill_data,??kill_data??rA  ;; tailcall
        CFI EndBlock cfiBlock45
// 1065 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable44:
        DC32     ELF_BEGIN

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock46 Using cfiCommon0
        CFI NoFunction
        THUMB
??maincsm_onclose??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock46
        REQUIRE maincsm_onclose
// 1066 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock47 Using cfiCommon1
        CFI Function maincsm_onclose
        ARM
// 1067 static void maincsm_onclose(CSM_RAM *csm)
// 1068 {
maincsm_onclose:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
// 1069   GBS_DelTimer(&rs_tmr);
        LDR      R4,??DataTable45  ;; screen
        ADD      R0,R4,#+304
        SWI      +396
// 1070   mfree(screen.bitmap);
        LDR      R0,[R4, #+8]
        SWI      +21
// 1071   SUBPROC((void *)Killer);
        LDR      R0,??maincsm_onclose_0  ;; Killer
        SWI      +369
// 1072 }
        POP      {R4,PC}          ;; return
        DATA
??maincsm_onclose_0:
        DC32     Killer
        CFI EndBlock cfiBlock47

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable45:
        DC32     screen

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock48 Using cfiCommon0
        CFI NoFunction
        THUMB
??UpdateCSMname??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock48
        REQUIRE UpdateCSMname
// 1073 

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
// 1074 static unsigned short maincsm_name_body[140];
maincsm_name_body:
        DS8 280
// 1075 
// 1076 static const struct
// 1077 {
// 1078   CSM_DESC maincsm;
// 1079   WSHDR maincsm_name;

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "MIOSD">`:
        DATA
        DC8 "MIOSD"
        DC8 0, 0
        DC32 maincsm_onmessage, maincsm_oncreate, 0, 0, 0, 0, maincsm_onclose
        DC32 40, 1, minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0
        DC16 139
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(0)
`?<Constant "">`:
        DATA
        DC8 ""

        RSEG DATA_C:CONST:SORT:NOROOT(2)
        DATA
        DC8 "%t:"

        RSEG DATA_C:CONST:SORT:NOROOT(2)
minus11:
        DATA
        DC32 -11
// 1080 }MAINCSM =
// 1081 {
// 1082   {
// 1083   maincsm_onmessage,
// 1084   maincsm_oncreate,
// 1085 #ifdef NEWSGOLD
// 1086   0,
// 1087   0,
// 1088   0,
// 1089   0,
// 1090 #endif
// 1091   maincsm_onclose,
// 1092   sizeof(MAIN_CSM),
// 1093   1,
// 1094   &minus11
// 1095   },
// 1096   {
// 1097     maincsm_name_body,
// 1098     NAMECSM_MAGIC1,
// 1099     NAMECSM_MAGIC2,
// 1100     0x0,
// 1101     139
// 1102   }
// 1103 };
// 1104 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock49 Using cfiCommon1
        CFI Function UpdateCSMname
        ARM
// 1105 void UpdateCSMname(void)
// 1106 {
// 1107   wsprintf((WSHDR *)(&MAINCSM.maincsm_name),"MIOSD");
UpdateCSMname:
        LDR      R0,??UpdateCSMname_0  ;; `?<Constant "MIOSD">`
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        MOV      R1,R0
        ADD      R0,R0,#+48
        SWI      +292
// 1108 }
        POP      {PC}             ;; return
        DATA
??UpdateCSMname_0:
        DC32     `?<Constant "MIOSD">`
        CFI EndBlock cfiBlock49

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock50 Using cfiCommon0
        CFI NoFunction
        THUMB
??Execute??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock50
        REQUIRE Execute
// 1109 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock51 Using cfiCommon1
        CFI Function Execute
        ARM
// 1110 void Execute()
// 1111 {
Execute:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
// 1112   LockSched();
        SWI      +326
// 1113   UpdateCSMname();
        BL       UpdateCSMname
// 1114   UnlockSched();
        SWI      +327
// 1115   lock_keys=0;
        LDR      R0,??DataTable47  ;; screen
        MOV      R1,#+0
        STR      R1,[R0, #+128]
// 1116   phase=1;
// 1117   ker_state=1;
// 1118   pos_main_x=-20;
// 1119   pos_main_y=50;
// 1120   pos_link_x=0;
        STR      R1,[R0, #+132]
// 1121   pos_link_y=pos_main_y-12+(pos*20);
        LDR      R1,[R0, #+112]
        MVN      R3,#+19
        STR      R3,[R0, #+120]
        MOV      R3,#+50
        STR      R3,[R0, #+124]
        MOV      R3,#+20
        MUL      R1,R3,R1
        MOV      R2,#+1
        STR      R2,[R0, #+116]
        STR      R2,[R0, #+88]
        ADD      R1,R1,#+38
        STR      R1,[R0, #+136]
// 1122   pos_msg_x=21;
        MOV      R1,#+21
        STR      R1,[R0, #+140]
// 1123   key_mode=1;
        STR      R2,[R0, #+216]
// 1124   DoScreen();
        BL       DoScreen
// 1125   DoShowIt();
        BL       DoShowIt
// 1126 }
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock51

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock52 Using cfiCommon0
        CFI NoFunction
        THUMB
??main??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock52
        REQUIRE main
// 1127 
// 1128 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock53 Using cfiCommon1
        CFI Function main
        ARM
// 1129 int main()
// 1130 {
main:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        SUB      SP,SP,#+40
        CFI CFA R13+52
// 1131   InitConfig();
        _BLF     InitConfig,??InitConfig??rA
// 1132   CSM_RAM *save_cmpc;
// 1133   char dummy[sizeof(MAIN_CSM)];
// 1134   UpdateCSMname();  
        BL       UpdateCSMname
// 1135   LockSched();
        SWI      +326
// 1136   save_cmpc=CSM_root()->csm_q->current_msg_processing_csm;
        SWI      +33030
        LDR      R0,[R0, #+8]
        LDR      R4,[R0, #+4]
// 1137   CSM_root()->csm_q->current_msg_processing_csm=CSM_root()->csm_q->csm.first;
        SWI      +33030
        MOV      R5,R0
        SWI      +33030
        LDR      R0,[R0, #+8]
        LDR      R1,[R5, #+8]
        LDR      R0,[R0, #+8]
// 1138   CreateCSM(&MAINCSM.maincsm,dummy,0);
// 1139   CSM_root()->csm_q->current_msg_processing_csm=save_cmpc;
// 1140   CSM_RAM *icsm=FindCSMbyID(CSM_root()->idle_id);
// 1141   memcpy(&icsmd,icsm->constr,sizeof(icsmd));
        LDR      R5,??DataTable47  ;; screen
        STR      R0,[R1, #+4]
        LDR      R0,??main_0      ;; `?<Constant "MIOSD">` + 8
        MOV      R2,#+0
        MOV      R1,SP
        SWI      +263
        SWI      +33030
        LDR      R0,[R0, #+8]
        STR      R4,[R0, #+4]
        SWI      +33030
        LDR      R0,[R0, #+4]
        SWI      +264
        MOV      R4,R0
        LDR      R1,[R4, #+8]
        MOV      R2,#+40
        ADD      R0,R5,#+12
        SWI      +286
// 1142   old_icsm_onMessage=icsmd.onMessage;
        LDR      R0,[R5, #+12]
        STR      R0,[R5, #+232]
// 1143   icsmd.onMessage=MyIDLECSM_onMessage;
        LDR      R0,??main_0+0x4  ;; MyIDLECSM_onMessage
        STR      R0,[R5, #+12]
// 1144   old_icsm_onClose=icsmd.onClose;
        LDR      R0,[R5, #+36]
        STR      R0,[R5, #+236]
// 1145   icsmd.onClose=MyIDLECSM_onClose;  
        LDR      R0,??main_0+0x8  ;; MyIDLECSM_onClose
        STR      R0,[R5, #+36]
// 1146   icsm->constr=&icsmd;  
        ADD      R0,R5,#+12
        STR      R0,[R4, #+8]
// 1147   AddKeybMsgHook((void *)my_keyhook);
        LDR      R0,??main_0+0xC  ;; my_keyhook
        SWI      +299
// 1148   UnlockSched();
        SWI      +327
// 1149   check_battery();
        BL       check_battery
// 1150   check_gprs();
        BL       check_gprs
// 1151   runtime_count();
        BL       runtime_count
// 1152   UnlockSched();
        SWI      +327
// 1153   return 0;
        MOV      R0,#+0
        ADD      SP,SP,#+40
        CFI CFA R13+12
        POP      {R4,R5,PC}       ;; return
        DATA
??main_0:
        DC32     `?<Constant "MIOSD">` + 8
        DC32     MyIDLECSM_onMessage
        DC32     MyIDLECSM_onClose
        DC32     my_keyhook
        CFI EndBlock cfiBlock53
// 1154 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable47:
        DC32     screen

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock54 Using cfiCommon1
        CFI NoFunction
        ARM
??ascii2ws??rA:
        LDR      R12,??Subroutine27_0  ;; ascii2ws
        BX       R12
        DATA
??Subroutine27_0:
        DC32     ascii2ws
        CFI EndBlock cfiBlock54

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock55 Using cfiCommon1
        CFI NoFunction
        ARM
??seqkill??rA:
        LDR      R12,??Subroutine28_0  ;; seqkill
        BX       R12
        DATA
??Subroutine28_0:
        DC32     seqkill
        CFI EndBlock cfiBlock55

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock56 Using cfiCommon1
        CFI NoFunction
        ARM
??strcmp_nocase??rA:
        LDR      R12,??Subroutine29_0  ;; strcmp_nocase
        BX       R12
        DATA
??Subroutine29_0:
        DC32     strcmp_nocase
        CFI EndBlock cfiBlock56

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock57 Using cfiCommon1
        CFI NoFunction
        ARM
??InitConfig??rA:
        LDR      R12,??Subroutine30_0  ;; InitConfig
        BX       R12
        DATA
??Subroutine30_0:
        DC32     InitConfig
        CFI EndBlock cfiBlock57

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock58 Using cfiCommon1
        CFI NoFunction
        ARM
??process_missed??rA:
        LDR      R12,??Subroutine31_0  ;; process_missed
        BX       R12
        DATA
??Subroutine31_0:
        DC32     process_missed
        CFI EndBlock cfiBlock58

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock59 Using cfiCommon1
        CFI NoFunction
        ARM
??write_total??rA:
        LDR      R12,??Subroutine32_0  ;; write_total
        BX       R12
        DATA
??Subroutine32_0:
        DC32     write_total
        CFI EndBlock cfiBlock59

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock60 Using cfiCommon1
        CFI NoFunction
        ARM
??kill_data??rA:
        LDR      R12,??Subroutine33_0  ;; kill_data
        BX       R12
        DATA
??Subroutine33_0:
        DC32     kill_data
        CFI EndBlock cfiBlock60

        RSEG DATA_ID:CONST:SORT:NOROOT(2)
`?<Initializer for screen>`:
        DATA
        DC16 0, 0
        DC32 8, `?<Constant "">`
`?<Initializer for icsmd>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for naticq_time>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for naticq_ping>`:
        DC8 "none"
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for naticq_plugin>`:
        DC8 0, 0, 0, 0
`?<Initializer for ker_state>`:
        DC32 0
`?<Initializer for r_s>`:
        DC32 20
`?<Initializer for r_m>`:
        DC8 0, 0, 0, 0
`?<Initializer for r_h>`:
        DC8 0, 0, 0, 0
`?<Initializer for mode_enter>`:
        DC8 0, 0, 0, 0
`?<Initializer for mode>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos>`:
        DC32 1
`?<Initializer for phase>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_main_x>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_main_y>`:
        DC8 0, 0, 0, 0
`?<Initializer for lock_keys>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_link_x>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_link_y>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_msg_x>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_msg_y>`:
        DC8 0, 0, 0, 0
`?<Initializer for monthc>`:
        DC8 0, 0, 0, 0
`?<Initializer for hmm>`:
        DC8 0, 0, 0, 0
`?<Initializer for ggg>`:
        DC8 0, 0, 0, 0
`?<Initializer for trafiks>`:
        DC8 0, 0, 0, 0
`?<Initializer for start_traffic>`:
        DC8 0, 0, 0, 0
`?<Initializer for ffq>`:
        DC8 0, 0, 0, 0
`?<Initializer for isfile>`:
        DC8 0, 0, 0, 0
`?<Initializer for switch_gprs_info>`:
        DC8 0, 0, 0, 0
`?<Initializer for do_st>`:
        DC32 3
`?<Initializer for con>`:
        DC8 0, 0, 0, 0
`?<Initializer for charge_m>`:
        DC8 0, 0, 0, 0
`?<Initializer for charge_s>`:
        DC8 0, 0, 0, 0
`?<Initializer for g_min>`:
        DC8 0, 0, 0, 0
`?<Initializer for g_sec>`:
        DC8 0, 0, 0, 0
`?<Initializer for g_hour>`:
        DC8 0, 0, 0, 0
`?<Initializer for rem_mis>`:
        DC8 0, 0, 0, 0
`?<Initializer for first_con>`:
        DC32 1
`?<Initializer for key_mode>`:
        DC8 0, 0, 0, 0
`?<Initializer for app_pos>`:
        DC32 1
`?<Initializer for pos_link2_x>`:
        DC8 0, 0, 0, 0
`?<Initializer for pos_link2_y>`:
        DC8 0, 0, 0, 0
`?<Initializer for old_icsm_onMessage>`:
        DC8 0, 0, 0, 0
`?<Initializer for old_icsm_onClose>`:
        DC8 0, 0, 0, 0
`?<Initializer for chinfo>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for gpinfo>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for rs_tmr>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for mytmr>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for start_g2>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for month>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for mytmr2>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for charger>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for gipi>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

        RSEG INITTAB:CODE:ROOT(2)
        DATA
?init?tab?DATA_Z:
        DCD      sfe(DATA_Z) - sfb(DATA_Z), sfb(DATA_Z), sfb(DATA_Z)

        RSEG DATA_ID:CONST:SORT:NOROOT(2)
`?*?DATA_ID`:

        RSEG INITTAB:CODE:ROOT(2)
        DATA
?init?tab?DATA_I:
        DCD      sfe(DATA_I) - sfb(DATA_I), sfb(DATA_I), sfb(DATA_ID)

        END
// 1155 
// 1156 
// 
// 9 228 bytes in segment CODE
// 1 043 bytes in segment DATA_C
//   428 bytes in segment DATA_I
//   428 bytes in segment DATA_ID
//   284 bytes in segment DATA_Z
//    24 bytes in segment INITTAB
// 
// 9 036 bytes of CODE  memory (+ 216 bytes shared)
// 1 471 bytes of CONST memory
//   712 bytes of DATA  memory
//
//Errors: none
//Warnings: none
