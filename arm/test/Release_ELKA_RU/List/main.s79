//////////////////////////////////////////////////////////////////////////////
//                                                                           /
// IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION   14/Dec/2010  22:26:00 /
// Copyright 1999-2005 IAR Systems. All rights reserved.                     /
//                                                                           /
//    Cpu mode        =  interwork                                           /
//    Endian          =  little                                              /
//    Stack alignment =  4                                                   /
//    Source file     =  C:\arm\test\main.c                                  /
//    Command line    =  C:\arm\test\main.c -D NEWSGOLD -D ELKA -lA          /
//                       C:\arm\test\Release_ELKA_RU\List\ -o                /
//                       C:\arm\test\Release_ELKA_RU\Obj\ -s9 --cpu_mode     /
//                       arm --endian little --cpu ARM926EJ-S --stack_align  /
//                       4 --interwork -e --fpu None --dlib_config           /
//                       "C:\arm2\Embedded Workbench 4.0                     /
//                       Evaluation\ARM\LIB\dl5tpainl8f.h" -I                /
//                       "C:\arm2\Embedded Workbench 4.0                     /
//                       Evaluation\ARM\INC\" --inline_threshold=2           /
//    List file       =  C:\arm\test\Release_ELKA_RU\List\main.s79           /
//                                                                           /
//                                                                           /
//////////////////////////////////////////////////////////////////////////////

        NAME main

        RTMODEL "StackAlign4", "USED"
        RTMODEL "__cpu_mode", "__pcs__interwork"
        RTMODEL "__data_model", "absolute"
        RTMODEL "__endian", "little"
        RTMODEL "__rt_version", "6"

        RSEG CSTACK:DATA:NOROOT(2)

        PUBWEAK `?*?DATA_ID`
??DataTable1 EQU 0
??DataTable10 EQU 0
??DataTable11 EQU 0
??DataTable12 EQU 0
??DataTable14 EQU 0
??DataTable18 EQU 0
??DataTable2 EQU 0
??DataTable3 EQU 0
??DataTable4 EQU 0
??DataTable5 EQU 0
??DataTable6 EQU 0
??DataTable7 EQU 0
??DataTable8 EQU 0
??DataTable9 EQU 0
        MULTWEAK ??DrawProgress??rT
        MULTWEAK ??ElfKiller??rT
        MULTWEAK ??GetLastError??rT
        MULTWEAK ??InitConfig??rA
        MULTWEAK ??Obs_CreateAmrFile??rT
        MULTWEAK ??Obs_DeleteObj??rT
        MULTWEAK ??Obs_GetRealSize??rT
        MULTWEAK ??Obs_PauseAmrWrite??rT
        MULTWEAK ??Obs_Percente??rT
        MULTWEAK ??Obs_ResumeAmrWrite??rT
        MULTWEAK ??Obs_StartAmrWrite??rT
        MULTWEAK ??Obs_StopAmrWrite??rT
        MULTWEAK ??Proc??rT
        MULTWEAK ??UpdateCSMname??rT
        MULTWEAK ??__dAdd??rA
        MULTWEAK ??__dDiv??rA
        MULTWEAK ??__dMul??rA
        MULTWEAK ??__doubleToLong??rA
        MULTWEAK ??__longToDouble??rA
        MULTWEAK ??__ulongToDouble??rA
        MULTWEAK ??ascii2ws??rT
        MULTWEAK ??char8to16??rT
        MULTWEAK ??e??rT
        MULTWEAK ??kill_data??rA
        MULTWEAK ??main??rT
        MULTWEAK ??method8??rT
        MULTWEAK ??method9??rT
        MULTWEAK ??openconf??rT
        PUBWEAK ?init?tab?DATA_I
        PUBWEAK ?init?tab?DATA_Z
        PUBLIC DrawProgress
        FUNCTION DrawProgress,0201H
        LOCFRAME CSTACK, 48, STACK
        PUBLIC ElfKiller
        FUNCTION ElfKiller,0603H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC GetLastError
        FUNCTION GetLastError,0201H
        PUBLIC LastErr
        PUBLIC MAINCSM_ID
        PUBLIC MAINGUI_ID
        PUBLIC MSG_Report
        PUBLIC Obs_CreateAmrFile
        FUNCTION Obs_CreateAmrFile,0203H
        LOCFRAME CSTACK, 32, STACK
        PUBLIC Obs_DeleteObj
        FUNCTION Obs_DeleteObj,0201H
        LOCFRAME CSTACK, 8, STACK
        PUBLIC Obs_GetRealSize
        FUNCTION Obs_GetRealSize,0201H
        LOCFRAME CSTACK, 8, STACK
        PUBLIC Obs_PauseAmrWrite
        FUNCTION Obs_PauseAmrWrite,0201H
        LOCFRAME CSTACK, 8, STACK
        PUBLIC Obs_Percente
        FUNCTION Obs_Percente,0201H
        LOCFRAME CSTACK, 16, STACK
        PUBLIC Obs_ResumeAmrWrite
        FUNCTION Obs_ResumeAmrWrite,0201H
        LOCFRAME CSTACK, 8, STACK
        PUBLIC Obs_StartAmrWrite
        FUNCTION Obs_StartAmrWrite,0201H
        LOCFRAME CSTACK, 8, STACK
        PUBLIC Obs_StopAmrWrite
        FUNCTION Obs_StopAmrWrite,0201H
        LOCFRAME CSTACK, 8, STACK
        FUNCTION OnKey,0603H
        LOCFRAME CSTACK, 36, STACK
        FUNCTION OnRedraw,0603H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC Proc
        FUNCTION Proc,0601H
        LOCFRAME CSTACK, 16, STACK
        PUBLIC RecordName
        PUBLIC UpdateCSMname
        FUNCTION UpdateCSMname,0203H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC action
        PUBLIC amr
        PUBLIC ascii2ws
        FUNCTION ascii2ws,0203H
        LOCFRAME CSTACK, 12, STACK
        PUBLIC bit
        PUBLIC char8to16
        FUNCTION char8to16,0203H
        PUBLIC d
        PUBLIC e
        FUNCTION e,0201H
        LOCFRAME CSTACK, 24, STACK
        PUBLIC fs
        PUBLIC gui_methods
        PUBLIC main
        FUNCTION main,0a03H
        LOCFRAME CSTACK, 48, STACK
        PUBLIC maincsm_name_body
        FUNCTION maincsm_onclose,0603H
        LOCFRAME CSTACK, 4, STACK
        FUNCTION maincsm_oncreate,0603H
        LOCFRAME CSTACK, 12, STACK
        FUNCTION maincsm_onmessage,0603H
        LOCFRAME CSTACK, 4, STACK
        PUBLIC method8
        FUNCTION method8,0603H
        PUBLIC method9
        FUNCTION method9,0603H
        PUBLIC minus11
        PUBLIC mode
        PUBLIC name
        PUBLIC obj
        PUBLIC object
        FUNCTION onClose,0603H
        LOCFRAME CSTACK, 8, STACK
        FUNCTION onCreate,0603H
        LOCFRAME CSTACK, 8, STACK
        FUNCTION onFocus,0603H
        LOCFRAME CSTACK, 8, STACK
        FUNCTION onUnfocus,0603H
        PUBLIC openconf
        FUNCTION openconf,0201H
        LOCFRAME CSTACK, 12, STACK
        PUBLIC pb
        PUBLIC stroka
        PUBLIC t
        PUBLIC t1
        PUBLIC tmr
        
        CFI Names cfiNames0
        CFI StackFrame CFA R13 HUGEDATA
        CFI Resource R0:32, R1:32, R2:32, R3:32, R4:32, R5:32, R6:32, R7:32
        CFI Resource R8:32, R9:32, R10:32, R11:32, R12:32, CPSR:32, R13:32
        CFI Resource R14:32, SPSR:32
        CFI VirtualResource ?RET:32
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 2
        CFI DataAlign 4
        CFI ReturnAddress ?RET CODE
        CFI CFA R13+0
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI R8 SameValue
        CFI R9 SameValue
        CFI R10 SameValue
        CFI R11 SameValue
        CFI R12 Undefined
        CFI CPSR SameValue
        CFI R14 Undefined
        CFI SPSR SameValue
        CFI ?RET R14
        CFI EndCommon cfiCommon0
        
        
        CFI Common cfiCommon1 Using cfiNames0
        CFI CodeAlign 4
        CFI DataAlign 4
        CFI ReturnAddress ?RET CODE
        CFI CFA R13+0
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI R8 SameValue
        CFI R9 SameValue
        CFI R10 SameValue
        CFI R11 SameValue
        CFI R12 Undefined
        CFI CPSR SameValue
        CFI R14 Undefined
        CFI SPSR SameValue
        CFI ?RET R14
        CFI EndCommon cfiCommon1
        
InitConfig          SYMBOL "InitConfig"
__dAdd              SYMBOL "__dAdd"
__dDiv              SYMBOL "__dDiv"
__dMul              SYMBOL "__dMul"
__doubleToLong      SYMBOL "__doubleToLong"
__longToDouble      SYMBOL "__longToDouble"
__ulongToDouble     SYMBOL "__ulongToDouble"
kill_data           SYMBOL "kill_data"
DrawProgress        SYMBOL "DrawProgress"
??DrawProgress??rT  SYMBOL "??rT", DrawProgress
ElfKiller           SYMBOL "ElfKiller"
??ElfKiller??rT     SYMBOL "??rT", ElfKiller
GetLastError        SYMBOL "GetLastError"
??GetLastError??rT  SYMBOL "??rT", GetLastError
??InitConfig??rA    SYMBOL "??rA", InitConfig
Obs_CreateAmrFile   SYMBOL "Obs_CreateAmrFile"
??Obs_CreateAmrFile??rT SYMBOL "??rT", Obs_CreateAmrFile
Obs_DeleteObj       SYMBOL "Obs_DeleteObj"
??Obs_DeleteObj??rT SYMBOL "??rT", Obs_DeleteObj
Obs_GetRealSize     SYMBOL "Obs_GetRealSize"
??Obs_GetRealSize??rT SYMBOL "??rT", Obs_GetRealSize
Obs_PauseAmrWrite   SYMBOL "Obs_PauseAmrWrite"
??Obs_PauseAmrWrite??rT SYMBOL "??rT", Obs_PauseAmrWrite
Obs_Percente        SYMBOL "Obs_Percente"
??Obs_Percente??rT  SYMBOL "??rT", Obs_Percente
Obs_ResumeAmrWrite  SYMBOL "Obs_ResumeAmrWrite"
??Obs_ResumeAmrWrite??rT SYMBOL "??rT", Obs_ResumeAmrWrite
Obs_StartAmrWrite   SYMBOL "Obs_StartAmrWrite"
??Obs_StartAmrWrite??rT SYMBOL "??rT", Obs_StartAmrWrite
Obs_StopAmrWrite    SYMBOL "Obs_StopAmrWrite"
??Obs_StopAmrWrite??rT SYMBOL "??rT", Obs_StopAmrWrite
Proc                SYMBOL "Proc"
??Proc??rT          SYMBOL "??rT", Proc
UpdateCSMname       SYMBOL "UpdateCSMname"
??UpdateCSMname??rT SYMBOL "??rT", UpdateCSMname
??__dAdd??rA        SYMBOL "??rA", __dAdd
??__dDiv??rA        SYMBOL "??rA", __dDiv
??__dMul??rA        SYMBOL "??rA", __dMul
??__doubleToLong??rA SYMBOL "??rA", __doubleToLong
??__longToDouble??rA SYMBOL "??rA", __longToDouble
??__ulongToDouble??rA SYMBOL "??rA", __ulongToDouble
ascii2ws            SYMBOL "ascii2ws"
??ascii2ws??rT      SYMBOL "??rT", ascii2ws
char8to16           SYMBOL "char8to16"
??char8to16??rT     SYMBOL "??rT", char8to16
e                   SYMBOL "e"
??e??rT             SYMBOL "??rT", e
??kill_data??rA     SYMBOL "??rA", kill_data
main                SYMBOL "main"
??main??rT          SYMBOL "??rT", main
method8             SYMBOL "method8"
??method8??rT       SYMBOL "??rT", method8
method9             SYMBOL "method9"
??method9??rT       SYMBOL "??rT", method9
openconf            SYMBOL "openconf"
??openconf??rT      SYMBOL "??rT", openconf

        EXTERN ELF_BEGIN
        EXTERN InitConfig
        FUNCTION InitConfig,0200H
        EXTERN __dAdd
        FUNCTION __dAdd,0202H
        EXTERN __dDiv
        FUNCTION __dDiv,0202H
        EXTERN __dMul
        FUNCTION __dMul,0202H
        EXTERN __doubleToLong
        FUNCTION __doubleToLong,0202H
        EXTERN __longToDouble
        FUNCTION __longToDouble,0202H
        EXTERN __ulongToDouble
        FUNCTION __ulongToDouble,0202H
        EXTERN amrmode
        EXTERN bitrate
        EXTERN folder
        EXTERN kill_data
        FUNCTION kill_data,0602H
        EXTERN size
        EXTERN successed_config_filename

// C:\arm\test\main.c
//    1 #include "C:\arm\inc\swilib.h"
//    2 #include "conf_loader.h"
//    3 #include "obs/obs.c"

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
// int __data LastErr
LastErr:
        DS8 4

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock0 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_CreateAmrFile??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock0
        REQUIRE Obs_CreateAmrFile

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock1 Using cfiCommon1
        CFI Function Obs_CreateAmrFile
        ARM
// __??Code32?? __code __interwork __atpcs int Obs_CreateAmrFile(char *)
Obs_CreateAmrFile:
        LDR      R1,??DataTable19  ;; folder
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
        LDR      R4,??DataTable15  ;; pb
        MOV      R7,R0
        ADD      R0,R4,#+96
        SWI      +26
        MOV      R0,#+256
        SWI      +293
        MOV      R5,R0
        ADR      R1,??DataTable0  ;; "amr"
        SWI      +292
        MOV      R0,R5
        SWI      +464
        MOV      R6,R0
        MOV      R1,R7
        ADD      R0,R4,#+96
        SWI      +23
        LDR      R0,[R4, #+64]
        MOV      R7,#+0
        CMP      R0,#+0
        STRNE    R7,[R4, #+64]
        MOVNE    R0,#+0
        PUSH     {R0}
        CFI CFA R13+24
        MOV      R2,#+2
        MOV      R1,R6
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+28
        MOV      R0,#+1
        PUSH     {R0}
        CFI CFA R13+32
        LDR      R3,[R4, #+72]
        MOV      R0,#+52
        SWI      +601
        STR      R0,[R4, #+64]
        MOV      R2,#+255
        ADD      R1,R4,#+96
        MOV      R0,R5
        SWI      +364
        LDR      R0,[R4, #+64]
        MOV      R1,R5
        SWI      +630
        LDR      R0,??DataTable20  ;; size
        LDR      R0,[R0, #+0]
        LSL      R1,R0,#+10
        LDR      R0,[R4, #+64]
        SWI      +628
        LDR      R0,??DataTable17  ;; amrmode
        LDR      R0,[R0, #+0]
        ADD      SP,SP,#+12
        CFI CFA R13+20
        CMP      R0,#+0
        BEQ      ??Obs_CreateAmrFile_0
        SUBS     R0,R0,#+1
        BEQ      ??Obs_CreateAmrFile_1
        SUBS     R0,R0,#+1
        BEQ      ??Obs_CreateAmrFile_2
        B        ??Obs_CreateAmrFile_3
??Obs_CreateAmrFile_0:
        LDR      R0,[R4, #+64]
        MOV      R1,#+0
        SWI      +626
        STR      R7,[R4, #+76]
        B        ??Obs_CreateAmrFile_3
??Obs_CreateAmrFile_1:
        LDR      R0,[R4, #+64]
        MOV      R1,#+4
        SWI      +626
        MOV      R0,#+4
        B        ??Obs_CreateAmrFile_4
??Obs_CreateAmrFile_2:
        LDR      R0,[R4, #+64]
        MOV      R1,#+7
        SWI      +626
        MOV      R0,#+7
??Obs_CreateAmrFile_4:
        STR      R0,[R4, #+76]
??Obs_CreateAmrFile_3:
        LDR      R1,??DataTable16  ;; bitrate
        LDR      R0,[R4, #+64]
        LDR      R1,[R1, #+0]
        CMP      R1,#+0
        BEQ      ??Obs_CreateAmrFile_5
        SUBS     R1,R1,#+1
        BEQ      ??Obs_CreateAmrFile_6
        SUBS     R1,R1,#+1
        BEQ      ??Obs_CreateAmrFile_7
        B        ??Obs_CreateAmrFile_8
??Obs_CreateAmrFile_5:
        MOV      R7,#+142
        ORR      R7,R7,#0x1200
        B        ??Obs_CreateAmrFile_9
??Obs_CreateAmrFile_6:
        MOV      R7,#+232
        ORR      R7,R7,#0x1C00
        B        ??Obs_CreateAmrFile_9
??Obs_CreateAmrFile_7:
        MOV      R7,#+168
        ORR      R7,R7,#0x2F00
??Obs_CreateAmrFile_9:
        MOV      R1,R7
        SWI      +632
        STR      R7,[R4, #+80]
??Obs_CreateAmrFile_8:
        LDR      R0,[R4, #+64]
        MOV      R1,#+0
        SWI      +629
        LDR      R0,[R4, #+64]
        MOV      R1,#+1
        SWI      +627
        LDR      R0,[R4, #+64]
        MOV      R1,#+1
        SWI      +625
        LDR      R0,[R4, #+64]
        MOV      R1,#+0
        SWI      +623
        LDR      R0,[R4, #+64]
        MOV      R1,#+0
        SWI      +624
        LDR      R0,[R4, #+64]
        MOV      R1,#+160
        SWI      +622
        LDR      R0,[R4, #+64]
        MOV      R1,R6
        SWI      +631
        LDR      R0,[R4, #+64]
        MOV      R1,#+11
        SWI      +619
        MOV      R0,R5
        SWI      +297
        MOV      R0,#+1
        STR      R0,[R4, #+68]
        POP      {R4-R7,PC}       ;; return
        CFI EndBlock cfiBlock1

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable0:
        DC8      "amr"

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock2 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_StopAmrWrite??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock2
        REQUIRE Obs_StopAmrWrite

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock3 Using cfiCommon1
        CFI Function Obs_StopAmrWrite
        ARM
// __??Code32?? __code __interwork __atpcs int Obs_StopAmrWrite()
Obs_StopAmrWrite:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        LDR      R4,??DataTable15  ;; pb
        LDR      R0,[R4, #+64]
        SWI      +615
        MOV      R0,#+3
        STR      R0,[R4, #+68]
        BL       Obs_DeleteObj
        MOV      R0,#+1
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock3

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock4 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_StartAmrWrite??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock4
        REQUIRE Obs_StartAmrWrite

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock5 Using cfiCommon1
        CFI Function Obs_StartAmrWrite
        ARM
// __??Code32?? __code __interwork __atpcs int Obs_StartAmrWrite()
Obs_StartAmrWrite:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        LDR      R4,??DataTable15  ;; pb
        LDR      R0,[R4, #+64]
        SWI      +606
        MOV      R0,#+2
        STR      R0,[R4, #+68]
        MOV      R0,#+1
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock5

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock6 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_DeleteObj??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock6
        REQUIRE Obs_DeleteObj

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock7 Using cfiCommon1
        CFI Function Obs_DeleteObj
        ARM
// __??Code32?? __code __interwork __atpcs int Obs_DeleteObj()
Obs_DeleteObj:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        LDR      R4,??DataTable15  ;; pb
        LDR      R0,[R4, #+64]
        SWI      +602
        MOV      R0,#+0
        STR      R0,[R4, #+68]
        MOV      R0,#+1
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock7

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock8 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_PauseAmrWrite??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock8
        REQUIRE Obs_PauseAmrWrite

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock9 Using cfiCommon1
        CFI Function Obs_PauseAmrWrite
        ARM
// __??Code32?? __code __interwork __atpcs int Obs_PauseAmrWrite()
Obs_PauseAmrWrite:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        LDR      R4,??DataTable15  ;; pb
        LDR      R0,[R4, #+64]
        SWI      +613
        MOV      R0,#+4
        STR      R0,[R4, #+68]
        MOV      R0,#+1
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock9

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock10 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_ResumeAmrWrite??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock10
        REQUIRE Obs_ResumeAmrWrite

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock11 Using cfiCommon1
        CFI Function Obs_ResumeAmrWrite
        ARM
// __??Code32?? __code __interwork __atpcs int Obs_ResumeAmrWrite()
Obs_ResumeAmrWrite:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        LDR      R4,??DataTable15  ;; pb
        LDR      R0,[R4, #+64]
        SWI      +614
        MOV      R0,#+2
        STR      R0,[R4, #+68]
        MOV      R0,#+1
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock11

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock12 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_GetRealSize??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock12
        REQUIRE Obs_GetRealSize

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock13 Using cfiCommon1
        CFI Function Obs_GetRealSize
        ARM
// __??Code32?? __code __interwork __atpcs unsigned int Obs_GetRealSize()
Obs_GetRealSize:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        LDR      R4,??DataTable15  ;; pb
        MOV      R2,#+0
        ADD      R1,R4,#+8
        ADD      R0,R4,#+96
        SWI      +132
        LDR      R0,[R4, #+12]
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock13

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock14 Using cfiCommon0
        CFI NoFunction
        THUMB
??GetLastError??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock14
        REQUIRE GetLastError

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock15 Using cfiCommon1
        CFI Function GetLastError
        ARM
// __??Code32?? __code __interwork __atpcs int GetLastError()
GetLastError:
        LDR      R0,??GetLastError_0  ;; LastErr
        LDR      R0,[R0, #+0]
        BX       LR               ;; return
        DATA
??GetLastError_0:
        DC32     LastErr
        CFI EndBlock cfiBlock15

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock16 Using cfiCommon0
        CFI NoFunction
        THUMB
??Obs_Percente??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock16
        REQUIRE Obs_Percente

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock17 Using cfiCommon1
        CFI Function Obs_Percente
        ARM
// __??Code32?? __code __interwork __atpcs double Obs_Percente()
Obs_Percente:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        BL       Obs_GetRealSize
        MOV      R6,R0
        LDR      R0,??DataTable20  ;; size
        LDR      R0,[R0, #+0]
        _BLF     __longToDouble,??__longToDouble??rA
        MOV      R2,#+0
        MOV      R3,#+1073741824
        ORR      R3,R3,#0x900000
        _BLF     __dMul,??__dMul??rA
        MOV      R4,R0
        MOV      R5,R1
        MOV      R0,R6
        _BLF     __ulongToDouble,??__ulongToDouble??rA
        MOV      R2,R4
        MOV      R3,R5
        POP      {R4-R6,LR}       ;; Pop
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        _BF      __dDiv,??__dDiv??rA  ;; tailcall
        CFI EndBlock cfiBlock17

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock18 Using cfiCommon0
        CFI NoFunction
        THUMB
??char8to16??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock18
        REQUIRE char8to16
//    4 
//    5 const int minus11=-11;

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
//    6 unsigned short maincsm_name_body[140];
maincsm_name_body:
        DS8 280

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
//    7 unsigned int MAINCSM_ID = 0;
MAINCSM_ID:
        DS8 4

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
//    8 unsigned int MAINGUI_ID = 0;
MAINGUI_ID:
        DS8 4
//    9 typedef struct
//   10 {
//   11   CSM_RAM csm;
//   12   int gui_id;
//   13 }MAIN_CSM;
//   14 typedef struct
//   15 {
//   16   GUI gui;
//   17   WSHDR *ws1;
//   18   WSHDR *ws2;
//   19   WSHDR *ws5;
//   20   int i1;
//   21 }MAIN_GUI;
//   22 
//   23 GBSTMR tmr;
//   24 
//   25 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock19 Using cfiCommon1
        CFI Function char8to16
        ARM
//   26 int char8to16(int c)
//   27 {
//   28   if (c<168) return (c);
char8to16:
        CMP      R0,#+168
        BXLT     LR
//   29   c-=168;
        MVN      R1,#+167
        ADDS     R0,R1,R0
//   30   if (!c)  c=1;
        MOVEQ    R0,#+1
        BEQ      ??char8to16_0
//   31   else if (c<24) 
        CMP      R0,#+24
        BGE      ??char8to16_1
//   32   {
//   33     if (c==2) c=4;
        CMP      R0,#+2
        MOVEQ    R0,#+4
        BEQ      ??char8to16_0
//   34     else if (c==10) c=6;
        CMP      R0,#+10
        MOVEQ    R0,#+6
        BEQ      ??char8to16_0
//   35     else if (c==11) c=0x56;
        CMP      R0,#+11
        MOVEQ    R0,#+86
        BEQ      ??char8to16_0
//   36     else if (c==16) c=0x51;
        CMP      R0,#+16
        MOVEQ    R0,#+81
        BEQ      ??char8to16_0
//   37     else if (c==18) c=0x54;
        CMP      R0,#+18
        MOVEQ    R0,#+84
        BEQ      ??char8to16_0
//   38     else if (c==23) c=0x57;
        CMP      R0,#+23
        BXNE     LR
        MOV      R0,#+87
        B        ??char8to16_0
//   39     else return (c);
//   40   }
//   41   else if (c>87) return (c);
??char8to16_1:
        CMP      R0,#+88
        BXGE     LR
//   42     else c-=8;
        SUB      R0,R0,#+8
//   43   c+=0x400;
//   44   return (c); 
??char8to16_0:
        ADD      R0,R0,#+1024
        BX       LR               ;; return
        CFI EndBlock cfiBlock19
//   45 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock20 Using cfiCommon0
        CFI NoFunction
        THUMB
??ascii2ws??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock20
        REQUIRE ascii2ws
//   46 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock21 Using cfiCommon1
        CFI Function ascii2ws
        ARM
//   47 void ascii2ws(WSHDR *ws, const char *s)
//   48 {
ascii2ws:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        MOV      R4,R0
        MOV      R5,R1
//   49   char c;
//   50   CutWSTR(ws,0);
        MOV      R1,#+0
        SWI      +294
        B        ??ascii2ws_0
//   51   while((c=*s++))
//   52   {
//   53     wsAppendChar(ws,char8to16(c));
??ascii2ws_1:
        BL       char8to16
        MOV      R1,R0
        MOV      R0,R4
        SWI      +28
//   54   }
??ascii2ws_0:
        LDRB     R1,[R5], #+1
        MOVS     R0,R1
        BNE      ??ascii2ws_1
//   55 }
        POP      {R4,R5,PC}       ;; return
        CFI EndBlock cfiBlock21

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock22 Using cfiCommon0
        CFI NoFunction
        THUMB
??OnRedraw??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock22
        REQUIRE OnRedraw
//   56 
//   57 void DrawProgress();

        RSEG DATA_Z:DATA:SORT:NOROOT(2)
//   58 char stroka[256];
stroka:
        DS8 256

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock23 Using cfiCommon1
        CFI Function OnRedraw
        ARM
//   59 static void OnRedraw(MAIN_GUI *data)//Перерисовка во время загрузки
//   60 {
//   61  DrawProgress();
OnRedraw:
        B        DrawProgress     ;; tailcall
        CFI EndBlock cfiBlock23
//   62 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock24 Using cfiCommon0
        CFI NoFunction
        THUMB
??onCreate??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock24
        REQUIRE onCreate

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock25 Using cfiCommon1
        CFI Function onCreate
        ARM
//   63 static void onCreate(MAIN_GUI *data, void *(*malloc_adr)(int))//Тут делаем что либо при создании гуи
//   64 {
onCreate:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
//   65   #ifdef ELKA//Если елка,то отключаем иконбар
//   66   DisableIconBar(1);
        MOV      R0,#+1
        SWI      +571
//   67   #endif
//   68   data->ws1=AllocWS(256);//Выделяем память под строку
        MOV      R0,#+256
        SWI      +293
        STR      R0,[R4, #+52]
//   69   data->gui.state=1;
        MOV      R0,#+1
        STRB     R0,[R4, #+12]
//   70 }
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock25

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock26 Using cfiCommon0
        CFI NoFunction
        THUMB
??onClose??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock26
        REQUIRE onClose

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock27 Using cfiCommon1
        CFI Function onClose
        ARM
//   71 static void onClose(MAIN_GUI *data, void (*mfree_adr)(void *))//Сдесь делаем что нить при закрытии гуи:)
//   72 {
onClose:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
//   73  
//   74   data->gui.state=0;
        MOV      R0,#+0
        STRB     R0,[R4, #+12]
//   75   FreeWS(data->ws1);//например, освобождаем память
        LDR      R0,[R4, #+52]
        SWI      +297
//   76   FreeWS(data->ws5);
        LDR      R0,[R4, #+60]
        SWI      +297
//   77 }
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock27

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock28 Using cfiCommon0
        CFI NoFunction
        THUMB
??onFocus??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock28
        REQUIRE onFocus
//   78 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock29 Using cfiCommon1
        CFI Function onFocus
        ARM
//   79 static void onFocus(MAIN_GUI *data, void *(*malloc_adr)(int), void (*mfree_adr)(void *))//Если гуи на верху то опять же делаем что нужно
//   80 {
onFocus:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
//   81     #ifdef ELKA//Если елка,то отключаем иконбар
//   82   DisableIconBar(1);
        MOV      R0,#+1
        SWI      +571
//   83   #endif
//   84   data->gui.state=2;
        MOV      R0,#+2
        STRB     R0,[R4, #+12]
//   85   DisableIDLETMR();//отключаем таймер,иначе через 2 минуты эльф закроется
        SWI      +383
//   86 }
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock29

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock30 Using cfiCommon0
        CFI NoFunction
        THUMB
??onUnfocus??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock30
        REQUIRE onUnfocus
//   87 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock31 Using cfiCommon1
        CFI Function onUnfocus
        ARM
//   88 static void onUnfocus(MAIN_GUI *data, void (*mfree_adr)(void *))//а если гуи не вверху,то можно закрыть эльф например:)
//   89 {
//   90   if (data->gui.state!=2) return;
onUnfocus:
        LDRB     R1,[R0, #+12]
        CMP      R1,#+2
//   91   data->gui.state=1;
        MOVEQ    R1,#+1
        STRBEQ   R1,[R0, #+12]
//   92 }
        BX       LR               ;; return
        CFI EndBlock cfiBlock31

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock32 Using cfiCommon0
        CFI NoFunction
        THUMB
??openconf??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock32
        REQUIRE openconf

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock33 Using cfiCommon1
        CFI Function openconf
        ARM
//   93 int openconf()//Для чтения настроек с конфига
//   94 {
openconf:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
//   95 extern const char *successed_config_filename;
//   96 WSHDR *fws=AllocWS(strlen(successed_config_filename)+1);
        LDR      R4,??openconf_0+0x4  ;; successed_config_filename
        LDR      R0,[R4, #+0]
        SWI      +27
        ADD      R0,R0,#+1
        SWI      +293
//   97 wsprintf(fws,"%t",successed_config_filename);
        LDR      R2,[R4, #+0]
        MOV      R5,R0
        ADR      R1,??openconf_0  ;; "%t"
        SWI      +292
//   98 ExecuteFile(fws,NULL,NULL);
        MOV      R2,#+0
        MOV      R1,#+0
        MOV      R0,R5
        SWI      +148
//   99 FreeWS(fws);
        MOV      R0,R5
        SWI      +297
//  100 return 0;
        MOV      R0,#+0
        POP      {R4,R5,PC}       ;; return
        DATA
??openconf_0:
        DC8      "%t",+0
        DC32     successed_config_filename
        CFI EndBlock cfiBlock33
//  101 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock34 Using cfiCommon0
        CFI NoFunction
        THUMB
??e??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock34
        REQUIRE e
//  102 char name[128];
//  103   TDate d;
//  104   TTime t;
//  105 char amr[3]="amr";
//  106 HObj obj;

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock35 Using cfiCommon1
        CFI Function e
        ARM
//  107 void e()
//  108 {
e:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
//  109   WSHDR *ws=AllocWS(256);
//  110   wsprintf(ws,"amr");
//  111   int uid=GetExtUid_ws(ws);
//  112   
//  113   obj=Obs_CreateObject(uid,0x34,2,0xB034,1,0,0);
        LDR      R5,??DataTable15  ;; pb
        MOV      R0,#+256
        SWI      +293
        MOV      R4,R0
        ADR      R1,??DataTable13  ;; "amr"
        SWI      +292
        MOV      R0,R4
        SWI      +464
        MOV      R1,#+0
        PUSH     {R1}
        CFI CFA R13+16
        PUSH     {R1}
        CFI CFA R13+20
        MOV      R3,#+52
        ORR      R3,R3,#0xB000
        MOV      R2,#+2
        MOV      R1,#+1
        PUSH     {R1}
        CFI CFA R13+24
        MOV      R1,#+52
        SWI      +601
//  114   wsprintf(ws,"0:\\1.amr");
        LDR      R1,??e_0         ;; `?<Constant "0:\\\\1.amr">`
        STR      R0,[R5, #+84]
        MOV      R0,R4
        SWI      +292
//  115   Obs_SetInput_File(obj,0,ws);
        LDR      R0,[R5, #+84]
        MOV      R2,R4
        MOV      R1,#+0
        SWI      +603
//  116   Obs_Mam_SetPurpose(obj,0x16);
        LDR      R0,[R5, #+84]
        MOV      R1,#+22
        SWI      +619
//  117   Obs_Sound_SetVolumeEx(obj, 1, 1);
        LDR      R0,[R5, #+84]
        MOV      R2,#+1
        MOV      R1,#+1
        SWI      +620
//  118   Obs_Prepare(obj);
        LDR      R0,[R5, #+84]
        SWI      +616
//  119   
//  120   FreeWS(ws);
        MOV      R0,R4
        SWI      +297
//  121 }
        POP      {R0-R2,R4,R5,PC}  ;; return
        DATA
??e_0:
        DC32     `?<Constant "0:\\\\1.amr">`
        CFI EndBlock cfiBlock35

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable13:
        DC8      "amr"

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock36 Using cfiCommon0
        CFI NoFunction
        THUMB
??OnKey??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock36
        REQUIRE OnKey

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock37 Using cfiCommon1
        CFI Function OnKey
        ARM
//  122 static int OnKey(MAIN_GUI *data, GUI_MSG *msg)//Ну это кей хук
//  123 {
OnKey:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
//  124 
//  125   switch(msg->gbsmsg->msg)
        LDR      R0,[R1, #+4]
        MOV      R2,#+147
        LDR      R1,[R0, #+4]
        ORR      R2,R2,#0x100
        CMP      R1,R2
        ADDNE    R2,R2,#+2
        CMPNE    R1,R2
        BNE      ??OnKey_1
//  126   {      
//  127   case KEY_UP: break;
//  128   case LONG_PRESS: // Клавиша удерживается долго (повтор)
//  129   case KEY_DOWN: // Клавиша нажата
//  130       
//  131  switch(msg->gbsmsg->submess)
        LDR      R4,??DataTable15  ;; pb
        LDR      R0,[R0, #+8]
        LDR      R1,[R4, #+68]
        SUB      R0,R0,#+1
        CMP      R0,#+53
        BHI      ??OnKey_1
        ADR      R2,??OnKey_0
        LDRB     R2,[R2, R0]
        ADD      PC,PC,R2, LSL #+2
        DATA
??OnKey_0:
        DC8      +50,+72,+72,+52
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+20,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+57,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+72
        DC8      +72,+72,+72,+13
        DC8      +57,+15,+0,+0
        ARM
//  132   {
//  133     
//  134     
//  135   case '4':
//  136    e();
??OnKey_2:
        BL       e
        B        ??OnKey_3
//  137     break;
//  138     case '6':
//  139    Obs_Start(obj);
??OnKey_4:
        LDR      R0,[R4, #+84]
        SWI      +606
??OnKey_3:
        SWI      +319
        MOV      R0,#+0
        POP      {R4,R5,PC}
//  140     break;
//  141    case GREEN_BUTTON:
//  142      
//  143    switch(action)
??OnKey_5:
        CMP      R1,#+0
        SUBSNE   R1,R1,#+3
        BNE      ??OnKey_1
//  144   {
//  145   case AMR_NOT_CREATED:case AMR_STOP:
//  146   
//  147 
//  148   GetDateTime(&d,&t);
        ADD      R1,R4,#+88
        ADD      R0,R4,#+48
        SWI      +180
//  149   sprintf(name,"%d-%d-%u_%d-%d-%d_mode%d_bit%d.amr",d.day,d.month,d.year,t.hour,t.min,t.sec,amrmode,bitrate);
        LDR      R0,??DataTable16  ;; bitrate
        LDR      R1,??OnKey_6     ;; `?<Constant "%d-%d-%u_%d-%d-%d_mod...">`
        LDR      R0,[R0, #+0]
        MOV      R5,#+368
        PUSH     {R0}
        CFI CFA R13+16
        LDR      R0,??DataTable17  ;; amrmode
        LDR      R0,[R0, #+0]
        PUSH     {R0}
        CFI CFA R13+20
        LDRB     R0,[R4, #+90]
        PUSH     {R0}
        CFI CFA R13+24
        LDRB     R0,[R4, #+89]
        PUSH     {R0}
        CFI CFA R13+28
        LDRB     R0,[R4, #+88]
        PUSH     {R0}
        CFI CFA R13+32
        LDR      R0,[R4, #+48]
        PUSH     {R0}
        CFI CFA R13+36
        LDRB     R3,[R4, #+52]
        LDRB     R2,[R4, #+53]
        ADD      R0,R5,R4
        SWI      +22
//  150   Obs_CreateAmrFile(name);
        ADD      R0,R5,R4
        BL       Obs_CreateAmrFile
        ADD      SP,SP,#+24
        CFI CFA R13+12
        B        ??OnKey_3
//  151     
//  152     break;
//  153   }
//  154      
//  155      
//  156      break;
//  157   case LEFT_SOFT:openconf(); break;
??OnKey_7:
        BL       openconf
        B        ??OnKey_3
//  158    case RIGHT_SOFT: 
//  159       switch(action)
??OnKey_8:
        SUBS     R1,R1,#+2
        SUBSNE   R1,R1,#+2
        BNE      ??OnKey_9
//  160       {
//  161       case AMR_WRITE:case AMR_PAUSE:Obs_StopAmrWrite();Obs_DeleteObj();break;
        BL       Obs_StopAmrWrite
        BL       Obs_DeleteObj
//  162       default: return 1;
//  163       }
//  164         
//  165        
//  166   case '5':case ENTER_BUTTON:
//  167   switch(action)
??OnKey_10:
        LDR      R0,[R4, #+68]
        SUBS     R0,R0,#+1
        BEQ      ??OnKey_11
        SUBS     R0,R0,#+1
        BEQ      ??OnKey_12
        SUBS     R0,R0,#+2
        BEQ      ??OnKey_13
        B        ??OnKey_3
//  168   {
//  169   case AMR_CREATED:Obs_StartAmrWrite();break;
??OnKey_11:
        BL       Obs_StartAmrWrite
        B        ??OnKey_3
??OnKey_9:
        MOV      R0,#+1
        POP      {R4,R5,PC}
//  170   case AMR_WRITE:  Obs_PauseAmrWrite();break;
??OnKey_12:
        BL       Obs_PauseAmrWrite
        B        ??OnKey_3
//  171   case AMR_PAUSE:  Obs_ResumeAmrWrite();break;
??OnKey_13:
        BL       Obs_ResumeAmrWrite
//  172   }
//  173  
//  174     break;
//  175   }
//  176   
//  177 
//  178   }
//  179      DirectRedrawGUI();
??OnKey_1:
        SWI      +319
//  180       
//  181   return(0);
        MOV      R0,#+0
        POP      {R4,R5,PC}       ;; return
        DATA
??OnKey_6:
        DC32     `?<Constant "%d-%d-%u_%d-%d-%d_mod...">`
        CFI EndBlock cfiBlock37
//  182 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable15:
        DC32     pb

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable16:
        DC32     bitrate

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable17:
        DC32     amrmode

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock38 Using cfiCommon0
        CFI NoFunction
        THUMB
??method8??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock38
        REQUIRE method8
//  183 
//  184 
//  185 
//  186 
//  187 
//  188 
//  189 
//  190 
//  191 
//  192 
//  193 
//  194 extern void kill_data(void *p, void (*func_p)(void *));
//  195 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock39 Using cfiCommon1
        CFI Function method8
        ARM
//  196 int method8(void){return(0);}
method8:
        MOV      R0,#+0
        BX       LR               ;; return
        CFI EndBlock cfiBlock39

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock40 Using cfiCommon0
        CFI NoFunction
        THUMB
??method9??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock40
        REQUIRE method9

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock41 Using cfiCommon1
        CFI Function method9
        ARM
//  197 int method9(void){return(0);}
method9:
        MOV      R0,#+0
        BX       LR               ;; return
        CFI EndBlock cfiBlock41

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock42 Using cfiCommon0
        CFI NoFunction
        THUMB
??maincsm_oncreate??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock42
        REQUIRE maincsm_oncreate
//  198 
//  199 const void * const gui_methods[11]={
//  200   (void *)OnRedraw,
//  201   (void *)onCreate,
//  202   (void *)onClose,
//  203   (void *)onFocus,
//  204   (void *)onUnfocus,
//  205   (void *)OnKey,
//  206   0,
//  207   (void *)kill_data,
//  208   (void *)method8,
//  209   (void *)method9,
//  210   0
//  211 };
//  212 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock43 Using cfiCommon1
        CFI Function maincsm_oncreate
        ARM
//  213 static void maincsm_oncreate(CSM_RAM *data)
//  214 {
maincsm_oncreate:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        MOV      R4,R0
//  215   
//  216 static const RECT Canvas={0,0,239,319};
//  217   MAIN_GUI *main_gui=malloc(sizeof(MAIN_GUI));
        MOV      R0,#+68
        SWI      +20
        MOV      R5,R0
//  218   MAIN_CSM*csm=(MAIN_CSM*)data;
//  219   zeromem(main_gui,sizeof(MAIN_GUI));
        MOV      R1,#+68
        SWI      +285
//  220   main_gui->gui.canvas=(void *)(&Canvas);
        LDR      R0,??maincsm_oncreate_0  ;; gui_methods
        ADD      R1,R0,#+44
        STR      R1,[R5, #+0]
//  221   main_gui->gui.flag30=2;
        MOV      R1,#+2
        STR      R1,[R5, #+48]
//  222   main_gui->gui.methods=(void *)gui_methods;
        STR      R0,[R5, #+4]
//  223   main_gui->gui.item_ll.data_mfree=(void (*)(void *))mfree_adr();
        SWI      +32789
        STR      R0,[R5, #+32]
//  224   csm->csm.state=0;
        MOV      R0,#+0
        STR      R0,[R4, #+16]
//  225   csm->csm.unk1=0;
        STR      R0,[R4, #+20]
//  226   csm->gui_id=CreateGUI(main_gui);
        MOV      R0,R5
        SWI      +311
        STR      R0,[R4, #+40]
//  227 }
        POP      {R4,R5,PC}       ;; return
        DATA
??maincsm_oncreate_0:
        DC32     gui_methods
        CFI EndBlock cfiBlock43

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock44 Using cfiCommon0
        CFI NoFunction
        THUMB
??ElfKiller??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock44
        REQUIRE ElfKiller
//  228 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock45 Using cfiCommon1
        CFI Function ElfKiller
        ARM
//  229 void ElfKiller(void)
//  230 {
ElfKiller:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//  231   extern void *ELF_BEGIN;
//  232   kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
        SWI      +32789
        MOV      R1,R0
        LDR      R0,??ElfKiller_0  ;; ELF_BEGIN
        POP      {LR}             ;; Pop
        CFI ?RET R14
        CFI CFA R13+0
        _BF      kill_data,??kill_data??rA  ;; tailcall
        DATA
??ElfKiller_0:
        DC32     ELF_BEGIN
        CFI EndBlock cfiBlock45
//  233 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock46 Using cfiCommon0
        CFI NoFunction
        THUMB
??maincsm_onclose??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock46
        REQUIRE maincsm_onclose
//  234 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock47 Using cfiCommon1
        CFI Function maincsm_onclose
        ARM
//  235 static void maincsm_onclose(CSM_RAM *csm)
//  236 {
//  237    GBS_DelTimer(&tmr);
maincsm_onclose:
        LDR      R0,??maincsm_onclose_0  ;; pb + 352
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        SWI      +396
//  238   Obs_DeleteObj();
        BL       Obs_DeleteObj
//  239   
//  240   SUBPROC((void *)ElfKiller);
        LDR      R0,??maincsm_onclose_0+0x4  ;; ElfKiller
        SWI      +369
//  241 }
        POP      {PC}             ;; return
        DATA
??maincsm_onclose_0:
        DC32     pb + 352
        DC32     ElfKiller
        CFI EndBlock cfiBlock47

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock48 Using cfiCommon0
        CFI NoFunction
        THUMB
??maincsm_onmessage??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock48
        REQUIRE maincsm_onmessage
//  242 
//  243 
//  244 #pragma inline=forced
//  245 int toupper(int c)
//  246 {
//  247   if ((c>='a')&&(c<='z')) c+='A'-'a';
//  248   return(c);
//  249 }
//  250 #pragma inline
//  251 int strcmp_nocase(const char *s1,const char *s2)
//  252 {
//  253   int i;
//  254   int c;
//  255   while(!(i=(c=toupper(*s1++))-toupper(*s2++))) if (!c) break;
//  256   return(i);
//  257 }
//  258 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock49 Using cfiCommon1
        CFI Function maincsm_onmessage
        ARM
//  259 static int maincsm_onmessage(CSM_RAM *data, GBS_MSG *msg)
//  260 {
maincsm_onmessage:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//  261 
//  262   MAIN_CSM *csm=(MAIN_CSM*)data;
//  263   if ((msg->msg==MSG_GUI_DESTROYED)&&((int)msg->data0==csm->gui_id))
        LDR      R2,[R1, #+4]
        MOV      R3,#+14
        ORR      R3,R3,#0x6400
        CMP      R2,R3
        BNE      ??maincsm_onmessage_0
        LDR      R2,[R1, #+12]
        LDR      R3,[R0, #+40]
        CMP      R2,R3
        BNE      ??maincsm_onmessage_1
//  264   {
//  265     csm->csm.state=-3;
        MVN      R2,#+2
        STR      R2,[R0, #+16]
//  266   }
//  267  if (msg->msg==MSG_RECONFIGURE_REQ)
??maincsm_onmessage_0:
        LDR      R0,[R1, #+4]
        MOV      R1,#+175
        ORR      R1,R1,#0xDE00
        CMP      R0,R1
        BNE      ??maincsm_onmessage_1
//  268   {
//  269     InitConfig();
        _BLF     InitConfig,??InitConfig??rA
//  270   }
//  271   return(1);
??maincsm_onmessage_1:
        MOV      R0,#+1
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock49
//  272 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock50 Using cfiCommon0
        CFI NoFunction
        THUMB
??UpdateCSMname??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock50
        REQUIRE UpdateCSMname

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "%d/%d %s">`:
        DATA
        DC8 "%d/%d %s"
        DC8 0, 0, 0
        DC8 0CDH, 0E0H, 0E6H, 0ECH, 0E8H, 0F2H, 0E5H, 20H
        DC8 35H, 2CH, 20H, 0F7H, 0F2H, 0EEH, 0E1H, 0FBH
        DC8 20H, 0EDH, 0E0H, 0F7H, 0E0H, 0F2H, 0FCH, 20H
        DC8 0E7H, 0E0H, 0EFH, 0E8H, 0F1H, 0FCH, 0AH, 0CFH
        DC8 0F0H, 0E0H, 0E2H, 0FBH, 0E9H, 20H, 0F1H, 0EEH
        DC8 0F4H, 0F2H, 20H, 0E4H, 0EBH, 0FFH, 20H, 0E2H
        DC8 0FBH, 0F5H, 0EEH, 0E4H, 0E0H, 0
        DC8 0, 0
        DC8 0CDH, 0E0H, 0E6H, 0ECH, 0E8H, 0F2H, 0E5H, 20H
        DC8 0E7H, 0E5H, 0EBH, 0E5H, 0EDH, 0F3H, 0FEH, 20H
        DC8 0EAH, 0EDH, 0EEH, 0EFH, 0EAH, 0F3H, 2CH, 20H
        DC8 0AH, 0F7H, 0F2H, 0EEH, 0E1H, 0FBH, 20H, 0F1H
        DC8 0EEH, 0E7H, 0E4H, 0E0H, 0F2H, 0FCH, 20H, 0F4H
        DC8 0E0H, 0E9H, 0EBH, 0AH, 0CFH, 0F0H, 0E0H, 0E2H
        DC8 0FBH, 0E9H, 20H, 0F1H, 0EEH, 0F4H, 0F2H, 20H
        DC8 0E4H, 0EBH, 0FFH, 20H, 0E2H, 0FBH, 0F5H, 0EEH
        DC8 0E4H, 0E0H, 0AH, 0
        DC8 0CDH, 0E0H, 0E6H, 0ECH, 0E8H, 0F2H, 0E5H, 20H
        DC8 35H, 2CH, 20H, 0F7H, 0F2H, 0EEH, 0E1H, 0FBH
        DC8 20H, 0EFH, 0F0H, 0EEH, 0E4H, 0EEH, 0EBH, 0E6H
        DC8 0E8H, 0F2H, 0FCH, 20H, 0E7H, 0E0H, 0EFH, 0E8H
        DC8 0F1H, 0FCH, 0AH, 0CFH, 0F0H, 0E0H, 0E2H, 0FBH
        DC8 0E9H, 20H, 0F1H, 0EEH, 0F4H, 0F2H, 20H, 0E4H
        DC8 0EBH, 0FFH, 20H, 0EEH, 0F1H, 0F2H, 0E0H, 0EDH
        DC8 0EEH, 0E2H, 0EAH, 0E8H, 20H, 0E7H, 0E0H, 0EFH
        DC8 0E8H, 0F1H, 0E8H, 0
        DC8 0CDH, 0E0H, 0E6H, 0ECH, 0E8H, 0F2H, 0E5H, 20H
        DC8 35H, 2CH, 20H, 0F7H, 0F2H, 0EEH, 0E1H, 0FBH
        DC8 20H, 0EFH, 0F0H, 0E8H, 0EEH, 0F1H, 0F2H, 0E0H
        DC8 0EDH, 0EEH, 0E2H, 0E8H, 0F2H, 0FCH, 20H, 0E7H
        DC8 0E0H, 0EFH, 0E8H, 0F1H, 0FCH, 0AH, 0CFH, 0F0H
        DC8 0E0H, 0E2H, 0FBH, 0E9H, 20H, 0F1H, 0EEH, 0F4H
        DC8 0F2H, 20H, 0E4H, 0EBH, 0FFH, 20H, 0EEH, 0F1H
        DC8 0F2H, 0E0H, 0EDH, 0EEH, 0E2H, 0EAH, 0E8H, 20H
        DC8 0E7H, 0E0H, 0EFH, 0E8H, 0F1H, 0E8H, 0
        DC8 0
//  273 
//  274 
//  275 static const struct
//  276 {
//  277   CSM_DESC maincsm;
//  278   WSHDR maincsm_name;

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "Dictophone">`:
        DATA
        DC8 "Dictophone"
        DC8 0
        DC32 maincsm_onmessage, maincsm_oncreate, 0, 0, 0, 0, maincsm_onclose
        DC32 44, 1, minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0
        DC16 139
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "%d-%d-%u_%d-%d-%d_mod...">`:
        DATA
        DC8 "%d-%d-%u_%d-%d-%d_mode%d_bit%d.amr"
        DC8 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "0:\\\\1.amr">`:
        DATA
        DC8 "0:\\1.amr"
        DC8 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(0)
        DATA
        DC8 "%t"

        RSEG DATA_C:CONST:SORT:NOROOT(2)
        DATA
        DC8 "amr"

        RSEG DATA_C:CONST:SORT:NOROOT(2)
minus11:
        DATA
        DC32 -11

        RSEG DATA_C:CONST:SORT:NOROOT(2)
gui_methods:
        DATA
        DC32 OnRedraw, onCreate, onClose, onFocus, onUnfocus, OnKey, 0H
        DC32 kill_data, method8, method9, 0H
        DC16 0, 0, 239, 319
//  279 }MAINCSM =
//  280 {
//  281   {
//  282   maincsm_onmessage,
//  283   maincsm_oncreate,
//  284 #ifdef NEWSGOLD
//  285   0,
//  286   0,
//  287   0,
//  288   0,
//  289 #endif
//  290   maincsm_onclose,
//  291   sizeof(MAIN_CSM),
//  292   1,
//  293   &minus11
//  294   },
//  295   {
//  296     maincsm_name_body,
//  297     NAMECSM_MAGIC1,
//  298     NAMECSM_MAGIC2,
//  299     0x0,
//  300     139
//  301   }
//  302 };

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock51 Using cfiCommon1
        CFI Function UpdateCSMname
        ARM
//  303 void UpdateCSMname(void)
//  304 {
//  305   wsprintf((WSHDR *)(&MAINCSM.maincsm_name),"Dictophone");
UpdateCSMname:
        LDR      R0,??UpdateCSMname_0  ;; `?<Constant "Dictophone">`
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        MOV      R1,R0
        ADD      R0,R0,#+52
        SWI      +292
//  306 }
        POP      {PC}             ;; return
        DATA
??UpdateCSMname_0:
        DC32     `?<Constant "Dictophone">`
        CFI EndBlock cfiBlock51

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock52 Using cfiCommon0
        CFI NoFunction
        THUMB
??DrawProgress??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock52
        REQUIRE DrawProgress

        RSEG DATA_I:DATA:SORT:NOROOT(2)
//  307 RECT pb={10,220,230,240};
pb:
        DS8 8
        REQUIRE `?<Initializer for pb>`
// FSTATS __data fs
fs:
        DS8 40
        REQUIRE `?<Initializer for fs>`
d:
        DS8 8
        REQUIRE `?<Initializer for d>`
//  308 
//  309 
//  310 double t1=0;
t1:
        DS8 8
        REQUIRE `?<Initializer for t1>`
// int __data object
object:
        DS8 4
        REQUIRE `?<Initializer for object>`
// int __data action
action:
        DS8 4
        REQUIRE `?<Initializer for action>`
// int __data MSG_Report
MSG_Report:
        DS8 4
        REQUIRE `?<Initializer for MSG_Report>`
// int __data mode
mode:
        DS8 4
        REQUIRE `?<Initializer for mode>`
// int __data bit
bit:
        DS8 4
        REQUIRE `?<Initializer for bit>`
obj:
        DS8 4
        REQUIRE `?<Initializer for obj>`
t:
        DS8 8
        REQUIRE `?<Initializer for t>`
// char __data RecordName[256]
RecordName:
        DS8 256
        REQUIRE `?<Initializer for RecordName>`
tmr:
        DS8 16
        REQUIRE `?<Initializer for tmr>`
name:
        DS8 128
        REQUIRE `?<Initializer for name>`

        RSEG DATA_I:DATA:SORT:NOROOT(0)
amr:
        DS8 3
        REQUIRE `?<Initializer for amr>`
//  311 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock53 Using cfiCommon1
        CFI Function DrawProgress
        ARM
//  312 void DrawProgress()
//  313 {
DrawProgress:
        PUSH     {R4-R8,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R8 Frame(CFA, -8)
        CFI R7 Frame(CFA, -12)
        CFI R6 Frame(CFA, -16)
        CFI R5 Frame(CFA, -20)
        CFI R4 Frame(CFA, -24)
        CFI CFA R13+24
//  314   DrawRectangle(0,0,239,319,1,GetPaletteAdrByColorIndex (0),GetPaletteAdrByColorIndex (0));
//  315   WSHDR *ws=AllocWS(256);
//  316   
//  317   switch(action)
        LDR      R6,??DrawProgress_1  ;; `?<Constant "%d/%d %s">`
        LDR      R5,??DataTable21  ;; pb
        MOV      R0,#+0
        SWI      +302
        MOV      R4,R0
        MOV      R0,#+0
        SWI      +302
        PUSH     {R4}
        CFI CFA R13+28
        PUSH     {R0}
        CFI CFA R13+32
        MOV      R3,#+63
        ORR      R3,R3,#0x100
        MOV      R2,#+239
        MOV      R0,#+1
        PUSH     {R0}
        CFI CFA R13+36
        MOV      R1,#+0
        MOV      R0,#+0
        SWI      +436
        MOV      R0,#+256
        SWI      +293
        MOV      R4,R0
        LDR      R0,[R5, #+68]
        ADD      SP,SP,#+12
        CFI CFA R13+24
        CMP      R0,#+4
        BHI      ??DrawProgress_2
        ADR      R1,??DrawProgress_0
        LDRB     R1,[R1, R0]
        ADD      PC,PC,R1, LSL #+2
        DATA
??DrawProgress_0:
        DC8      +1,+3,+5,+1
        DC8      +7,+0,+0,+0
        ARM
//  318   {
//  319   case AMR_NOT_CREATED:case AMR_STOP: ascii2ws(ws,"Нажмите зеленую кнопку, \nчтобы создать файл\nПравый софт для выхода\n");break;
??DrawProgress_3:
        ADD      R1,R6,#+68
        B        ??DrawProgress_4
//  320   case AMR_CREATED: ascii2ws(ws,"Нажмите 5, чтобы начать запись\nПравый софт для выхода");break;
??DrawProgress_5:
        ADD      R1,R6,#+12
        B        ??DrawProgress_4
//  321   case AMR_WRITE: ascii2ws(ws,"Нажмите 5, чтобы приостановить запись\nПравый софт для остановки записи");break;
??DrawProgress_6:
        ADD      R1,R6,#+204
        B        ??DrawProgress_4
//  322   case AMR_PAUSE: ascii2ws(ws,"Нажмите 5, чтобы продолжить запись\nПравый софт для остановки записи");break;
??DrawProgress_7:
        ADD      R1,R6,#+136
??DrawProgress_4:
        MOV      R0,R4
        BL       ascii2ws
//  323   }
//  324  DrawString (ws, 0, 0, 239, 100, 9, 2, GetPaletteAdrByColorIndex (1),0);
??DrawProgress_2:
        MOV      R0,#+1
        SWI      +302
        MOV      R1,#+0
        PUSH     {R1}
        CFI CFA R13+28
        PUSH     {R0}
        CFI CFA R13+32
        MOV      R3,#+239
        MOV      R2,#+0
        MOV      R0,#+2
        PUSH     {R0}
        CFI CFA R13+36
        MOV      R0,#+9
        PUSH     {R0}
        CFI CFA R13+40
        MOV      R0,#+100
        PUSH     {R0}
        CFI CFA R13+44
        MOV      R0,R4
        SWI      +332
//  325  if(action==AMR_WRITE){wsprintf(ws,"%d/%d %s",Obs_GetRealSize()/1024,size,folder[strlen(folder)-1]);
        LDR      R0,[R5, #+68]
        ADD      SP,SP,#+20
        CFI CFA R13+24
        CMP      R0,#+2
        BNE      ??DrawProgress_8
        LDR      R7,??DataTable19  ;; folder
        MOV      R0,R7
        SWI      +27
        MOV      R8,R0
        BL       Obs_GetRealSize
        ADD      R1,R8,R7
        LDRB     R1,[R1, #-1]
        LSR      R2,R0,#+10
        MOV      R0,R4
        PUSH     {R1}
        CFI CFA R13+28
        LDR      R1,??DataTable20  ;; size
        LDR      R3,[R1, #+0]
        MOV      R1,R6
        SWI      +292
//  326  DrawString (ws, 0, 200, 239, 220, 9, 2, GetPaletteAdrByColorIndex (1),0);}
        MOV      R0,#+1
        SWI      +302
        MOV      R1,#+0
        PUSH     {R1}
        CFI CFA R13+32
        PUSH     {R0}
        CFI CFA R13+36
        MOV      R3,#+239
        MOV      R2,#+200
        MOV      R0,#+2
        PUSH     {R0}
        CFI CFA R13+40
        MOV      R0,#+9
        PUSH     {R0}
        CFI CFA R13+44
        MOV      R0,#+220
        PUSH     {R0}
        CFI CFA R13+48
        MOV      R0,R4
        SWI      +332
        ADD      SP,SP,#+24
        CFI CFA R13+24
//  327   
//  328 
//  329   
//  330 
//  331   DrawRectangle(pb.x,pb.y,pb.x2,pb.y2,1,GetPaletteAdrByColorIndex (14),GetPaletteAdrByColorIndex (23));
??DrawProgress_8:
        MOV      R0,#+23
        SWI      +302
        MOV      R6,R0
        MOV      R0,#+14
        SWI      +302
        PUSH     {R6}
        CFI CFA R13+28
        PUSH     {R0}
        CFI CFA R13+32
        MOV      R0,#+1
        PUSH     {R0}
        CFI CFA R13+36
        LDRSH    R3,[R5, #+6]
        LDRSH    R2,[R5, #+4]
        LDRSH    R1,[R5, #+2]
        LDRSH    R0,[R5, #+0]
        SWI      +436
//  332   
//  333   DrawRectangle(pb.x+1,pb.y+1,pb.x+1+t1,pb.y2-1,1,GetPaletteAdrByColorIndex (23),GetPaletteAdrByColorIndex (14));
        MOV      R0,#+14
        SWI      +302
        MOV      R7,R0
        MOV      R0,#+23
        SWI      +302
        LDRSH    R1,[R5, #+0]
        PUSH     {R7}
        CFI CFA R13+40
        PUSH     {R0}
        CFI CFA R13+44
        ADD      R6,R1,#+1
        MOV      R0,#+1
        PUSH     {R0}
        CFI CFA R13+48
        LDRSH    R0,[R5, #+6]
        SUB      R7,R0,#+1
        MOV      R0,R6
        _BLF     __longToDouble,??__longToDouble??rA
        LDR      R2,[R5, #+56]
        LDR      R3,[R5, #+60]
        _BLF     __dAdd,??__dAdd??rA
        _BLF     __doubleToLong,??__doubleToLong??rA
        MOV      R2,R0
        LDRSH    R0,[R5, #+2]
        MOV      R3,R7
        ADD      R1,R0,#+1
        MOV      R0,R6
        SWI      +436
//  334 
//  335   
//  336   FreeWS(ws);
        MOV      R0,R4
        SWI      +297
//  337 }
        ADD      SP,SP,#+24
        CFI CFA R13+24
        POP      {R4-R8,PC}       ;; return
        DATA
??DrawProgress_1:
        DC32     `?<Constant "%d/%d %s">`
        CFI EndBlock cfiBlock53

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable19:
        DC32     folder

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable20:
        DC32     size

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock54 Using cfiCommon0
        CFI NoFunction
        THUMB
??Proc??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock54
        REQUIRE Proc
//  338 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock55 Using cfiCommon1
        CFI Function Proc
        ARM
//  339 void Proc()
//  340 {
Proc:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
//  341   
//  342   if(action==AMR_WRITE){t1=(pb.x2-pb.x-2)*Obs_Percente();DirectRedrawGUI();}
        LDR      R6,??DataTable21  ;; pb
        LDR      R0,[R6, #+68]
        CMP      R0,#+2
        BNE      ??Proc_0
        BL       Obs_Percente
        MOV      R4,R0
        LDRSH    R0,[R6, #+4]
        MOV      R5,R1
        LDRSH    R1,[R6, #+0]
        SUB      R0,R0,R1
        SUB      R0,R0,#+2
        _BLF     __longToDouble,??__longToDouble??rA
        MOV      R2,R4
        MOV      R3,R5
        _BLF     __dMul,??__dMul??rA
        STR      R0,[R6, #+56]
        STR      R1,[R6, #+60]
        SWI      +319
//  343   GBS_StartTimerProc(&tmr,100,Proc);
??Proc_0:
        LDR      R2,??Proc_1      ;; Proc
        MOV      R1,#+100
        ADD      R0,R6,#+352
        SWI      +77
//  344 }
        POP      {R4-R6,PC}       ;; return
        DATA
??Proc_1:
        DC32     Proc
        CFI EndBlock cfiBlock55

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable21:
        DC32     pb

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock56 Using cfiCommon0
        CFI NoFunction
        THUMB
??main??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock56
        REQUIRE main
//  345 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock57 Using cfiCommon1
        CFI Function main
        ARM
//  346 int main(char *exename, char *fname)
//  347 {
main:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        SUB      SP,SP,#+44
        CFI CFA R13+48
//  348   InitConfig();
        _BLF     InitConfig,??InitConfig??rA
//  349   MAIN_CSM main_csm;
//  350   LockSched();
        SWI      +326
//  351   UpdateCSMname();
        BL       UpdateCSMname
//  352   CreateCSM(&MAINCSM.maincsm,&main_csm,0);
        LDR      R0,??main_0      ;; `?<Constant "Dictophone">` + 12
        MOV      R2,#+0
        MOV      R1,SP
        SWI      +263
//  353   UnlockSched();
        SWI      +327
//  354   Proc();
        BL       Proc
//  355   return 0;
        MOV      R0,#+0
        ADD      SP,SP,#+44
        CFI CFA R13+4
        POP      {PC}             ;; return
        DATA
??main_0:
        DC32     `?<Constant "Dictophone">` + 12
        CFI EndBlock cfiBlock57
//  356 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock58 Using cfiCommon1
        CFI NoFunction
        ARM
??__longToDouble??rA:
        LDR      R3,??Subroutine29_0  ;; __longToDouble
        BX       R3
        DATA
??Subroutine29_0:
        DC32     __longToDouble
        CFI EndBlock cfiBlock58

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock59 Using cfiCommon1
        CFI NoFunction
        ARM
??__dMul??rA:
        LDR      R12,??Subroutine30_0  ;; __dMul
        BX       R12
        DATA
??Subroutine30_0:
        DC32     __dMul
        CFI EndBlock cfiBlock59

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock60 Using cfiCommon1
        CFI NoFunction
        ARM
??__ulongToDouble??rA:
        LDR      R3,??Subroutine31_0  ;; __ulongToDouble
        BX       R3
        DATA
??Subroutine31_0:
        DC32     __ulongToDouble
        CFI EndBlock cfiBlock60

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock61 Using cfiCommon1
        CFI NoFunction
        ARM
??__dDiv??rA:
        LDR      R12,??Subroutine32_0  ;; __dDiv
        BX       R12
        DATA
??Subroutine32_0:
        DC32     __dDiv
        CFI EndBlock cfiBlock61

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock62 Using cfiCommon1
        CFI NoFunction
        ARM
??kill_data??rA:
        LDR      R12,??Subroutine33_0  ;; kill_data
        BX       R12
        DATA
??Subroutine33_0:
        DC32     kill_data
        CFI EndBlock cfiBlock62

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock63 Using cfiCommon1
        CFI NoFunction
        ARM
??InitConfig??rA:
        LDR      R12,??Subroutine34_0  ;; InitConfig
        BX       R12
        DATA
??Subroutine34_0:
        DC32     InitConfig
        CFI EndBlock cfiBlock63

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock64 Using cfiCommon1
        CFI NoFunction
        ARM
??__dAdd??rA:
        LDR      R12,??Subroutine35_0  ;; __dAdd
        BX       R12
        DATA
??Subroutine35_0:
        DC32     __dAdd
        CFI EndBlock cfiBlock64

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock65 Using cfiCommon1
        CFI NoFunction
        ARM
??__doubleToLong??rA:
        LDR      R3,??Subroutine36_0  ;; __doubleToLong
        BX       R3
        DATA
??Subroutine36_0:
        DC32     __doubleToLong
        CFI EndBlock cfiBlock65

        RSEG DATA_ID:CONST:SORT:NOROOT(2)
`?<Initializer for pb>`:
        DATA
        DC16 10, 220, 230, 240
`?<Initializer for fs>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for d>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for t1>`:
        DC32 0H, 0H
`?<Initializer for object>`:
        DC32 0
`?<Initializer for action>`:
        DC32 0
`?<Initializer for MSG_Report>`:
        DC32 0
`?<Initializer for mode>`:
        DC32 0
`?<Initializer for bit>`:
        DC32 0
`?<Initializer for obj>`:
        DC8 0, 0, 0, 0
`?<Initializer for t>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for RecordName>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for tmr>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
`?<Initializer for name>`:
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
        DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0

        RSEG DATA_ID:CONST:SORT:NOROOT(0)
`?<Initializer for amr>`:
        DATA
        DC8 61H, 6DH, 72H

        RSEG INITTAB:CODE:ROOT(2)
        DATA
?init?tab?DATA_Z:
        DCD      sfe(DATA_Z) - sfb(DATA_Z), sfb(DATA_Z), sfb(DATA_Z)

        RSEG DATA_ID:CONST:SORT:NOROOT(2)
`?*?DATA_ID`:

        RSEG INITTAB:CODE:ROOT(2)
        DATA
?init?tab?DATA_I:
        DCD      sfe(DATA_I) - sfb(DATA_I), sfb(DATA_I), sfb(DATA_ID)

        END
// 
// 2 912 bytes in segment CODE
//   459 bytes in segment DATA_C
//   499 bytes in segment DATA_I
//   499 bytes in segment DATA_ID
//   548 bytes in segment DATA_Z
//    24 bytes in segment INITTAB
// 
// 2 700 bytes of CODE  memory (+ 236 bytes shared)
//   958 bytes of CONST memory
// 1 047 bytes of DATA  memory
//
//Errors: none
//Warnings: none
