char xfont[224][6]={
{0x00,0x00,0x00,0x00,0x00,2},   // 
{0x80,0x80,0x80,0x00,0x80,1},   //!
{0xA0,0x00,0x00,0x00,0x00,3},   //"
{0x50,0xF8,0x50,0xF8,0x50,5},   //#
{0x78,0xA0,0x70,0x28,0xF0,5},   //$
{0x90,0x10,0x20,0x40,0x90,4},   //%
{0x0,0x0,0x0,0x0,0x0},   //&             tag???
{0x80,0x80,0x00,0x00,0x00,1},   //'
{0x40,0x80,0x80,0x80,0x40,2},   //(
{0x80,0x40,0x40,0x40,0x80,2},   //)
{0x0,0x0,0x0,0x0,0x0},   //*
{0x00,0x40,0xE0,0x40,0x00,3},   //+
{0x0,0x0,0x0,0x0,0x0},   //,
{0x00,0x00,0xE0,0x00,0x00,3},   //-
{0x00,0x00,0x00,0x00,0x80,1},   //.
{0x10,0x10,0x20,0x40,0x80,4},   ///
{0x60,0x90,0x90,0x90,0x60,4},   //0
{0x40,0xC0,0x40,0x40,0xE0,3},   //1
{0x60,0x90,0x20,0x40,0xF0,4},   //2
{0x60,0x90,0x20,0x90,0x60,4},   //3
{0x50,0x90,0xF0,0x10,0x10,4},   //4
{0xF0,0x80,0xE0,0x10,0xE0,4},   //5
{0x70,0x80,0xE0,0x90,0x60,4},   //6
{0xF0,0x10,0x20,0x40,0x80,4},   //7
{0x60,0x90,0x60,0x90,0x60,4},   //8
{0x60,0x90,0x70,0x10,0xE0,4},   //9
{0x00,0x80,0x00,0x80,0x00,1},   //:
{0x00,0x80,0x00,0x80,0x80,1},   //;
{0x20,0x40,0x80,0x40,0x20,3},   //<
{0x00,0xE0,0x00,0xE0,0x00,3},   //=
{0x80,0x40,0x20,0x40,0x80,3},   //>
{0x60,0x90,0x20,0x00,0x20,4},   //?
{0x00,0x50,0x00,0x88,0x70,5},    //@             smile))
{0x60,0x90,0xF0,0x90,0x90,4},   //A
{0xE0,0x90,0xE0,0x90,0xE0,4},   //B
{0x70,0x80,0x80,0x80,0x70,4},   //C
{0xE0,0x90,0x90,0x90,0xE0,4},   //D
{0xF0,0x80,0xE0,0x80,0xF0,4},   //E
{0xF0,0x80,0xE0,0x80,0x80,4},   //F
{0x70,0x80,0xB0,0x90,0x60,4},   //G
{0x90,0x90,0xF0,0x90,0x90,4},   //H
{0xE0,0x40,0x40,0x40,0xE0,3},   //I
{0x10,0x10,0x10,0x90,0x60,4},   //J
{0x90,0x90,0xE0,0x90,0x90,4},   //K
{0x80,0x80,0x80,0x80,0xF0,4},   //L
{0xD8,0xA8,0xA8,0x88,0x88,5},   //M
{0x90,0xD0,0xB0,0x90,0x90,4},   //N
{0x60,0x90,0x90,0x90,0x60,4},   //O
{0xE0,0x90,0xE0,0x80,0x80,4},   //P
{0x60,0x90,0x90,0x60,0x10,4},   //Q
{0xE0,0x90,0xE0,0xA0,0x90,4},   //R
{0x70,0x80,0x60,0x10,0xE0,4},   //S
{0xE0,0x40,0x40,0x40,0x40,3},   //T
{0x90,0x90,0x90,0x90,0x60,4},   //U
{0x90,0x90,0x90,0x50,0x20,4},   //V
{0x88,0x88,0xA8,0xA8,0x50,5},   //W
{0x90,0x90,0x60,0x90,0x90,4},   //X
{0x90,0x90,0x70,0x10,0xE0,4},   //Y
{0xF8,0x10,0x20,0x40,0xF8,5},   //Z
{0xC0,0x80,0x80,0x80,0xC0,2},   //[
{0x80,0x80,0x40,0x20,0x10,4},   // '\'
{0xC0,0x40,0x40,0x40,0xC0,2},   //]
{0x40,0xA0,0x00,0x00,0x00,3},   //^
{0x00,0x00,0x00,0x00,0xE0,3},   //_
{0x80,0x40,0x00,0x00,0x00,2},   //`
{0x60,0x90,0xF0,0x90,0x90,4},   //A    little chars
{0xE0,0x90,0xE0,0x90,0xE0,4},   //B
{0x70,0x80,0x80,0x80,0x70,4},   //C
{0xE0,0x90,0x90,0x90,0xE0,4},   //D
{0xF0,0x80,0xE0,0x80,0xF0,4},   //E
{0xF0,0x80,0xE0,0x80,0x80,4},   //F
{0x70,0x80,0xB0,0x90,0x60,4},   //G
{0x90,0x90,0xF0,0x90,0x90,4},   //H
{0xE0,0x40,0x40,0x40,0xE0,3},   //I
{0x10,0x10,0x10,0x90,0x60,4},   //J
{0x90,0x90,0xE0,0x90,0x90,4},   //K
{0x80,0x80,0x80,0x80,0xF0,4},   //L
{0xD8,0xA8,0xA8,0x88,0x88,5},   //M
{0x90,0xD0,0xB0,0x90,0x90,4},   //N
{0x60,0x90,0x90,0x90,0x60,4},   //O
{0xE0,0x90,0xE0,0x80,0x80,4},   //P
{0x60,0x90,0x90,0x60,0x10,4},   //Q
{0xE0,0x90,0xE0,0xA0,0x90,4},   //R
{0x70,0x80,0x60,0x10,0xE0,4},   //S
{0xE0,0x40,0x40,0x40,0x40,3},   //T
{0x90,0x90,0x90,0x90,0x60,4},   //U
{0x90,0x90,0x90,0x50,0x20,4},   //V
{0x88,0x88,0xA8,0xA8,0x50,5},   //W
{0x90,0x90,0x60,0x90,0x90,4},   //X
{0x90,0x90,0x70,0x10,0xE0,4},   //Y
{0xF8,0x10,0x20,0x40,0xF8,5},   //Z
{0x0,0x0,0x0,0x0,0x0,3},   //{ 
{0x80,0x80,0x80,0x80,0x80,1},   //|
{0x0,0x0,0x0,0x0,0x0,3},   //}
{0x50,0xA0,0x0,0x0,0x0,4},   //~
{0x0,0x0,0x0,0x0,0x0},   // ------------------------
{0x0,0x0,0x0,0x0,0x0},   //€ 
{0x0,0x0,0x0,0x0,0x0},   //   N   N   OOO  
{0x0,0x0,0x0,0x0,0x0},   //‚   NN  N  O   O
{0x0,0x0,0x0,0x0,0x0},   //ƒ   N N N  O   O
{0x0,0x0,0x0,0x0,0x0},   //„   N  NN  O   O
{0x0,0x0,0x0,0x0,0x0},   //…   N   N   OOO 
{0x0,0x0,0x0,0x0,0x0},   //† 
{0x0,0x0,0x0,0x0,0x0},   //‡
{0x0,0x0,0x0,0x0,0x0},   //ˆ    CCC   H   H   AAAA   RRRRR    SSSSSSSSSS
{0x0,0x0,0x0,0x0,0x0},   //‰   C   C  H   H  A    A  R    R  S    
{0x0,0x0,0x0,0x0,0x0},   //Š   C      HHHHH  AAAAAA  RRRRR    SSS
{0x0,0x0,0x0,0x0,0x0},   //‹   C   C  H   H  A    A  R    R      SS
{0x0,0x0,0x0,0x0,0x0},   //Œ    CCC   H   H  A    A  R    R      SS
{0x0,0x0,0x0,0x0,0x0},   //                                     SS
{0x0,0x0,0x0,0x0,0x0},   //Ž           SSSSSSSSSSSSSSSSSSSSSSSSSS
{0x0,0x0,0x0,0x0,0x0},   //
{0x0,0x0,0x0,0x0,0x0},   //
{0x0,0x0,0x0,0x0,0x0},   //‘
{0x0,0x0,0x0,0x0,0x0},   //’
{0x0,0x0,0x0,0x0,0x0},   //“
{0x0,0x0,0x0,0x0,0x0},   //”
{0x0,0x0,0x0,0x0,0x0},   //•
{0x0,0x0,0x0,0x0,0x0},   //–
{0x0,0x0,0x0,0x0,0x0},   //—
{0x0,0x0,0x0,0x0,0x0},   //˜
{0x0,0x0,0x0,0x0,0x0},   //™
{0x0,0x0,0x0,0x0,0x0},   //š
{0x0,0x0,0x0,0x0,0x0},   //›
{0x0,0x0,0x0,0x0,0x0},   //œ
{0x0,0x0,0x0,0x0,0x0},   //
{0x0,0x0,0x0,0x0,0x0},   //ž
{0x0,0x0,0x0,0x0,0x0},   //Ÿ
{0x0,0x0,0x0,0x0,0x0},   // ------------------------------
{0x0,0x0,0x0,0x0,0x0},   //¡
{0x0,0x0,0x0,0x0,0x0},   //¢
{0x0,0x0,0x0,0x0,0x0},   //£
{0x0,0x0,0x0,0x0,0x0},   //¤
{0x0,0x0,0x0,0x0,0x0},   //¥
{0x0,0x0,0x0,0x0,0x0},   //¦
{0x0,0x0,0x0,0x0,0x0},   //§
{0x0,0x0,0x0,0x0,0x0},   //¨
{0x0,0x0,0x0,0x0,0x0},   //©
{0x0,0x0,0x0,0x0,0x0},   //ª
{0x0,0x0,0x0,0x0,0x0},   //«
{0x0,0x0,0x0,0x0,0x0},   //¬
{0x0,0x0,0x0,0x0,0x0},   //­
{0x0,0x0,0x0,0x0,0x0},   //®
{0x0,0x0,0x0,0x0,0x0},   //¯
{0x0,0x0,0x0,0x0,0x0},   //°
{0x40,0xE0,0x40,0x0,0xE0,3},   //±
{0x0,0x0,0x0,0x0,0x0},   //²
{0x0,0x0,0x0,0x0,0x0},   //³
{0x0,0x0,0x0,0x0,0x0},   //´
{0x0,0x0,0x0,0x0,0x0},   //µ
{0x0,0x0,0x0,0x0,0x0},   //¶
{0x0,0x0,0x0,0x0,0x0},   //·
{0x0,0x0,0x0,0x0,0x0},   //¸
{0x0,0x0,0x0,0x0,0x0},   //¹
{0x0,0x0,0x0,0x0,0x0},   //º
{0x0,0x0,0x0,0x0,0x0},   //»
{0x0,0x0,0x0,0x0,0x0},   //¼
{0x0,0x0,0x0,0x0,0x0},   //½
{0x0,0x0,0x0,0x0,0x0},   //¾
{0x0,0x0,0x0,0x0,0x0},   //¿
{0x60,0x90,0xF0,0x90,0x90,4},   //À
{0xF0,0x80,0xE0,0x90,0xE0,4},   //Á
{0xE0,0x90,0xE0,0x90,0xE0,4},   //Â
{0xF0,0x80,0x80,0x80,0x80,4},   //Ã
{0x30,0x50,0x50,0x50,0xF8,4},   //Ä
{0xF0,0x80,0xE0,0x80,0xF0,4},   //Å
{0xA8,0xA8,0x70,0xA8,0xA8,5},   //Æ
{0x60,0x90,0x20,0x90,0x60,4},   //Ç
{0x90,0xB0,0xD0,0x90,0x90,4},   //È
{0x0,0x00,0x0,0x0,0x0},   //É
{0x90,0x90,0xE0,0x90,0x90,4},   //Ê
{0x70,0x50,0x50,0x50,0xD0,4},   //Ë
{0xD8,0xA8,0xA8,0x88,0x88,5},   //Ì
{0x90,0x90,0xF0,0x90,0x90,4},   //Í
{0x60,0x90,0x90,0x90,0x60,4},   //Î
{0xF0,0x90,0x90,0x90,0x90,4},   //Ï
{0xE0,0x90,0xE0,0x80,0x80,4},   //Ð
{0x70,0x80,0x80,0x80,0x70,4},   //Ñ
{0xE0,0x40,0x40,0x40,0x40,3},   //Ò
{0x90,0x90,0x70,0x10,0xE0,4},   //Ó
{0xF8,0xA8,0xF8,0x20,0x20,5},   //Ô
{0x90,0x90,0x60,0x90,0x90,4},   //Õ
{0xA0,0xA0,0xA0,0xA0,0xF0,4},   //Ö
{0x90,0x90,0x70,0x10,0x10,4},   //×
{0x88,0x88,0xA8,0xA8,0xF8,5},   //Ø
{0x88,0x88,0xA8,0xA8,0xFC,6},   //Ù
{0xC0,0x40,0x70,0x50,0x70,4},   //Ú
{0x88,0x88,0xE8,0xA8,0xE8,5},   //Û
{0x80,0x80,0xE0,0x90,0xE0,4},   //Ü
{0x60,0x90,0x30,0x90,0x60,4},   //Ý
{0xB8,0xA8,0xE8,0xA8,0xB8,5},   //Þ
{0xF0,0x90,0x70,0x90,0x90,4},   //ß
{0x60,0x90,0xF0,0x90,0x90,4},   //À  //ìàëûå
{0xF0,0x80,0xE0,0x90,0xE0,4},   //Á
{0xE0,0x90,0xE0,0x90,0xE0,4},   //Â
{0xF0,0x80,0x80,0x80,0x80,4},   //Ã
{0x30,0x50,0x50,0x50,0xF8,4},   //Ä
{0xF0,0x80,0xE0,0x80,0xF0,4},   //Å
{0xA8,0xA8,0x70,0xA8,0xA8,5},   //Æ
{0x60,0x90,0x20,0x90,0x60,4},   //Ç
{0x90,0xB0,0xD0,0x90,0x90,4},   //È
{0x0,0x00,0x0,0x0,0x0},   //É
{0x90,0x90,0xE0,0x90,0x90,4},   //Ê
{0x70,0x50,0x50,0x50,0xD0,4},   //Ë
{0xD8,0xA8,0xA8,0x88,0x88,5},   //Ì
{0x90,0x90,0xF0,0x90,0x90,4},   //Í
{0x60,0x90,0x90,0x90,0x60,4},   //Î
{0xF0,0x90,0x90,0x90,0x90,4},   //Ï
{0xE0,0x90,0xE0,0x80,0x80,4},   //Ð
{0x70,0x80,0x80,0x80,0x70,4},   //Ñ
{0xE0,0x40,0x40,0x40,0x40,3},   //Ò
{0x90,0x90,0x70,0x10,0xE0,4},   //Ó
{0xF8,0xA8,0xF8,0x20,0x20,5},   //Ô
{0x90,0x90,0x60,0x90,0x90,4},   //Õ
{0xA0,0xA0,0xA0,0xA0,0xF0,4},   //Ö
{0x90,0x90,0x70,0x10,0x10,4},   //×
{0x88,0x88,0xA8,0xA8,0xF8,5},   //Ø
{0x88,0x88,0xA8,0xA8,0xFC,6},   //Ù
{0xC0,0x40,0x70,0x50,0x70,4},   //Ú
{0x88,0x88,0xE8,0xA8,0xE8,5},   //Û
{0x80,0x80,0xE0,0x90,0xE0,4},   //Ü
{0x60,0x90,0x30,0x90,0x60,4},   //Ý
{0xB8,0xA8,0xE8,0xA8,0xB8,5},   //Þ
{0xF0,0x90,0x70,0x90,0x90,4}};  //ß

inline int GetWidth(char c) {return(xfont[c-32][5]); }
inline int GetHeigth(char c) {return(5); }
int isCharValid(char c) {  if((c>31 && c<127)||(c>191 && c<256)) {return 1;} else{return 0;}}


void DrawChar(int x, int y, char c,const char* clid)
{
  if (isCharValid(c)==1)
  {
  IMGHDR img;
  img.w = 8;
  img.h = 5;
  img.bpnum = 1;
  img.bitmap = xfont[c-32];
  RECT rc;
  DRWOBJ drwobj;
  StoreXYWHtoRECT(&rc,x,y,img.w,img.h);
  SetProp2ImageOrCanvas(&drwobj,&rc,0,&img,0,0);
  SetColor(&drwobj,clid/*!*/,GetPaletteAdrByColorIndex(23));
  DrawObject(&drwobj);
  }
}

int GetStrWidth(char str[40])
{
  int xx=0;
  for (int i=0; i!=strlen(str); i++ )
  {
    xx=xx+GetWidth(str[i])+1;
  }
  return(xx);
}


int DrawStr(char str[40] ,int x,int y,const char* clid)
{
  int xx=x;
  for (int i=0; i!=strlen(str); i++ )
  {
    DrawChar(xx,y,str[i],clid);
    xx=xx+GetWidth(str[i])+1;
  }
  return(xx);  
}

void DrawStrUnderline(char str[40] ,int x,int y, char* clid, int lineattr)
{
  DrawLine(x,y+GetHeigth(' ')+1,x+DrawStr(str,x,y,clid),y+GetHeigth(' ')+1,lineattr,clid);
}

void DrawStrShadowed(char str[40] ,int x,int y,const char* clid, const char* shadow)
{
  DrawStr(str,x+1,y+1,shadow);
  DrawStr(str,x,y,clid);
}

