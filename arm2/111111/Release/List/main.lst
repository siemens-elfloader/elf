##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    28/Mar/2011  22:51:22 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  C:\arm\111111\main.c                                 #
#    Command line    =  C:\arm\111111\main.c -D NEWSGOLD -lC                 #
#                       C:\arm\111111\Release\List\ -o                       #
#                       C:\arm\111111\Release\Obj\ -z9 --cpu_mode arm        #
#                       --endian little --cpu ARM926EJ-S --stack_align 4     #
#                       --interwork -e --fpu None -I "C:\arm2\Embedded       #
#                       Workbench 4.0 Evaluation\ARM\INC\"                   #
#                       --inline_threshold=2                                 #
#    List file       =  C:\arm\111111\Release\List\main.lst                  #
#    Object file     =  C:\arm\111111\Release\Obj\main.r79                   #
#                                                                            #
#                                                                            #
##############################################################################

C:\arm\111111\main.c
      1          /*
      2          * PlayersControl
      3          * (c) Danil_e71
      4          * Идея Snoop-Cat
      5          * 2010-2011
      6          * http://team-sc.ru/viewtopic.php?t=6022
      7          */
      8          #include "conf_loader.h"//кфг
      9          #include "main.h"//константы

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Send_MPlayer_Command(unsigned short, short)
   \                     Send_MPlayer_Command:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   \   0000000C   E18000EF           SWI      +32993
   \   00000010   10002DE9           PUSH     {R4}
   \   00000014   000090E5           LDR      R0,[R0, #+0]
   \   00000018   0020A0E3           MOV      R2,#+0
   \   0000001C   053040E0           SUB      R3,R0,R5
   \   00000020   5310A0E3           MOV      R1,#+83
   \   00000024   801C81E3           ORR      R1,R1,#0x8000
   \   00000028   0900A0E3           MOV      R0,#+9
   \   0000002C   420C80E3           ORR      R0,R0,#0x4200
   \   00000030   000100EF           SWI      +256
   \   00000034   3180BDE8           POP      {R0,R4,R5,PC}    ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void MPlayer_VolChange(short)
   \                     MPlayer_VolChange:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   010050E3           CMP      R0,#+1
   \   00000008   0210A0E3           MOV      R1,#+2
   \   0000000C   1540A003           MOVEQ    R4,#+21
   \   00000010   1640A013           MOVNE    R4,#+22
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           BL       Send_MPlayer_Command
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000028   ........           B        Send_MPlayer_Command  ;; tailcall

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs int strcmp_nocase(char const *, char const *)
   \                     strcmp_nocase:
   \                     ??strcmp_nocase_0:
   \   00000000   0020D0E5           LDRB     R2,[R0, #+0]
   \   00000004   610052E3           CMP      R2,#+97
   \   00000008   010000BA           BLT      ??strcmp_nocase_1
   \   0000000C   7B0052E3           CMP      R2,#+123
   \   00000010   202042B2           SUBLT    R2,R2,#+32
   \                     ??strcmp_nocase_1:
   \   00000014   00C0D1E5           LDRB     R12,[R1, #+0]
   \   00000018   010080E2           ADD      R0,R0,#+1
   \   0000001C   0230A0E1           MOV      R3,R2
   \   00000020   61005CE3           CMP      R12,#+97
   \   00000024   010000BA           BLT      ??strcmp_nocase_2
   \   00000028   7B005CE3           CMP      R12,#+123
   \   0000002C   20C04CB2           SUBLT    R12,R12,#+32
   \                     ??strcmp_nocase_2:
   \   00000030   011081E2           ADD      R1,R1,#+1
   \   00000034   0C2052E0           SUBS     R2,R2,R12
   \   00000038   0100001A           BNE      ??strcmp_nocase_3
   \   0000003C   000053E3           CMP      R3,#+0
   \   00000040   EEFFFF1A           BNE      ??strcmp_nocase_0
   \                     ??strcmp_nocase_3:
   \   00000044   0200A0E1           MOV      R0,R2
   \   00000048   1EFF2FE1           BX       LR               ;; return

   \                                 In segment DATA_Z, align 4, align-sorted
   \   int __data IsMaplayerOn
   \                     IsMaplayerOn:
   \   00000000                      DS8 4
   \   int __data IsIvoOn
   \                     IsIvoOn:
   \   00000004                      DS8 4
   \   int __data IsSPlayerOn
   \                     IsSPlayerOn:
   \   00000008                      DS8 4
   \   IPC_REQ *__data ipc_recv
   \                     ipc_recv:
   \   0000000C                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
   \   IPC_REQ __data gipc
   \                     gipc:
   \   00000000                      DS8 12
   \   int __data MAINCSM_ID
   \                     MAINCSM_ID:
   \   0000000C                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
   \   IPC_REQ __data ipc_send
   \                     ipc_send:
   \   00000000                      DS8 12

   \                                 In segment DATA_Z, align 4, align-sorted
   \   unsigned int *__data addr
   \                     addr:
   \   00000000                      DS8 4

   \                                 In segment DATA_I, align 4, align-sorted
   \   int __data timer
   \                     timer:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for timer>`
   \   int __data key_timer
   \                     key_timer:
   \   00000004                      DS8 4
   \   00000008                      REQUIRE `?<Initializer for key_timer>`
   \   int __data sec
   \                     sec:
   \   00000008                      DS8 4
   \   0000000C                      REQUIRE `?<Initializer for sec>`
   \   int __data min
   \                     min:
   \   0000000C                      DS8 4
   \   00000010                      REQUIRE `?<Initializer for min>`
   \   int __data hour
   \                     hour:
   \   00000010                      DS8 4
   \   00000014                      REQUIRE `?<Initializer for hour>`
   \   int __data doublekey[15]
   \                     doublekey:
   \   00000014                      DS8 60
   \   00000050                      REQUIRE `?<Initializer for doublekey>`
   \   GBSTMR __data close_timer
   \                     close_timer:
   \   00000050                      DS8 16
   \   00000060                      REQUIRE `?<Initializer for close_timer>`
   \   GBSTMR __data KeyTmr
   \                     KeyTmr:
   \   00000060                      DS8 16
   \   00000070                      REQUIRE `?<Initializer for KeyTmr>`

   \                                 In segment DATA_Z, align 4, align-sorted
   \   static unsigned short __data maincsm_name_body[140]
   \                     maincsm_name_body:
   \   00000000                      DS8 280

   \                                 In segment DATA_Z, align 4, align-sorted
   \   struct <unnamed> *__data ws
   \                     ws:
   \   00000000                      DS8 4
     10          #include "funcs.c"//основные функции

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void SendCmd(int, int)
   \                     SendCmd:
   \   00000000   64309FE5           LDR      R3,??SendCmd_0   ;; ipc_send
   \   00000004   ........           LDR      R2,??DataTable41  ;; `?<Constant "IVOPLAY">`
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   010050E3           CMP      R0,#+1
   \   00000010   00208305           STREQ    R2,[R3, #+0]
   \   00000014   0D00000A           BEQ      ??SendCmd_1
   \   00000018   020050E3           CMP      R0,#+2
   \   0000001C   08008202           ADDEQ    R0,R2,#+8
   \   00000020   00008305           STREQ    R0,[R3, #+0]
   \   00000024   18008202           ADDEQ    R0,R2,#+24
   \   00000028   04008305           STREQ    R0,[R3, #+4]
   \   0000002C   0700000A           BEQ      ??SendCmd_1
   \   00000030   030050E3           CMP      R0,#+3
   \   00000034   0500001A           BNE      ??SendCmd_1
   \   00000038   200082E2           ADD      R0,R2,#+32
   \   0000003C   000083E5           STR      R0,[R3, #+0]
   \   00000040   180082E2           ADD      R0,R2,#+24
   \   00000044   040083E5           STR      R0,[R3, #+4]
   \   00000048   0000A0E3           MOV      R0,#+0
   \   0000004C   080083E5           STR      R0,[R3, #+8]
   \                     ??SendCmd_1:
   \   00000050   0120A0E1           MOV      R2,R1
   \   00000054   B010A0E3           MOV      R1,#+176
   \   00000058   DE1C81E3           ORR      R1,R1,#0xDE00
   \   0000005C   0900A0E3           MOV      R0,#+9
   \   00000060   420C80E3           ORR      R0,R0,#0x4200
   \   00000064   000100EF           SWI      +256
   \   00000068   0080BDE8           POP      {PC}             ;; return
   \                     ??SendCmd_0:
   \   0000006C   ........           DC32     ipc_send

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void PlayPause()
   \                     PlayPause:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0500000A           BEQ      ??PlayPause_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0200000A           BEQ      ??PlayPause_0
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   1100A0E3           MOV      R0,#+17
   \   00000028   ........           BL       Send_MPlayer_Command
   \                     ??PlayPause_0:
   \   0000002C   ........           LDR      R0,??DataTable38  ;; player1
   \   00000030   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   04009415           LDRNE    R0,[R4, #+4]
   \   00000040   00005013           CMPNE    R0,#+0
   \   00000044   0200000A           BEQ      ??PlayPause_1
   \   00000048   0310A0E3           MOV      R1,#+3
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   ........           BL       SendCmd
   \                     ??PlayPause_1:
   \   00000054   ........           LDR      R0,??DataTable36  ;; player2
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   000050E3           CMP      R0,#+0
   \   00000060   00009415           LDRNE    R0,[R4, #+0]
   \   00000064   00005013           CMPNE    R0,#+0
   \   00000068   0200000A           BEQ      ??PlayPause_2
   \   0000006C   0510A0E3           MOV      R1,#+5
   \   00000070   0200A0E3           MOV      R0,#+2
   \   00000074   ........           BL       SendCmd
   \                     ??PlayPause_2:
   \   00000078   ........           LDR      R0,??DataTable28  ;; player3
   \   0000007C   000090E5           LDR      R0,[R0, #+0]
   \   00000080   000050E3           CMP      R0,#+0
   \   00000084   08009415           LDRNE    R0,[R4, #+8]
   \   00000088   00005013           CMPNE    R0,#+0
   \   0000008C   1080BD08           POPEQ    {R4,PC}
   \   00000090   0210A0E3           MOV      R1,#+2
   \   00000094   ........           B        ??Subroutine27_0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine27:
   \   00000000   ........           LDR      R0,??DataTable28  ;; player3
   \   00000004   000090E5           LDR      R0,[R0, #+0]
   \   00000008   000050E3           CMP      R0,#+0
   \   0000000C   08009415           LDRNE    R0,[R4, #+8]
   \   00000010   00005013           CMPNE    R0,#+0
   \   00000014   1080BD08           POPEQ    {R4,PC}
   \   00000018   0310A0E3           MOV      R1,#+3
   \                     ??Subroutine27_0:
   \   0000001C   0300A0E3           MOV      R0,#+3
   \                     ??Subroutine27_1:
   \   00000020   ........           BL       SendCmd
   \   00000024   1080BDE8           POP      {R4,PC}          ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Stop()
   \                     Stop:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0500000A           BEQ      ??Stop_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0200000A           BEQ      ??Stop_0
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   0F00A0E3           MOV      R0,#+15
   \   00000028   ........           BL       Send_MPlayer_Command
   \                     ??Stop_0:
   \   0000002C   ........           LDR      R0,??DataTable38  ;; player1
   \   00000030   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   04009415           LDRNE    R0,[R4, #+4]
   \   00000040   00005013           CMPNE    R0,#+0
   \   00000044   0200000A           BEQ      ??Stop_1
   \   00000048   0710A0E3           MOV      R1,#+7
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   ........           BL       SendCmd
   \                     ??Stop_1:
   \   00000054   ........           LDR      R0,??DataTable36  ;; player2
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   000050E3           CMP      R0,#+0
   \   00000060   00009415           LDRNE    R0,[R4, #+0]
   \   00000064   00005013           CMPNE    R0,#+0
   \   00000068   0200000A           BEQ      ??Stop_2
   \   0000006C   0C10A0E3           MOV      R1,#+12
   \   00000070   0200A0E3           MOV      R0,#+2
   \   00000074   ........           BL       SendCmd
   \                     ??Stop_2:
   \   00000078   ........           B        ?Subroutine27

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Prev()
   \                     Prev:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0500000A           BEQ      ??Prev_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0200000A           BEQ      ??Prev_0
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   0200A0E3           MOV      R0,#+2
   \   00000028   ........           BL       Send_MPlayer_Command
   \                     ??Prev_0:
   \   0000002C   ........           LDR      R0,??DataTable38  ;; player1
   \   00000030   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   04009415           LDRNE    R0,[R4, #+4]
   \   00000040   00005013           CMPNE    R0,#+0
   \   00000044   0200000A           BEQ      ??Prev_1
   \   00000048   0210A0E3           MOV      R1,#+2
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   ........           BL       SendCmd
   \                     ??Prev_1:
   \   00000054   ........           LDR      R0,??DataTable36  ;; player2
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   000050E3           CMP      R0,#+0
   \   00000060   00009415           LDRNE    R0,[R4, #+0]
   \   00000064   00005013           CMPNE    R0,#+0
   \   00000068   0200000A           BEQ      ??Prev_2
   \   0000006C   0410A0E3           MOV      R1,#+4
   \   00000070   0200A0E3           MOV      R0,#+2
   \   00000074   ........           BL       SendCmd
   \                     ??Prev_2:
   \   00000078   ........           LDR      R0,??DataTable28  ;; player3
   \   0000007C   000090E5           LDR      R0,[R0, #+0]
   \   00000080   000050E3           CMP      R0,#+0
   \   00000084   08009415           LDRNE    R0,[R4, #+8]
   \   00000088   00005013           CMPNE    R0,#+0
   \   0000008C   1080BD08           POPEQ    {R4,PC}
   \   00000090   0510A0E3           MOV      R1,#+5
   \   00000094   ........           B        ??Subroutine27_0

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Next()
   \                     Next:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0500000A           BEQ      ??Next_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0200000A           BEQ      ??Next_0
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   0100A0E3           MOV      R0,#+1
   \   00000028   ........           BL       Send_MPlayer_Command
   \                     ??Next_0:
   \   0000002C   ........           LDR      R0,??DataTable38  ;; player1
   \   00000030   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   04009415           LDRNE    R0,[R4, #+4]
   \   00000040   00005013           CMPNE    R0,#+0
   \   00000044   0200000A           BEQ      ??Next_1
   \   00000048   0110A0E3           MOV      R1,#+1
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   ........           BL       SendCmd
   \                     ??Next_1:
   \   00000054   ........           LDR      R0,??DataTable36  ;; player2
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   000050E3           CMP      R0,#+0
   \   00000060   00009415           LDRNE    R0,[R4, #+0]
   \   00000064   00005013           CMPNE    R0,#+0
   \   00000068   0200000A           BEQ      ??Next_2
   \   0000006C   0610A0E3           MOV      R1,#+6
   \   00000070   0200A0E3           MOV      R0,#+2
   \   00000074   ........           BL       SendCmd
   \                     ??Next_2:
   \   00000078   ........           LDR      R0,??DataTable28  ;; player3
   \   0000007C   000090E5           LDR      R0,[R0, #+0]
   \   00000080   000050E3           CMP      R0,#+0
   \   00000084   08009415           LDRNE    R0,[R4, #+8]
   \   00000088   00005013           CMPNE    R0,#+0
   \   0000008C   1080BD08           POPEQ    {R4,PC}
   \   00000090   0410A0E3           MOV      R1,#+4
   \   00000094   ........           B        ??Subroutine27_0

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Start(int)
   \                     Start:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   ........           LDR      R0,??DataTable37  ;; player0
   \   0000000C   000090E5           LDR      R0,[R0, #+0]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0200000A           BEQ      ??Start_0
   \   00000018   000054E3           CMP      R4,#+0
   \   0000001C   0000001A           BNE      ??Start_0
   \   00000020   FF0100EF           SWI      +511
   \                     ??Start_0:
   \   00000024   400FA0E3           MOV      R0,#+256
   \   00000028   250100EF           SWI      +293
   \   0000002C   0050A0E1           MOV      R5,R0
   \   00000030   ........           LDR      R0,??DataTable38  ;; player1
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   0800000A           BEQ      ??Start_1
   \   00000040   010054E3           CMP      R4,#+1
   \   00000044   0600001A           BNE      ??Start_1
   \   00000048   9C109FE5           LDR      R1,??Start_2     ;; PATH_IVO
   \   0000004C   0500A0E1           MOV      R0,R5
   \   00000050   240100EF           SWI      +292
   \   00000054   0020A0E3           MOV      R2,#+0
   \   00000058   0010A0E3           MOV      R1,#+0
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   940000EF           SWI      +148
   \                     ??Start_1:
   \   00000064   ........           LDR      R0,??DataTable36  ;; player2
   \   00000068   000090E5           LDR      R0,[R0, #+0]
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   0800000A           BEQ      ??Start_3
   \   00000074   020054E3           CMP      R4,#+2
   \   00000078   0600001A           BNE      ??Start_3
   \   0000007C   6C109FE5           LDR      R1,??Start_2+0x4  ;; PATH_MAPLAYER
   \   00000080   0500A0E1           MOV      R0,R5
   \   00000084   240100EF           SWI      +292
   \   00000088   0020A0E3           MOV      R2,#+0
   \   0000008C   0010A0E3           MOV      R1,#+0
   \   00000090   0500A0E1           MOV      R0,R5
   \   00000094   940000EF           SWI      +148
   \                     ??Start_3:
   \   00000098   ........           LDR      R0,??DataTable28  ;; player3
   \   0000009C   000090E5           LDR      R0,[R0, #+0]
   \   000000A0   000050E3           CMP      R0,#+0
   \   000000A4   0800000A           BEQ      ??Start_4
   \   000000A8   030054E3           CMP      R4,#+3
   \   000000AC   0600001A           BNE      ??Start_4
   \   000000B0   3C109FE5           LDR      R1,??Start_2+0x8  ;; PATH_SPLAYER
   \   000000B4   0500A0E1           MOV      R0,R5
   \   000000B8   240100EF           SWI      +292
   \   000000BC   0020A0E3           MOV      R2,#+0
   \   000000C0   0010A0E3           MOV      R1,#+0
   \   000000C4   0500A0E1           MOV      R0,R5
   \   000000C8   940000EF           SWI      +148
   \                     ??Start_4:
   \   000000CC   0500A0E1           MOV      R0,R5
   \   000000D0   290100EF           SWI      +297
   \   000000D4   1C009FE5           LDR      R0,??Start_2+0xC  ;; ena_lock
   \   000000D8   000090E5           LDR      R0,[R0, #+0]
   \   000000DC   000050E3           CMP      R0,#+0
   \   000000E0   3080BD08           POPEQ    {R4,R5,PC}
   \   000000E4   ........           BL       Lock
   \   000000E8   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??Start_2:
   \   000000EC   ........           DC32     PATH_IVO
   \   000000F0   ........           DC32     PATH_MAPLAYER
   \   000000F4   ........           DC32     PATH_SPLAYER
   \   000000F8   ........           DC32     ena_lock

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Close()
   \                     Close:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0500000A           BEQ      ??Close_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0200000A           BEQ      ??Close_0
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   0C00A0E3           MOV      R0,#+12
   \   00000028   ........           BL       Send_MPlayer_Command
   \                     ??Close_0:
   \   0000002C   ........           LDR      R0,??DataTable38  ;; player1
   \   00000030   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   04009415           LDRNE    R0,[R4, #+4]
   \   00000040   00005013           CMPNE    R0,#+0
   \   00000044   0200000A           BEQ      ??Close_1
   \   00000048   1910A0E3           MOV      R1,#+25
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   ........           BL       SendCmd
   \                     ??Close_1:
   \   00000054   ........           LDR      R0,??DataTable36  ;; player2
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   000050E3           CMP      R0,#+0
   \   00000060   00009415           LDRNE    R0,[R4, #+0]
   \   00000064   00005013           CMPNE    R0,#+0
   \   00000068   0200000A           BEQ      ??Close_2
   \   0000006C   0910A0E3           MOV      R1,#+9
   \   00000070   0200A0E3           MOV      R0,#+2
   \   00000074   ........           BL       SendCmd
   \                     ??Close_2:
   \   00000078                      REQUIRE ?Subroutine27
   \   00000078                      ;; // Fall through to label ?Subroutine27

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void VolUP()
   \                     VolUP:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0400000A           BEQ      ??VolUP_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0100000A           BEQ      ??VolUP_0
   \   00000020   0100A0E3           MOV      R0,#+1
   \   00000024   ........           BL       MPlayer_VolChange
   \                     ??VolUP_0:
   \   00000028   ........           LDR      R0,??DataTable38  ;; player1
   \   0000002C   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   04009415           LDRNE    R0,[R4, #+4]
   \   0000003C   00005013           CMPNE    R0,#+0
   \   00000040   0200000A           BEQ      ??VolUP_1
   \   00000044   0410A0E3           MOV      R1,#+4
   \   00000048   0100A0E3           MOV      R0,#+1
   \   0000004C   ........           BL       SendCmd
   \                     ??VolUP_1:
   \   00000050   ........           LDR      R0,??DataTable36  ;; player2
   \   00000054   000090E5           LDR      R0,[R0, #+0]
   \   00000058   000050E3           CMP      R0,#+0
   \   0000005C   00009415           LDRNE    R0,[R4, #+0]
   \   00000060   00005013           CMPNE    R0,#+0
   \   00000064   1080BD08           POPEQ    {R4,PC}
   \   00000068   0A10A0E3           MOV      R1,#+10
   \   0000006C   0200A0E3           MOV      R0,#+2
   \   00000070   ........           B        ??Subroutine27_1

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void VolDOWN()
   \                     VolDOWN:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0400000A           BEQ      ??VolDOWN_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0100000A           BEQ      ??VolDOWN_0
   \   00000020   0000E0E3           MVN      R0,#+0
   \   00000024   ........           BL       MPlayer_VolChange
   \                     ??VolDOWN_0:
   \   00000028   ........           LDR      R0,??DataTable38  ;; player1
   \   0000002C   ........           LDR      R4,??DataTable35  ;; IsMaplayerOn
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   04009415           LDRNE    R0,[R4, #+4]
   \   0000003C   00005013           CMPNE    R0,#+0
   \   00000040   0200000A           BEQ      ??VolDOWN_1
   \   00000044   0510A0E3           MOV      R1,#+5
   \   00000048   0100A0E3           MOV      R0,#+1
   \   0000004C   ........           BL       SendCmd
   \                     ??VolDOWN_1:
   \   00000050   ........           LDR      R0,??DataTable36  ;; player2
   \   00000054   000090E5           LDR      R0,[R0, #+0]
   \   00000058   000050E3           CMP      R0,#+0
   \   0000005C   00009415           LDRNE    R0,[R4, #+0]
   \   00000060   00005013           CMPNE    R0,#+0
   \   00000064   1080BD08           POPEQ    {R4,PC}
   \   00000068   0B10A0E3           MOV      R1,#+11
   \   0000006C   0200A0E3           MOV      R0,#+2
   \   00000070   ........           B        ??Subroutine27_1

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Mute()
   \                     Mute:
   \   00000000   ........           LDR      R0,??DataTable37  ;; player0
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0500000A           BEQ      ??Mute_0
   \   00000014   7F0000EF           SWI      +127
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0200000A           BEQ      ??Mute_0
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   0A00A0E3           MOV      R0,#+10
   \   00000028   ........           BL       Send_MPlayer_Command
   \                     ??Mute_0:
   \   0000002C   ........           LDR      R0,??DataTable38  ;; player1
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   18009F15           LDRNE    R0,??Mute_1      ;; IsMaplayerOn + 4
   \   0000003C   00009015           LDRNE    R0,[R0, #+0]
   \   00000040   00005013           CMPNE    R0,#+0
   \   00000044   0080BD08           POPEQ    {PC}
   \   00000048   0610A0E3           MOV      R1,#+6
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   ........           BL       SendCmd
   \   00000054   0080BDE8           POP      {PC}             ;; return
   \                     ??Mute_1:
   \   00000058   ........           DC32     IsMaplayerOn + 4

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs int HeadsetDisconnect()
   \                     HeadsetDisconnect:
   \   00000000   04019FE5           LDR      R0,??HeadsetDisconnect_1  ;; HeadsetDType
   \   00000004   30402DE9           PUSH     {R4,R5,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   FC409FE5           LDR      R4,??HeadsetDisconnect_1+0x4  ;; SHORCUT1
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0800001A           BNE      ??HeadsetDisconnect_2
   \   00000018   ........           LDR      R5,??DataTable40  ;; addr
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   740000EF           SWI      +116
   \   00000024   000085E5           STR      R0,[R5, #+0]
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   0100000A           BEQ      ??HeadsetDisconnect_3
   \   00000030   100090E5           LDR      R0,[R0, #+16]
   \   00000034   710100EF           SWI      +369
   \                     ??HeadsetDisconnect_3:
   \   00000038   ........           B        ?Subroutine29
   \                     ??HeadsetDisconnect_2:
   \   0000003C   010050E3           CMP      R0,#+1
   \   00000040   0B00001A           BNE      ??HeadsetDisconnect_4
   \   00000044   400FA0E3           MOV      R0,#+256
   \   00000048   250100EF           SWI      +293
   \   0000004C   0050A0E1           MOV      R5,R0
   \   00000050   0410A0E1           MOV      R1,R4
   \   00000054   240100EF           SWI      +292
   \   00000058   0020A0E3           MOV      R2,#+0
   \   0000005C   0010A0E3           MOV      R1,#+0
   \   00000060   0500A0E1           MOV      R0,R5
   \   00000064   940000EF           SWI      +148
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   290100EF           SWI      +297
   \   00000070   F0FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_4:
   \   00000074   020050E3           CMP      R0,#+2
   \   00000078   2200001A           BNE      ??HeadsetDisconnect_5
   \   0000007C   90009FE5           LDR      R0,??HeadsetDisconnect_1+0x8  ;; HeadsetDD
   \   00000080   000090E5           LDR      R0,[R0, #+0]
   \   00000084   0B0050E3           CMP      R0,#+11
   \   00000088   EAFFFF8A           BHI      ??HeadsetDisconnect_3
   \   0000008C   011F8FE2           ADR      R1,??HeadsetDisconnect_0
   \   00000090   D01091E1           LDRSB    R1,[R1, R0]
   \   00000094   01F18FE0           ADD      PC,PC,R1, LSL #+2
   \                     ??HeadsetDisconnect_0:
   \   00000098   02050709           DC8      +2,+5,+7,+9
   \   0000009C   0B0D0F11           DC8      +11,+13,+15,+17
   \   000000A0   13151719           DC8      +19,+21,+23,+25
   \                     ??HeadsetDisconnect_6:
   \   000000A4   0000A0E3           MOV      R0,#+0
   \                     ??HeadsetDisconnect_7:
   \   000000A8   ........           BL       Start
   \   000000AC   E1FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_8:
   \   000000B0   0100A0E3           MOV      R0,#+1
   \   000000B4   FBFFFFEA           B        ??HeadsetDisconnect_7
   \                     ??HeadsetDisconnect_9:
   \   000000B8   0200A0E3           MOV      R0,#+2
   \   000000BC   F9FFFFEA           B        ??HeadsetDisconnect_7
   \                     ??HeadsetDisconnect_10:
   \   000000C0   0300A0E3           MOV      R0,#+3
   \   000000C4   F7FFFFEA           B        ??HeadsetDisconnect_7
   \                     ??HeadsetDisconnect_11:
   \   000000C8   ........           BL       Close
   \   000000CC   D9FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_12:
   \   000000D0   ........           BL       PlayPause
   \   000000D4   D7FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_13:
   \   000000D8   ........           BL       Stop
   \   000000DC   D5FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_14:
   \   000000E0   ........           BL       Next
   \   000000E4   D3FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_15:
   \   000000E8   ........           BL       Prev
   \   000000EC   D1FFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_16:
   \   000000F0   ........           BL       VolUP
   \   000000F4   CFFFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_17:
   \   000000F8   ........           BL       VolDOWN
   \   000000FC   CDFFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_18:
   \   00000100   ........           BL       Mute
   \   00000104   CBFFFFEA           B        ??HeadsetDisconnect_3
   \                     ??HeadsetDisconnect_5:
   \   00000108   ........           B        ?Subroutine28
   \                     ??HeadsetDisconnect_1:
   \   0000010C   ........           DC32     HeadsetDType
   \   00000110   ........           DC32     SHORCUT1
   \   00000114   ........           DC32     HeadsetDD

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine29:
   \   00000000   0100A0E3           MOV      R0,#+1
   \   00000004   3080BDE8           POP      {R4,R5,PC}

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine28:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   3080BDE8           POP      {R4,R5,PC}       ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs int HeadsetConnect()
   \                     HeadsetConnect:
   \   00000000   04019FE5           LDR      R0,??HeadsetConnect_1  ;; HeadsetCType
   \   00000004   30402DE9           PUSH     {R4,R5,LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   FC409FE5           LDR      R4,??HeadsetConnect_1+0x4  ;; SHORCUT2
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0800001A           BNE      ??HeadsetConnect_2
   \   00000018   ........           LDR      R5,??DataTable40  ;; addr
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   740000EF           SWI      +116
   \   00000024   000085E5           STR      R0,[R5, #+0]
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   0100000A           BEQ      ??HeadsetConnect_3
   \   00000030   100090E5           LDR      R0,[R0, #+16]
   \   00000034   710100EF           SWI      +369
   \                     ??HeadsetConnect_3:
   \   00000038   ........           B        ?Subroutine29
   \                     ??HeadsetConnect_2:
   \   0000003C   010050E3           CMP      R0,#+1
   \   00000040   0B00001A           BNE      ??HeadsetConnect_4
   \   00000044   400FA0E3           MOV      R0,#+256
   \   00000048   250100EF           SWI      +293
   \   0000004C   0050A0E1           MOV      R5,R0
   \   00000050   0410A0E1           MOV      R1,R4
   \   00000054   240100EF           SWI      +292
   \   00000058   0020A0E3           MOV      R2,#+0
   \   0000005C   0010A0E3           MOV      R1,#+0
   \   00000060   0500A0E1           MOV      R0,R5
   \   00000064   940000EF           SWI      +148
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   290100EF           SWI      +297
   \   00000070   F0FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_4:
   \   00000074   020050E3           CMP      R0,#+2
   \   00000078   2200001A           BNE      ??HeadsetConnect_5
   \   0000007C   90009FE5           LDR      R0,??HeadsetConnect_1+0x8  ;; HeadsetCD
   \   00000080   000090E5           LDR      R0,[R0, #+0]
   \   00000084   0B0050E3           CMP      R0,#+11
   \   00000088   EAFFFF8A           BHI      ??HeadsetConnect_3
   \   0000008C   011F8FE2           ADR      R1,??HeadsetConnect_0
   \   00000090   D01091E1           LDRSB    R1,[R1, R0]
   \   00000094   01F18FE0           ADD      PC,PC,R1, LSL #+2
   \                     ??HeadsetConnect_0:
   \   00000098   02050709           DC8      +2,+5,+7,+9
   \   0000009C   0B0D0F11           DC8      +11,+13,+15,+17
   \   000000A0   13151719           DC8      +19,+21,+23,+25
   \                     ??HeadsetConnect_6:
   \   000000A4   0000A0E3           MOV      R0,#+0
   \                     ??HeadsetConnect_7:
   \   000000A8   ........           BL       Start
   \   000000AC   E1FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_8:
   \   000000B0   0100A0E3           MOV      R0,#+1
   \   000000B4   FBFFFFEA           B        ??HeadsetConnect_7
   \                     ??HeadsetConnect_9:
   \   000000B8   0200A0E3           MOV      R0,#+2
   \   000000BC   F9FFFFEA           B        ??HeadsetConnect_7
   \                     ??HeadsetConnect_10:
   \   000000C0   0300A0E3           MOV      R0,#+3
   \   000000C4   F7FFFFEA           B        ??HeadsetConnect_7
   \                     ??HeadsetConnect_11:
   \   000000C8   ........           BL       Close
   \   000000CC   D9FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_12:
   \   000000D0   ........           BL       PlayPause
   \   000000D4   D7FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_13:
   \   000000D8   ........           BL       Stop
   \   000000DC   D5FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_14:
   \   000000E0   ........           BL       Next
   \   000000E4   D3FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_15:
   \   000000E8   ........           BL       Prev
   \   000000EC   D1FFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_16:
   \   000000F0   ........           BL       VolUP
   \   000000F4   CFFFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_17:
   \   000000F8   ........           BL       VolDOWN
   \   000000FC   CDFFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_18:
   \   00000100   ........           BL       Mute
   \   00000104   CBFFFFEA           B        ??HeadsetConnect_3
   \                     ??HeadsetConnect_5:
   \   00000108   ........           B        ?Subroutine28
   \                     ??HeadsetConnect_1:
   \   0000010C   ........           DC32     HeadsetCType
   \   00000110   ........           DC32     SHORCUT2
   \   00000114   ........           DC32     HeadsetCD

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void TmrSec(int)
   \                     TmrSec:
   \   00000000   4C009FE5           LDR      R0,??TmrSec_0    ;; timer
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   001090E5           LDR      R1,[R0, #+0]
   \   0000000C   020051E3           CMP      R1,#+2
   \   00000010   060000AA           BGE      ??TmrSec_1
   \   00000014   3C209FE5           LDR      R2,??TmrSec_0+0x4  ;; TmrSec
   \   00000018   011081E2           ADD      R1,R1,#+1
   \   0000001C   001080E5           STR      R1,[R0, #+0]
   \   00000020   041090E5           LDR      R1,[R0, #+4]
   \   00000024   600080E2           ADD      R0,R0,#+96
   \   00000028   4D0000EF           SWI      +77
   \   0000002C   0080BDE8           POP      {PC}
   \                     ??TmrSec_1:
   \   00000030   0010A0E3           MOV      R1,#+0
   \   00000034   0020A0E3           MOV      R2,#+0
   \                     ??TmrSec_2:
   \   00000038   013180E0           ADD      R3,R0,R1, LSL #+2
   \   0000003C   142083E5           STR      R2,[R3, #+20]
   \   00000040   011081E2           ADD      R1,R1,#+1
   \   00000044   0F0051E3           CMP      R1,#+15
   \   00000048   FAFFFFBA           BLT      ??TmrSec_2
   \   0000004C   002080E5           STR      R2,[R0, #+0]
   \   00000050   0080BDE8           POP      {PC}             ;; return
   \                     ??TmrSec_0:
   \   00000054   ........           DC32     timer
   \   00000058   ........           DC32     TmrSec

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void Lock()
   \                     Lock:
   \   00000000   3C309FE5           LDR      R3,??Lock_0      ;; gipc
   \   00000004   ........           LDR      R0,??DataTable41  ;; `?<Constant "IVOPLAY">`
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   281080E2           ADD      R1,R0,#+40
   \   00000010   300080E2           ADD      R0,R0,#+48
   \   00000014   040083E5           STR      R0,[R3, #+4]
   \   00000018   0C0093E5           LDR      R0,[R3, #+12]
   \   0000001C   001083E5           STR      R1,[R3, #+0]
   \   00000020   080083E5           STR      R0,[R3, #+8]
   \   00000024   0120A0E3           MOV      R2,#+1
   \   00000028   B010A0E3           MOV      R1,#+176
   \   0000002C   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000030   0900A0E3           MOV      R0,#+9
   \   00000034   420C80E3           ORR      R0,R0,#0x4200
   \   00000038   000100EF           SWI      +256
   \   0000003C   A90000EF           SWI      +169
   \   00000040   0080BDE8           POP      {PC}             ;; return
   \                     ??Lock_0:
   \   00000044   ........           DC32     gipc

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void StartCloseTimer()
   \                     StartCloseTimer:
   \   00000000   ........           LDR      R0,??DataTable50  ;; timer
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   081080E5           STR      R1,[R0, #+8]
   \   0000000C   0C1080E5           STR      R1,[R0, #+12]
   \   00000010   101080E5           STR      R1,[R0, #+16]
   \   00000014   ........           B        CloseTimer       ;; tailcall

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void StopCloseTimer()
   \                     StopCloseTimer:
   \   00000000   08009FE5           LDR      R0,??StopCloseTimer_0  ;; timer + 80
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   440100EF           SWI      +324
   \   0000000C   0080BDE8           POP      {PC}             ;; return
   \                     ??StopCloseTimer_0:
   \   00000010   ........           DC32     timer + 80

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void CloseTimer()
   \                     CloseTimer:
   \   00000000   CC009FE5           LDR      R0,??CloseTimer_0  ;; TimerMin
   \   00000004   70402DE9           PUSH     {R4-R6,LR}
   \   00000008   004090E5           LDR      R4,[R0, #+0]
   \   0000000C   C4009FE5           LDR      R0,??CloseTimer_0+0x4  ;; TimerHour
   \   00000010   005090E5           LDR      R5,[R0, #+0]
   \   00000014   010055E3           CMP      R5,#+1
   \   00000018   010054B3           CMPLT    R4,#+1
   \   0000001C   7080BDB8           POPLT    {R4-R6,PC}
   \   00000020   ........           LDR      R6,??DataTable50  ;; timer
   \   00000024   B0109FE5           LDR      R1,??CloseTimer_0+0x8  ;; TimerVibr
   \   00000028   080096E5           LDR      R0,[R6, #+8]
   \   0000002C   001091E5           LDR      R1,[R1, #+0]
   \   00000030   010080E2           ADD      R0,R0,#+1
   \   00000034   080086E5           STR      R0,[R6, #+8]
   \   00000038   000051E3           CMP      R1,#+0
   \   0000003C   0700000A           BEQ      ??CloseTimer_1
   \   00000040   020050E3           CMP      R0,#+2
   \   00000044   050000AA           BGE      ??CloseTimer_1
   \   00000048   100096E5           LDR      R0,[R6, #+16]
   \   0000004C   000050E3           CMP      R0,#+0
   \   00000050   0C009605           LDREQ    R0,[R6, #+12]
   \   00000054   00005003           CMPEQ    R0,#+0
   \   00000058   0A00A003           MOVEQ    R0,#+10
   \   0000005C   0000000A           BEQ      ??CloseTimer_2
   \                     ??CloseTimer_1:
   \   00000060   0000A0E3           MOV      R0,#+0
   \                     ??CloseTimer_2:
   \   00000064   7C0000EF           SWI      +124
   \   00000068   0C0096E5           LDR      R0,[R6, #+12]
   \   0000006C   081096E5           LDR      R1,[R6, #+8]
   \   00000070   3C0051E3           CMP      R1,#+60
   \   00000074   010080A2           ADDGE    R0,R0,#+1
   \   00000078   0010A0A3           MOVGE    R1,#+0
   \   0000007C   081086A5           STRGE    R1,[R6, #+8]
   \   00000080   3C0050E3           CMP      R0,#+60
   \   00000084   100096A5           LDRGE    R0,[R6, #+16]
   \   00000088   010080A2           ADDGE    R0,R0,#+1
   \   0000008C   100086A5           STRGE    R0,[R6, #+16]
   \   00000090   0000A0A3           MOVGE    R0,#+0
   \   00000094   0C0086E5           STR      R0,[R6, #+12]
   \   00000098   100096E5           LDR      R0,[R6, #+16]
   \   0000009C   050050E1           CMP      R0,R5
   \   000000A0   0C009605           LDREQ    R0,[R6, #+12]
   \   000000A4   04005001           CMPEQ    R0,R4
   \   000000A8   0400001A           BNE      ??CloseTimer_3
   \   000000AC   ........           BL       Close
   \   000000B0   ........           BL       Lock
   \   000000B4   500086E2           ADD      R0,R6,#+80
   \   000000B8   440100EF           SWI      +324
   \   000000BC   7080BDE8           POP      {R4-R6,PC}
   \                     ??CloseTimer_3:
   \   000000C0   18209FE5           LDR      R2,??CloseTimer_0+0xC  ;; CloseTimer
   \   000000C4   D810A0E3           MOV      R1,#+216
   \   000000C8   500086E2           ADD      R0,R6,#+80
   \   000000CC   4D0000EF           SWI      +77
   \   000000D0   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??CloseTimer_0:
   \   000000D4   ........           DC32     TimerMin
   \   000000D8   ........           DC32     TimerHour
   \   000000DC   ........           DC32     TimerVibr
   \   000000E0   ........           DC32     CloseTimer
     11          #include "funcs.h"//описание функций
     12          
     13          
     14          #define VERSION "1.0"
     15          
     16          

   \                                 In segment CODE, align 4, keep-with-next
     17          int MyFunc(int key1,int key2,int key1type,int key2type,int msg,int submsg,void ptr(),int number,int param0)
     18          {
   \                     MyFunc:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   1CC09DE5           LDR      R12,[SP, #+28]
   \   00000008   20509DE5           LDR      R5,[SP, #+32]
   \   0000000C   24809DE5           LDR      R8,[SP, #+36]
   \   00000010   28609DE5           LDR      R6,[SP, #+40]
   \   00000014   0040A0E1           MOV      R4,R0
   \   00000018   0100A0E1           MOV      R0,R1
   \   0000001C   18109DE5           LDR      R1,[SP, #+24]
     19            
     20            if((key1type!=KEY_NOT_USE||key2type!=KEY_NOT_USE)&&msg!=KEY_DOWN)
   \   00000020   040052E3           CMP      R2,#+4
   \   00000024   04005303           CMPEQ    R3,#+4
   \   00000028   9370A013           MOVNE    R7,#+147
   \   0000002C   407F8713           ORRNE    R7,R7,#0x100
   \   00000030   07005111           CMPNE    R1,R7
   \   00000034   4300000A           BEQ      ??MyFunc_0
     21            {
     22            if((key1type==KEY_DOUBLE_CLICK&&msg==KEY_UP&&submsg==key1)||(key2type==KEY_DOUBLE_CLICK&&msg==KEY_UP&&submsg==key2))
   \   00000038   0070E0E3           MVN      R7,#+0
   \   0000003C   010052E3           CMP      R2,#+1
   \   00000040   650F5103           CMPEQ    R1,#+404
   \   00000044   04005C01           CMPEQ    R12,R4
   \   00000048   0300000A           BEQ      ??MyFunc_1
   \   0000004C   010053E3           CMP      R3,#+1
   \   00000050   650F5103           CMPEQ    R1,#+404
   \   00000054   00005C01           CMPEQ    R12,R0
   \   00000058   1400001A           BNE      ??MyFunc_2
     23            {
     24               doublekey[number]++;if(submsg==key1)TmrSec(key1);else TmrSec(key2);
   \                     ??MyFunc_1:
   \   0000005C   ........           LDR      R1,??DataTable50  ;; timer
   \   00000060   04005CE1           CMP      R12,R4
   \   00000064   088181E0           ADD      R8,R1,R8, LSL #+2
   \   00000068   141098E5           LDR      R1,[R8, #+20]
   \   0000006C   0400A001           MOVEQ    R0,R4
   \   00000070   011081E2           ADD      R1,R1,#+1
   \   00000074   141088E5           STR      R1,[R8, #+20]
   \   00000078   ........           BL       TmrSec
     25               if(doublekey[number]==DOUBLE_SECOND){if(param0!=-1)ptr(param0); else ptr();doublekey[number]=DOUBLE_NULL;} 
   \   0000007C   140098E5           LDR      R0,[R8, #+20]
   \   00000080   020050E3           CMP      R0,#+2
   \   00000084   0700001A           BNE      ??MyFunc_3
   \   00000088   070056E1           CMP      R6,R7
   \   0000008C   0200000A           BEQ      ??MyFunc_4
   \   00000090   0600A0E1           MOV      R0,R6
   \   00000094   35FF2FE1           BLX      R5
   \   00000098   000000EA           B        ??MyFunc_5
   \                     ??MyFunc_4:
   \   0000009C   35FF2FE1           BLX      R5
   \                     ??MyFunc_5:
   \   000000A0   0000A0E3           MOV      R0,#+0
   \   000000A4   140088E5           STR      R0,[R8, #+20]
     26                return 1;  
   \                     ??MyFunc_3:
   \   000000A8   0100A0E3           MOV      R0,#+1
   \   000000AC   F081BDE8           POP      {R4-R8,PC}
     27            }
     28           if((key1type==KEY_TWO&&key2type==KEY_TWO&&msg==KEY_UP)&&(submsg==key1||submsg==key2))
   \                     ??MyFunc_2:
   \   000000B0   9580A0E3           MOV      R8,#+149
   \   000000B4   408F88E3           ORR      R8,R8,#0x100
   \   000000B8   030052E3           CMP      R2,#+3
   \   000000BC   03005303           CMPEQ    R3,#+3
   \   000000C0   650F5103           CMPEQ    R1,#+404
   \   000000C4   0F00001A           BNE      ??MyFunc_6
   \   000000C8   04005CE1           CMP      R12,R4
   \   000000CC   00005C11           CMPNE    R12,R0
   \   000000D0   1600001A           BNE      ??MyFunc_7
     29            {    
     30              if(submsg==key2&&(int)*RamPressedKey()==key1)if(param0!=-1)ptr(param0); else ptr();
   \   000000D4   00005CE1           CMP      R12,R0
   \   000000D8   F2FFFF1A           BNE      ??MyFunc_3
   \   000000DC   DF8000EF           SWI      +32991
   \   000000E0   0000D0E5           LDRB     R0,[R0, #+0]
   \   000000E4   040050E1           CMP      R0,R4
   \   000000E8   EEFFFF1A           BNE      ??MyFunc_3
   \   000000EC   070056E1           CMP      R6,R7
   \   000000F0   0200000A           BEQ      ??MyFunc_8
   \                     ??MyFunc_9:
   \   000000F4   0600A0E1           MOV      R0,R6
   \   000000F8   35FF2FE1           BLX      R5
   \   000000FC   E9FFFFEA           B        ??MyFunc_3
   \                     ??MyFunc_8:
   \   00000100   35FF2FE1           BLX      R5
   \   00000104   E7FFFFEA           B        ??MyFunc_3
     31              
     32            return 1;
     33            }
     34              if((submsg==key1&&((key1type==KEY_LONG_PRESS&&msg==LONG_PRESS)||(key1type==KEY_ONE_CLICK&&msg==KEY_UP)))||(submsg==key2&&((key2type==KEY_LONG_PRESS&&msg==LONG_PRESS)||(key2type==KEY_ONE_CLICK&&msg==KEY_UP))))
   \                     ??MyFunc_6:
   \   00000108   04005CE1           CMP      R12,R4
   \   0000010C   0700001A           BNE      ??MyFunc_7
   \   00000110   020052E3           CMP      R2,#+2
   \   00000114   0200001A           BNE      ??MyFunc_10
   \   00000118   080051E1           CMP      R1,R8
   \   0000011C   0300001A           BNE      ??MyFunc_7
   \   00000120   0D0000EA           B        ??MyFunc_11
   \                     ??MyFunc_10:
   \   00000124   000052E3           CMP      R2,#+0
   \   00000128   650F5103           CMPEQ    R1,#+404
   \   0000012C   0A00000A           BEQ      ??MyFunc_11
   \                     ??MyFunc_7:
   \   00000130   00005CE1           CMP      R12,R0
   \   00000134   0300001A           BNE      ??MyFunc_0
   \   00000138   020053E3           CMP      R3,#+2
   \   0000013C   0300001A           BNE      ??MyFunc_12
   \   00000140   080051E1           CMP      R1,R8
   \   00000144   0400000A           BEQ      ??MyFunc_11
     35            {
     36              if(param0!=-1)ptr(param0);
     37              else ptr();
     38              return 1;
     39            }
     40            return -1;
   \                     ??MyFunc_0:
   \   00000148   0000E0E3           MVN      R0,#+0
   \   0000014C   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??MyFunc_12:
   \   00000150   000053E3           CMP      R3,#+0
   \   00000154   650F5103           CMPEQ    R1,#+404
   \   00000158   FAFFFF1A           BNE      ??MyFunc_0
   \                     ??MyFunc_11:
   \   0000015C   070056E1           CMP      R6,R7
   \   00000160   E6FFFF0A           BEQ      ??MyFunc_8
   \   00000164   E2FFFFEA           B        ??MyFunc_9
     41            }
     42              return -1;
     43          }
     44          
     45          

   \                                 In segment CODE, align 4, keep-with-next
     46          int MyTmrFunc(int key,int keytype,int msg,int submsg,void ptr(),int number)
     47          {
   \                     MyTmrFunc:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   10C09DE5           LDR      R12,[SP, #+16]
   \   00000008   0C409DE5           LDR      R4,[SP, #+12]
     48            if(keytype!=3&&msg!=KEY_DOWN&&submsg==key)
   \   0000000C   030051E3           CMP      R1,#+3
   \   00000010   9350A013           MOVNE    R5,#+147
   \   00000014   405F8513           ORRNE    R5,R5,#0x100
   \   00000018   05005211           CMPNE    R2,R5
   \   0000001C   1700000A           BEQ      ??MyTmrFunc_0
   \   00000020   000053E1           CMP      R3,R0
   \   00000024   1500001A           BNE      ??MyTmrFunc_0
     49            {  
     50            if((keytype==KEY_DOUBLE_CLICK&&msg==KEY_UP))
   \   00000028   010051E3           CMP      R1,#+1
   \   0000002C   0E00001A           BNE      ??MyTmrFunc_1
   \   00000030   650F52E3           CMP      R2,#+404
   \   00000034   1100001A           BNE      ??MyTmrFunc_0
     51            {
     52              doublekey[number]++;TmrSec(key);
   \   00000038   ........           LDR      R1,??DataTable50  ;; timer
   \   0000003C   0C5181E0           ADD      R5,R1,R12, LSL #+2
   \   00000040   141095E5           LDR      R1,[R5, #+20]
   \   00000044   011081E2           ADD      R1,R1,#+1
   \   00000048   141085E5           STR      R1,[R5, #+20]
   \   0000004C   ........           BL       TmrSec
     53              if(doublekey[number]==DOUBLE_SECOND)
   \   00000050   140095E5           LDR      R0,[R5, #+20]
   \   00000054   020050E3           CMP      R0,#+2
   \   00000058   0200001A           BNE      ??MyTmrFunc_2
     54              {
     55                ptr();
   \   0000005C   34FF2FE1           BLX      R4
     56                doublekey[number]=DOUBLE_NULL;
   \   00000060   0000A0E3           MOV      R0,#+0
   \   00000064   140085E5           STR      R0,[R5, #+20]
     57                return 1;
     58            }   
     59            return 1;
   \                     ??MyTmrFunc_2:
   \   00000068   ........           B        ?Subroutine29
     60            } 
     61              if((keytype==KEY_LONG_PRESS&&msg==LONG_PRESS)||(keytype==KEY_ONE_CLICK&&msg==KEY_UP))
   \                     ??MyTmrFunc_1:
   \   0000006C   020051E3           CMP      R1,#+2
   \   00000070   0400001A           BNE      ??MyTmrFunc_3
   \   00000074   020085E2           ADD      R0,R5,#+2
   \   00000078   000052E1           CMP      R2,R0
   \   0000007C   0400000A           BEQ      ??MyTmrFunc_4
     62            {
     63             ptr();
     64             return 1;
     65            }
     66            return -1;
   \                     ??MyTmrFunc_0:
   \   00000080   0000E0E3           MVN      R0,#+0
   \   00000084   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??MyTmrFunc_3:
   \   00000088   000051E3           CMP      R1,#+0
   \   0000008C   650F5203           CMPEQ    R2,#+404
   \   00000090   FAFFFF1A           BNE      ??MyTmrFunc_0
   \                     ??MyTmrFunc_4:
   \   00000094   34FF2FE1           BLX      R4
   \   00000098   F2FFFFEA           B        ??MyTmrFunc_2
     67              }
     68            return -1;
     69          }
     70          
     71          

   \                                 In segment CODE, align 4, keep-with-next
     72          int my_keyhook(int submsg, int msg)
     73          {
   \                     my_keyhook:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
     74              
     75          if((MainType==TYPE_ONLY_UNLOCK&&!IsUnlocked())||(MainType==TYPE_ONLY_LOCK&&!IsUnlocked())||MainType==TYPE_BOTH) 
   \   00000008   5C059FE5           LDR      R0,??my_keyhook_0  ;; MainType
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   010050E3           CMP      R0,#+1
   \   00000018   0300001A           BNE      ??my_keyhook_1
   \                     ??my_keyhook_2:
   \   0000001C   430000EF           SWI      +67
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   4E01001A           BNE      ??my_keyhook_3
   \   00000028   030000EA           B        ??my_keyhook_4
   \                     ??my_keyhook_1:
   \   0000002C   000050E3           CMP      R0,#+0
   \   00000030   F9FFFF0A           BEQ      ??my_keyhook_2
   \   00000034   020050E3           CMP      R0,#+2
   \   00000038   4901001A           BNE      ??my_keyhook_3
     76            {
     77              if(!IsPlayerOn()&&!IsIvoOn&&!IsMaplayerOn&&!IsSPlayerOn)
   \                     ??my_keyhook_4:
   \   0000003C   ........           LDR      R6,??DataTable48  ;; IsMaplayerOn
   \   00000040   7F0000EF           SWI      +127
   \   00000044   000050E3           CMP      R0,#+0
   \   00000048   04009605           LDREQ    R0,[R6, #+4]
   \   0000004C   00005003           CMPEQ    R0,#+0
   \   00000050   00009605           LDREQ    R0,[R6, #+0]
   \   00000054   00005003           CMPEQ    R0,#+0
   \   00000058   08009605           LDREQ    R0,[R6, #+8]
   \   0000005C   00005003           CMPEQ    R0,#+0
   \   00000060   5400001A           BNE      ??my_keyhook_5
     78              {
     79              if(MyFunc(StartKey1_1,StartKey1_2,StartKey1_1Type,StartKey1_2Type,msg,submsg,Start,0,STANDART)==1)return KEYHOOK_BREAK;
   \   00000064   04759FE5           LDR      R7,??my_keyhook_0+0x4  ;; Start
   \   00000068   01002DE9           PUSH     {R0}
   \   0000006C   01002DE9           PUSH     {R0}
   \   00000070   0700A0E1           MOV      R0,R7
   \   00000074   01002DE9           PUSH     {R0}
   \   00000078   0400A0E1           MOV      R0,R4
   \   0000007C   01002DE9           PUSH     {R0}
   \   00000080   0500A0E1           MOV      R0,R5
   \   00000084   01002DE9           PUSH     {R0}
   \   00000088   E4049FE5           LDR      R0,??my_keyhook_0+0x8  ;; StartKey1_2Type
   \   0000008C   003090E5           LDR      R3,[R0, #+0]
   \   00000090   E0049FE5           LDR      R0,??my_keyhook_0+0xC  ;; StartKey1_1Type
   \   00000094   002090E5           LDR      R2,[R0, #+0]
   \   00000098   DC049FE5           LDR      R0,??my_keyhook_0+0x10  ;; StartKey1_2
   \   0000009C   001090E5           LDR      R1,[R0, #+0]
   \   000000A0   D8049FE5           LDR      R0,??my_keyhook_0+0x14  ;; StartKey1_1
   \   000000A4   000090E5           LDR      R0,[R0, #+0]
   \   000000A8   ........           BL       MyFunc
   \   000000AC   010050E3           CMP      R0,#+1
   \   000000B0   14D08DE2           ADD      SP,SP,#+20
   \   000000B4   0100001A           BNE      ??my_keyhook_6
   \                     ??my_keyhook_7:
   \   000000B8   0200A0E3           MOV      R0,#+2
   \   000000BC   F080BDE8           POP      {R4-R7,PC}
     80              if(MyFunc(StartKey2_1,StartKey2_2,StartKey2_1Type,StartKey2_2Type,msg,submsg,Start,1,IVOPLAY)==1)return KEYHOOK_BREAK;
   \                     ??my_keyhook_6:
   \   000000C0   0100A0E3           MOV      R0,#+1
   \   000000C4   01002DE9           PUSH     {R0}
   \   000000C8   01002DE9           PUSH     {R0}
   \   000000CC   0700A0E1           MOV      R0,R7
   \   000000D0   01002DE9           PUSH     {R0}
   \   000000D4   0400A0E1           MOV      R0,R4
   \   000000D8   01002DE9           PUSH     {R0}
   \   000000DC   0500A0E1           MOV      R0,R5
   \   000000E0   01002DE9           PUSH     {R0}
   \   000000E4   98049FE5           LDR      R0,??my_keyhook_0+0x18  ;; StartKey2_2Type
   \   000000E8   003090E5           LDR      R3,[R0, #+0]
   \   000000EC   94049FE5           LDR      R0,??my_keyhook_0+0x1C  ;; StartKey2_1Type
   \   000000F0   002090E5           LDR      R2,[R0, #+0]
   \   000000F4   90049FE5           LDR      R0,??my_keyhook_0+0x20  ;; StartKey2_2
   \   000000F8   001090E5           LDR      R1,[R0, #+0]
   \   000000FC   8C049FE5           LDR      R0,??my_keyhook_0+0x24  ;; StartKey2_1
   \   00000100   000090E5           LDR      R0,[R0, #+0]
   \   00000104   ........           BL       MyFunc
   \   00000108   010050E3           CMP      R0,#+1
   \   0000010C   14D08DE2           ADD      SP,SP,#+20
   \   00000110   E8FFFF0A           BEQ      ??my_keyhook_7
     81              if(MyFunc(StartKey3_1,StartKey3_2,StartKey3_1Type,StartKey3_2Type,msg,submsg,Start,2,MAPLAYER)==1)return KEYHOOK_BREAK;
   \   00000114   0200A0E3           MOV      R0,#+2
   \   00000118   01002DE9           PUSH     {R0}
   \   0000011C   01002DE9           PUSH     {R0}
   \   00000120   0700A0E1           MOV      R0,R7
   \   00000124   01002DE9           PUSH     {R0}
   \   00000128   0400A0E1           MOV      R0,R4
   \   0000012C   01002DE9           PUSH     {R0}
   \   00000130   0500A0E1           MOV      R0,R5
   \   00000134   01002DE9           PUSH     {R0}
   \   00000138   54049FE5           LDR      R0,??my_keyhook_0+0x28  ;; StartKey3_2Type
   \   0000013C   003090E5           LDR      R3,[R0, #+0]
   \   00000140   50049FE5           LDR      R0,??my_keyhook_0+0x2C  ;; StartKey3_1Type
   \   00000144   002090E5           LDR      R2,[R0, #+0]
   \   00000148   4C049FE5           LDR      R0,??my_keyhook_0+0x30  ;; StartKey3_2
   \   0000014C   001090E5           LDR      R1,[R0, #+0]
   \   00000150   48049FE5           LDR      R0,??my_keyhook_0+0x34  ;; StartKey3_1
   \   00000154   000090E5           LDR      R0,[R0, #+0]
   \   00000158   ........           BL       MyFunc
   \   0000015C   010050E3           CMP      R0,#+1
   \   00000160   14D08DE2           ADD      SP,SP,#+20
   \   00000164   D3FFFF0A           BEQ      ??my_keyhook_7
     82              if(MyFunc(StartKey4_1,StartKey4_2,StartKey4_1Type,StartKey4_2Type,msg,submsg,Start,3,SPLAYER)==1)return KEYHOOK_BREAK;
   \   00000168   0300A0E3           MOV      R0,#+3
   \   0000016C   01002DE9           PUSH     {R0}
   \   00000170   01002DE9           PUSH     {R0}
   \   00000174   80002DE9           PUSH     {R7}
   \   00000178   0400A0E1           MOV      R0,R4
   \   0000017C   01002DE9           PUSH     {R0}
   \   00000180   0500A0E1           MOV      R0,R5
   \   00000184   01002DE9           PUSH     {R0}
   \   00000188   14049FE5           LDR      R0,??my_keyhook_0+0x38  ;; StartKey4_2Type
   \   0000018C   003090E5           LDR      R3,[R0, #+0]
   \   00000190   10049FE5           LDR      R0,??my_keyhook_0+0x3C  ;; StartKey4_1Type
   \   00000194   002090E5           LDR      R2,[R0, #+0]
   \   00000198   0C049FE5           LDR      R0,??my_keyhook_0+0x40  ;; StartKey4_2
   \   0000019C   001090E5           LDR      R1,[R0, #+0]
   \   000001A0   08049FE5           LDR      R0,??my_keyhook_0+0x44  ;; StartKey4_1
   \   000001A4   000090E5           LDR      R0,[R0, #+0]
   \   000001A8   ........           BL       MyFunc
   \   000001AC   010050E3           CMP      R0,#+1
   \   000001B0   14D08DE2           ADD      SP,SP,#+20
   \   000001B4   BFFFFF0A           BEQ      ??my_keyhook_7
     83              }
     84          
     85          
     86              
     87              
     88             if(IsPlayerOn()||IsIvoOn||IsMaplayerOn||IsSPlayerOn)
   \                     ??my_keyhook_5:
   \   000001B8   7F0000EF           SWI      +127
   \   000001BC   000050E3           CMP      R0,#+0
   \   000001C0   04009605           LDREQ    R0,[R6, #+4]
   \   000001C4   00005003           CMPEQ    R0,#+0
   \   000001C8   00009605           LDREQ    R0,[R6, #+0]
   \   000001CC   00005003           CMPEQ    R0,#+0
   \   000001D0   08009605           LDREQ    R0,[R6, #+8]
   \   000001D4   00005003           CMPEQ    R0,#+0
   \   000001D8   F080BD08           POPEQ    {R4-R7,PC}
     89            { 
     90            if(MyFunc(PlayPauseKey_1,PlayPauseKey_2,PlayPauseKey_1Type,PlayPauseKey_2Type,msg,submsg,PlayPause,4,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   000001DC   0000E0E3           MVN      R0,#+0
   \   000001E0   01002DE9           PUSH     {R0}
   \   000001E4   0400A0E3           MOV      R0,#+4
   \   000001E8   01002DE9           PUSH     {R0}
   \   000001EC   C0039FE5           LDR      R0,??my_keyhook_0+0x48  ;; PlayPause
   \   000001F0   01002DE9           PUSH     {R0}
   \   000001F4   0400A0E1           MOV      R0,R4
   \   000001F8   01002DE9           PUSH     {R0}
   \   000001FC   0500A0E1           MOV      R0,R5
   \   00000200   01002DE9           PUSH     {R0}
   \   00000204   AC039FE5           LDR      R0,??my_keyhook_0+0x4C  ;; PlayPauseKey_2Type
   \   00000208   003090E5           LDR      R3,[R0, #+0]
   \   0000020C   A8039FE5           LDR      R0,??my_keyhook_0+0x50  ;; PlayPauseKey_1Type
   \   00000210   002090E5           LDR      R2,[R0, #+0]
   \   00000214   A4039FE5           LDR      R0,??my_keyhook_0+0x54  ;; PlayPauseKey_2
   \   00000218   001090E5           LDR      R1,[R0, #+0]
   \   0000021C   A0039FE5           LDR      R0,??my_keyhook_0+0x58  ;; PlayPauseKey_1
   \   00000220   000090E5           LDR      R0,[R0, #+0]
   \   00000224   ........           BL       MyFunc
   \   00000228   010050E3           CMP      R0,#+1
   \   0000022C   14D08DE2           ADD      SP,SP,#+20
   \   00000230   A0FFFF0A           BEQ      ??my_keyhook_7
     91            if(MyFunc(CloseKey_1,CloseKey_2,CloseKey_1Type,CloseKey_2Type,msg,submsg,Close,5,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   00000234   0000E0E3           MVN      R0,#+0
   \   00000238   01002DE9           PUSH     {R0}
   \   0000023C   0500A0E3           MOV      R0,#+5
   \   00000240   01002DE9           PUSH     {R0}
   \   00000244   7C039FE5           LDR      R0,??my_keyhook_0+0x5C  ;; Close
   \   00000248   01002DE9           PUSH     {R0}
   \   0000024C   0400A0E1           MOV      R0,R4
   \   00000250   01002DE9           PUSH     {R0}
   \   00000254   0500A0E1           MOV      R0,R5
   \   00000258   01002DE9           PUSH     {R0}
   \   0000025C   68039FE5           LDR      R0,??my_keyhook_0+0x60  ;; CloseKey_2Type
   \   00000260   003090E5           LDR      R3,[R0, #+0]
   \   00000264   64039FE5           LDR      R0,??my_keyhook_0+0x64  ;; CloseKey_1Type
   \   00000268   002090E5           LDR      R2,[R0, #+0]
   \   0000026C   60039FE5           LDR      R0,??my_keyhook_0+0x68  ;; CloseKey_2
   \   00000270   001090E5           LDR      R1,[R0, #+0]
   \   00000274   5C039FE5           LDR      R0,??my_keyhook_0+0x6C  ;; CloseKey_1
   \   00000278   000090E5           LDR      R0,[R0, #+0]
   \   0000027C   ........           BL       MyFunc
   \   00000280   010050E3           CMP      R0,#+1
   \   00000284   14D08DE2           ADD      SP,SP,#+20
   \   00000288   8AFFFF0A           BEQ      ??my_keyhook_7
     92            if(MyFunc(StopKey_1,StopKey_2,StopKey_1Type,StopKey_2Type,msg,submsg,Stop,6,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   0000028C   0000E0E3           MVN      R0,#+0
   \   00000290   01002DE9           PUSH     {R0}
   \   00000294   0600A0E3           MOV      R0,#+6
   \   00000298   01002DE9           PUSH     {R0}
   \   0000029C   38039FE5           LDR      R0,??my_keyhook_0+0x70  ;; Stop
   \   000002A0   01002DE9           PUSH     {R0}
   \   000002A4   0400A0E1           MOV      R0,R4
   \   000002A8   01002DE9           PUSH     {R0}
   \   000002AC   0500A0E1           MOV      R0,R5
   \   000002B0   01002DE9           PUSH     {R0}
   \   000002B4   24039FE5           LDR      R0,??my_keyhook_0+0x74  ;; StopKey_2Type
   \   000002B8   003090E5           LDR      R3,[R0, #+0]
   \   000002BC   20039FE5           LDR      R0,??my_keyhook_0+0x78  ;; StopKey_1Type
   \   000002C0   002090E5           LDR      R2,[R0, #+0]
   \   000002C4   1C039FE5           LDR      R0,??my_keyhook_0+0x7C  ;; StopKey_2
   \   000002C8   001090E5           LDR      R1,[R0, #+0]
   \   000002CC   18039FE5           LDR      R0,??my_keyhook_0+0x80  ;; StopKey_1
   \   000002D0   000090E5           LDR      R0,[R0, #+0]
   \   000002D4   ........           BL       MyFunc
   \   000002D8   010050E3           CMP      R0,#+1
   \   000002DC   14D08DE2           ADD      SP,SP,#+20
   \   000002E0   74FFFF0A           BEQ      ??my_keyhook_7
     93            if(MyFunc(NextKey_1,NextKey_2,NextKey_1Type,NextKey_2Type,msg,submsg,Next,7,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   000002E4   0000E0E3           MVN      R0,#+0
   \   000002E8   01002DE9           PUSH     {R0}
   \   000002EC   0700A0E3           MOV      R0,#+7
   \   000002F0   01002DE9           PUSH     {R0}
   \   000002F4   F4029FE5           LDR      R0,??my_keyhook_0+0x84  ;; Next
   \   000002F8   01002DE9           PUSH     {R0}
   \   000002FC   0400A0E1           MOV      R0,R4
   \   00000300   01002DE9           PUSH     {R0}
   \   00000304   0500A0E1           MOV      R0,R5
   \   00000308   01002DE9           PUSH     {R0}
   \   0000030C   E0029FE5           LDR      R0,??my_keyhook_0+0x88  ;; NextKey_2Type
   \   00000310   003090E5           LDR      R3,[R0, #+0]
   \   00000314   DC029FE5           LDR      R0,??my_keyhook_0+0x8C  ;; NextKey_1Type
   \   00000318   002090E5           LDR      R2,[R0, #+0]
   \   0000031C   D8029FE5           LDR      R0,??my_keyhook_0+0x90  ;; NextKey_2
   \   00000320   001090E5           LDR      R1,[R0, #+0]
   \   00000324   D4029FE5           LDR      R0,??my_keyhook_0+0x94  ;; NextKey_1
   \   00000328   000090E5           LDR      R0,[R0, #+0]
   \   0000032C   ........           BL       MyFunc
   \   00000330   010050E3           CMP      R0,#+1
   \   00000334   14D08DE2           ADD      SP,SP,#+20
   \   00000338   5EFFFF0A           BEQ      ??my_keyhook_7
     94            if(MyFunc(PrevKey_1,PrevKey_2,PrevKey_1Type,PrevKey_2Type,msg,submsg,Prev,8,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   0000033C   0000E0E3           MVN      R0,#+0
   \   00000340   01002DE9           PUSH     {R0}
   \   00000344   0800A0E3           MOV      R0,#+8
   \   00000348   01002DE9           PUSH     {R0}
   \   0000034C   B0029FE5           LDR      R0,??my_keyhook_0+0x98  ;; Prev
   \   00000350   01002DE9           PUSH     {R0}
   \   00000354   0400A0E1           MOV      R0,R4
   \   00000358   01002DE9           PUSH     {R0}
   \   0000035C   0500A0E1           MOV      R0,R5
   \   00000360   01002DE9           PUSH     {R0}
   \   00000364   9C029FE5           LDR      R0,??my_keyhook_0+0x9C  ;; PrevKey_2Type
   \   00000368   003090E5           LDR      R3,[R0, #+0]
   \   0000036C   98029FE5           LDR      R0,??my_keyhook_0+0xA0  ;; PrevKey_1Type
   \   00000370   002090E5           LDR      R2,[R0, #+0]
   \   00000374   94029FE5           LDR      R0,??my_keyhook_0+0xA4  ;; PrevKey_2
   \   00000378   001090E5           LDR      R1,[R0, #+0]
   \   0000037C   90029FE5           LDR      R0,??my_keyhook_0+0xA8  ;; PrevKey_1
   \   00000380   000090E5           LDR      R0,[R0, #+0]
   \   00000384   ........           BL       MyFunc
   \   00000388   010050E3           CMP      R0,#+1
   \   0000038C   14D08DE2           ADD      SP,SP,#+20
   \   00000390   48FFFF0A           BEQ      ??my_keyhook_7
     95            if(MyFunc(VolUPKey_1,VolUPKey_2,VolUPKey_1Type,VolUPKey_2Type,msg,submsg,VolUP,9,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   00000394   0000E0E3           MVN      R0,#+0
   \   00000398   01002DE9           PUSH     {R0}
   \   0000039C   0900A0E3           MOV      R0,#+9
   \   000003A0   01002DE9           PUSH     {R0}
   \   000003A4   6C029FE5           LDR      R0,??my_keyhook_0+0xAC  ;; VolUP
   \   000003A8   01002DE9           PUSH     {R0}
   \   000003AC   0400A0E1           MOV      R0,R4
   \   000003B0   01002DE9           PUSH     {R0}
   \   000003B4   0500A0E1           MOV      R0,R5
   \   000003B8   01002DE9           PUSH     {R0}
   \   000003BC   58029FE5           LDR      R0,??my_keyhook_0+0xB0  ;; VolUPKey_2Type
   \   000003C0   003090E5           LDR      R3,[R0, #+0]
   \   000003C4   54029FE5           LDR      R0,??my_keyhook_0+0xB4  ;; VolUPKey_1Type
   \   000003C8   002090E5           LDR      R2,[R0, #+0]
   \   000003CC   50029FE5           LDR      R0,??my_keyhook_0+0xB8  ;; VolUPKey_2
   \   000003D0   001090E5           LDR      R1,[R0, #+0]
   \   000003D4   4C029FE5           LDR      R0,??my_keyhook_0+0xBC  ;; VolUPKey_1
   \   000003D8   000090E5           LDR      R0,[R0, #+0]
   \   000003DC   ........           BL       MyFunc
   \   000003E0   010050E3           CMP      R0,#+1
   \   000003E4   14D08DE2           ADD      SP,SP,#+20
   \   000003E8   32FFFF0A           BEQ      ??my_keyhook_7
     96            if(MyFunc(VolDOWNKey_1,VolDOWNKey_2,VolDOWNKey_1Type,VolDOWNKey_2Type,msg,submsg,VolDOWN,10,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   000003EC   0000E0E3           MVN      R0,#+0
   \   000003F0   01002DE9           PUSH     {R0}
   \   000003F4   0A00A0E3           MOV      R0,#+10
   \   000003F8   01002DE9           PUSH     {R0}
   \   000003FC   28029FE5           LDR      R0,??my_keyhook_0+0xC0  ;; VolDOWN
   \   00000400   01002DE9           PUSH     {R0}
   \   00000404   0400A0E1           MOV      R0,R4
   \   00000408   01002DE9           PUSH     {R0}
   \   0000040C   0500A0E1           MOV      R0,R5
   \   00000410   01002DE9           PUSH     {R0}
   \   00000414   14029FE5           LDR      R0,??my_keyhook_0+0xC4  ;; VolDOWNKey_2Type
   \   00000418   003090E5           LDR      R3,[R0, #+0]
   \   0000041C   10029FE5           LDR      R0,??my_keyhook_0+0xC8  ;; VolDOWNKey_1Type
   \   00000420   002090E5           LDR      R2,[R0, #+0]
   \   00000424   0C029FE5           LDR      R0,??my_keyhook_0+0xCC  ;; VolDOWNKey_2
   \   00000428   001090E5           LDR      R1,[R0, #+0]
   \   0000042C   08029FE5           LDR      R0,??my_keyhook_0+0xD0  ;; VolDOWNKey_1
   \   00000430   000090E5           LDR      R0,[R0, #+0]
   \   00000434   ........           BL       MyFunc
   \   00000438   010050E3           CMP      R0,#+1
   \   0000043C   14D08DE2           ADD      SP,SP,#+20
   \   00000440   1CFFFF0A           BEQ      ??my_keyhook_7
     97            if(MyFunc(MuteKey_1,MuteKey_2,MuteKey_1Type,MuteKey_2Type,msg,submsg,Mute,11,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   00000444   0000E0E3           MVN      R0,#+0
   \   00000448   01002DE9           PUSH     {R0}
   \   0000044C   0B00A0E3           MOV      R0,#+11
   \   00000450   01002DE9           PUSH     {R0}
   \   00000454   E4019FE5           LDR      R0,??my_keyhook_0+0xD4  ;; Mute
   \   00000458   01002DE9           PUSH     {R0}
   \   0000045C   0400A0E1           MOV      R0,R4
   \   00000460   01002DE9           PUSH     {R0}
   \   00000464   0500A0E1           MOV      R0,R5
   \   00000468   01002DE9           PUSH     {R0}
   \   0000046C   D0019FE5           LDR      R0,??my_keyhook_0+0xD8  ;; MuteKey_2Type
   \   00000470   003090E5           LDR      R3,[R0, #+0]
   \   00000474   CC019FE5           LDR      R0,??my_keyhook_0+0xDC  ;; MuteKey_1Type
   \   00000478   002090E5           LDR      R2,[R0, #+0]
   \   0000047C   C8019FE5           LDR      R0,??my_keyhook_0+0xE0  ;; MuteKey_2
   \   00000480   001090E5           LDR      R1,[R0, #+0]
   \   00000484   C4019FE5           LDR      R0,??my_keyhook_0+0xE4  ;; MuteKey_1
   \   00000488   000090E5           LDR      R0,[R0, #+0]
   \   0000048C   ........           BL       MyFunc
   \   00000490   010050E3           CMP      R0,#+1
   \   00000494   14D08DE2           ADD      SP,SP,#+20
   \   00000498   06FFFF0A           BEQ      ??my_keyhook_7
     98            if(MyFunc(LockKey_1,LockKey_2,LockKey_1Type,LockKey_2Type,msg,submsg,Lock,12,NULL_PARAM)==1)return KEYHOOK_BREAK;
   \   0000049C   0000E0E3           MVN      R0,#+0
   \   000004A0   01002DE9           PUSH     {R0}
   \   000004A4   0C00A0E3           MOV      R0,#+12
   \   000004A8   01002DE9           PUSH     {R0}
   \   000004AC   A0019FE5           LDR      R0,??my_keyhook_0+0xE8  ;; Lock
   \   000004B0   01002DE9           PUSH     {R0}
   \   000004B4   0400A0E1           MOV      R0,R4
   \   000004B8   01002DE9           PUSH     {R0}
   \   000004BC   0500A0E1           MOV      R0,R5
   \   000004C0   01002DE9           PUSH     {R0}
   \   000004C4   8C019FE5           LDR      R0,??my_keyhook_0+0xEC  ;; LockKey_2Type
   \   000004C8   003090E5           LDR      R3,[R0, #+0]
   \   000004CC   88019FE5           LDR      R0,??my_keyhook_0+0xF0  ;; LockKey_1Type
   \   000004D0   002090E5           LDR      R2,[R0, #+0]
   \   000004D4   84019FE5           LDR      R0,??my_keyhook_0+0xF4  ;; LockKey_2
   \   000004D8   001090E5           LDR      R1,[R0, #+0]
   \   000004DC   80019FE5           LDR      R0,??my_keyhook_0+0xF8  ;; LockKey_1
   \   000004E0   000090E5           LDR      R0,[R0, #+0]
   \   000004E4   ........           BL       MyFunc
   \   000004E8   010050E3           CMP      R0,#+1
   \   000004EC   14D08DE2           ADD      SP,SP,#+20
   \   000004F0   F0FEFF0A           BEQ      ??my_keyhook_7
     99            if(MyTmrFunc(TimerOnKey,TimerOnKeyType,msg,submsg,StartCloseTimer,13)==1)return KEYHOOK_BREAK;
   \   000004F4   0D00A0E3           MOV      R0,#+13
   \   000004F8   01002DE9           PUSH     {R0}
   \   000004FC   64019FE5           LDR      R0,??my_keyhook_0+0xFC  ;; StartCloseTimer
   \   00000500   0430A0E1           MOV      R3,R4
   \   00000504   01002DE9           PUSH     {R0}
   \   00000508   5C019FE5           LDR      R0,??my_keyhook_0+0x100  ;; TimerOnKeyType
   \   0000050C   0520A0E1           MOV      R2,R5
   \   00000510   001090E5           LDR      R1,[R0, #+0]
   \   00000514   54019FE5           LDR      R0,??my_keyhook_0+0x104  ;; TimerOnKey
   \   00000518   000090E5           LDR      R0,[R0, #+0]
   \   0000051C   ........           BL       MyTmrFunc
   \   00000520   010050E3           CMP      R0,#+1
   \   00000524   08D08DE2           ADD      SP,SP,#+8
   \   00000528   E2FEFF0A           BEQ      ??my_keyhook_7
    100            if(MyTmrFunc(TimerOffKey,TimerOffKeyType,msg,submsg,StopCloseTimer,14)==1)return KEYHOOK_BREAK;
   \   0000052C   0E00A0E3           MOV      R0,#+14
   \   00000530   01002DE9           PUSH     {R0}
   \   00000534   38019FE5           LDR      R0,??my_keyhook_0+0x108  ;; StopCloseTimer
   \   00000538   0430A0E1           MOV      R3,R4
   \   0000053C   01002DE9           PUSH     {R0}
   \   00000540   30019FE5           LDR      R0,??my_keyhook_0+0x10C  ;; TimerOffKeyType
   \   00000544   0520A0E1           MOV      R2,R5
   \   00000548   001090E5           LDR      R1,[R0, #+0]
   \   0000054C   28019FE5           LDR      R0,??my_keyhook_0+0x110  ;; TimerOffKey
   \   00000550   000090E5           LDR      R0,[R0, #+0]
   \   00000554   ........           BL       MyTmrFunc
   \   00000558   010050E3           CMP      R0,#+1
   \   0000055C   08D08DE2           ADD      SP,SP,#+8
   \   00000560   D4FEFF0A           BEQ      ??my_keyhook_7
    101          
    102          
    103              
    104            }
    105           
    106            }
    107           
    108            return KEYHOOK_NEXT;
   \                     ??my_keyhook_3:
   \   00000564   0000A0E3           MOV      R0,#+0
   \   00000568   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??my_keyhook_0:
   \   0000056C   ........           DC32     MainType
   \   00000570   ........           DC32     Start
   \   00000574   ........           DC32     StartKey1_2Type
   \   00000578   ........           DC32     StartKey1_1Type
   \   0000057C   ........           DC32     StartKey1_2
   \   00000580   ........           DC32     StartKey1_1
   \   00000584   ........           DC32     StartKey2_2Type
   \   00000588   ........           DC32     StartKey2_1Type
   \   0000058C   ........           DC32     StartKey2_2
   \   00000590   ........           DC32     StartKey2_1
   \   00000594   ........           DC32     StartKey3_2Type
   \   00000598   ........           DC32     StartKey3_1Type
   \   0000059C   ........           DC32     StartKey3_2
   \   000005A0   ........           DC32     StartKey3_1
   \   000005A4   ........           DC32     StartKey4_2Type
   \   000005A8   ........           DC32     StartKey4_1Type
   \   000005AC   ........           DC32     StartKey4_2
   \   000005B0   ........           DC32     StartKey4_1
   \   000005B4   ........           DC32     PlayPause
   \   000005B8   ........           DC32     PlayPauseKey_2Type
   \   000005BC   ........           DC32     PlayPauseKey_1Type
   \   000005C0   ........           DC32     PlayPauseKey_2
   \   000005C4   ........           DC32     PlayPauseKey_1
   \   000005C8   ........           DC32     Close
   \   000005CC   ........           DC32     CloseKey_2Type
   \   000005D0   ........           DC32     CloseKey_1Type
   \   000005D4   ........           DC32     CloseKey_2
   \   000005D8   ........           DC32     CloseKey_1
   \   000005DC   ........           DC32     Stop
   \   000005E0   ........           DC32     StopKey_2Type
   \   000005E4   ........           DC32     StopKey_1Type
   \   000005E8   ........           DC32     StopKey_2
   \   000005EC   ........           DC32     StopKey_1
   \   000005F0   ........           DC32     Next
   \   000005F4   ........           DC32     NextKey_2Type
   \   000005F8   ........           DC32     NextKey_1Type
   \   000005FC   ........           DC32     NextKey_2
   \   00000600   ........           DC32     NextKey_1
   \   00000604   ........           DC32     Prev
   \   00000608   ........           DC32     PrevKey_2Type
   \   0000060C   ........           DC32     PrevKey_1Type
   \   00000610   ........           DC32     PrevKey_2
   \   00000614   ........           DC32     PrevKey_1
   \   00000618   ........           DC32     VolUP
   \   0000061C   ........           DC32     VolUPKey_2Type
   \   00000620   ........           DC32     VolUPKey_1Type
   \   00000624   ........           DC32     VolUPKey_2
   \   00000628   ........           DC32     VolUPKey_1
   \   0000062C   ........           DC32     VolDOWN
   \   00000630   ........           DC32     VolDOWNKey_2Type
   \   00000634   ........           DC32     VolDOWNKey_1Type
   \   00000638   ........           DC32     VolDOWNKey_2
   \   0000063C   ........           DC32     VolDOWNKey_1
   \   00000640   ........           DC32     Mute
   \   00000644   ........           DC32     MuteKey_2Type
   \   00000648   ........           DC32     MuteKey_1Type
   \   0000064C   ........           DC32     MuteKey_2
   \   00000650   ........           DC32     MuteKey_1
   \   00000654   ........           DC32     Lock
   \   00000658   ........           DC32     LockKey_2Type
   \   0000065C   ........           DC32     LockKey_1Type
   \   00000660   ........           DC32     LockKey_2
   \   00000664   ........           DC32     LockKey_1
   \   00000668   ........           DC32     StartCloseTimer
   \   0000066C   ........           DC32     TimerOnKeyType
   \   00000670   ........           DC32     TimerOnKey
   \   00000674   ........           DC32     StopCloseTimer
   \   00000678   ........           DC32     TimerOffKeyType
   \   0000067C   ........           DC32     TimerOffKey
    109          }
    110          //-------------------------
    111          

   \                                 In segment CODE, align 4, keep-with-next
    112          int maincsm_onmessage(CSM_RAM* data,GBS_MSG* msg)
    113          {
   \                     maincsm_onmessage:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
    114            
    115          
    116                if (msg->msg==MSG_RECONFIGURE_REQ&&strcmp_nocase(successed_config_filename,(char *)msg->data0)==0)
   \   00000004   ........           LDR      R5,??DataTable47  ;; `?<Constant "IVOPLAY">`
   \   00000008   0140A0E1           MOV      R4,R1
   \   0000000C   040094E5           LDR      R0,[R4, #+4]
   \   00000010   AF10A0E3           MOV      R1,#+175
   \   00000014   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000018   010050E1           CMP      R0,R1
   \   0000001C   0900001A           BNE      ??maincsm_onmessage_0
   \   00000020   2C019FE5           LDR      R0,??maincsm_onmessage_1  ;; successed_config_filename
   \   00000024   0C1094E5           LDR      R1,[R4, #+12]
   \   00000028   000090E5           LDR      R0,[R0, #+0]
   \   0000002C   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   4400001A           BNE      ??maincsm_onmessage_2
    117              {
    118                ShowMSG(1,(int)"Конфиг изменен!");
   \   00000038   401085E2           ADD      R1,R5,#+64
   \   0000003C   0100A0E3           MOV      R0,#+1
   \   00000040   480100EF           SWI      +328
    119                InitConfig();
   \   00000044   ........           _BLF     InitConfig,??InitConfig??rA
    120              }  
    121          
    122             if (msg->msg==MSG_IPC&&(ipc_recv=(IPC_REQ*)msg->data0))
   \                     ??maincsm_onmessage_0:
   \   00000048   040094E5           LDR      R0,[R4, #+4]
   \   0000004C   B010A0E3           MOV      R1,#+176
   \   00000050   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000054   010050E1           CMP      R0,R1
   \   00000058   2B00001A           BNE      ??maincsm_onmessage_3
   \   0000005C   ........           LDR      R6,??DataTable48  ;; IsMaplayerOn
   \   00000060   0C0094E5           LDR      R0,[R4, #+12]
   \   00000064   0C0086E5           STR      R0,[R6, #+12]
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   3600000A           BEQ      ??maincsm_onmessage_2
    123             {
    124               if(!strcmp_nocase(ipc_recv->name_from,IPC_MAPLYER))
   \   00000070   040090E5           LDR      R0,[R0, #+4]
   \   00000074   0170A0E3           MOV      R7,#+1
   \   00000078   0080A0E3           MOV      R8,#+0
   \   0000007C   081085E2           ADD      R1,R5,#+8
   \   00000080   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   00000084   000050E3           CMP      R0,#+0
   \   00000088   0900001A           BNE      ??maincsm_onmessage_4
    125               {
    126                 if(msg->submess==IPC_OUT_PLAYER_START){IsMaplayerOn=1;SendCmd(MAPLAYER,IPC_GET_INFO);}
   \   0000008C   080094E5           LDR      R0,[R4, #+8]
   \   00000090   070050E3           CMP      R0,#+7
   \   00000094   0300001A           BNE      ??maincsm_onmessage_5
   \   00000098   007086E5           STR      R7,[R6, #+0]
   \   0000009C   0D10A0E3           MOV      R1,#+13
   \   000000A0   0200A0E3           MOV      R0,#+2
   \   000000A4   ........           BL       SendCmd
    127                 if(msg->submess==IPC_OUT_PLAYER_CLOSE)IsMaplayerOn=0;
   \                     ??maincsm_onmessage_5:
   \   000000A8   080094E5           LDR      R0,[R4, #+8]
   \   000000AC   080050E3           CMP      R0,#+8
   \   000000B0   00808605           STREQ    R8,[R6, #+0]
    128                }
    129          
    130               if (!strcmp_nocase(ipc_recv->name_to,ipc_my_name)&&!strcmp_nocase(ipc_recv->name_from,IPC_IVO))
   \                     ??maincsm_onmessage_4:
   \   000000B4   0C0096E5           LDR      R0,[R6, #+12]
   \   000000B8   301085E2           ADD      R1,R5,#+48
   \   000000BC   049090E5           LDR      R9,[R0, #+4]
   \   000000C0   000090E5           LDR      R0,[R0, #+0]
   \   000000C4   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   000000C8   000050E3           CMP      R0,#+0
   \   000000CC   0400001A           BNE      ??maincsm_onmessage_6
   \   000000D0   0510A0E1           MOV      R1,R5
   \   000000D4   0900A0E1           MOV      R0,R9
   \   000000D8   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   000000DC   000050E3           CMP      R0,#+0
    131               {
    132                 IsIvoOn=1;
   \   000000E0   04708605           STREQ    R7,[R6, #+4]
    133               }
    134                 if(!strcmp_nocase(ipc_recv->name_from,IPC_TO_SPLAYER))
   \                     ??maincsm_onmessage_6:
   \   000000E4   201085E2           ADD      R1,R5,#+32
   \   000000E8   0900A0E1           MOV      R0,R9
   \   000000EC   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   000000F0   000050E3           CMP      R0,#+0
   \   000000F4   0400001A           BNE      ??maincsm_onmessage_3
    135                   {
    136                     if(msg->submess==IPC_SPLAYER_STARTED)IsSPlayerOn=1;
   \   000000F8   080094E5           LDR      R0,[R4, #+8]
   \   000000FC   010050E3           CMP      R0,#+1
   \   00000100   08708605           STREQ    R7,[R6, #+8]
    137                     if(msg->submess==IPC_SPLAYER_CLOSED)IsSPlayerOn=0;
   \   00000104   000050E3           CMP      R0,#+0
   \   00000108   08808605           STREQ    R8,[R6, #+8]
    138                    }
    139            }
    140            //respect tridog:)
    141            #ifdef NEWSGOLD
    142          #ifdef ELKA
    143            if (msg->msg==0x15680)
    144          #else
    145            if (msg->msg==0x15682)
   \                     ??maincsm_onmessage_3:
   \   0000010C   040094E5           LDR      R0,[R4, #+4]
   \   00000110   40109FE5           LDR      R1,??maincsm_onmessage_1+0x4  ;; 0x15682
   \   00000114   010050E1           CMP      R0,R1
   \   00000118   0B00001A           BNE      ??maincsm_onmessage_2
    146          #endif 
    147            {
    148              if ((   ((char *)(((int *)msg->data1)[6]))[0x11]  )==0)
   \   0000011C   100094E5           LDR      R0,[R4, #+16]
   \   00000120   180090E5           LDR      R0,[R0, #+24]
   \   00000124   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000128   000050E3           CMP      R0,#+0
   \   0000012C   0000001A           BNE      ??maincsm_onmessage_7
    149              {
    150                //  Аксесуар подключен
    151                HeadsetConnect();  
   \   00000130   ........           BL       HeadsetConnect
    152              }
    153              if ((   ((char *)(((int *)msg->data1)[6]))[0x11]  )==1)
   \                     ??maincsm_onmessage_7:
   \   00000134   100094E5           LDR      R0,[R4, #+16]
   \   00000138   180090E5           LDR      R0,[R0, #+24]
   \   0000013C   1100D0E5           LDRB     R0,[R0, #+17]
   \   00000140   010050E3           CMP      R0,#+1
   \   00000144   0000001A           BNE      ??maincsm_onmessage_2
    154              {
    155                //  Аксесуар отключен
    156                HeadsetDisconnect();  
   \   00000148   ........           BL       HeadsetDisconnect
    157              }
    158            }
    159          #endif
    160            return (1);
   \                     ??maincsm_onmessage_2:
   \   0000014C   0100A0E3           MOV      R0,#+1
   \   00000150   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??maincsm_onmessage_1:
   \   00000154   ........           DC32     successed_config_filename
   \   00000158   82560100           DC32     0x15682
    161          }
    162          //-------------------------

   \                                 In segment CODE, align 4, keep-with-next
    163          static void maincsm_oncreate(CSM_RAM *data)
    164          {
    165            AddKeybMsgHook((void *)my_keyhook);
   \                     maincsm_oncreate:
   \   00000000   ........           LDR      R0,??DataTable51  ;; my_keyhook
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   2B0100EF           SWI      +299
    166          }
   \   0000000C   0080BDE8           POP      {PC}             ;; return
    167          //-------------------------

   \                                 In segment CODE, align 4, keep-with-next
    168          static void Killer(void)
    169          {
   \                     Killer:
   \   00000000   00402DE9           PUSH     {LR}
    170            extern void *ELF_BEGIN;
    171            kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
   \   00000004   158000EF           SWI      +32789
   \   00000008   0010A0E1           MOV      R1,R0
   \   0000000C   04009FE5           LDR      R0,??Killer_0    ;; ELF_BEGIN
   \   00000010   0040BDE8           POP      {LR}             ;; Pop
   \   00000014   ........           _BF      kill_data,??kill_data??rA  ;; tailcall
   \                     ??Killer_0:
   \   00000018   ........           DC32     ELF_BEGIN
    172          }
    173          //-------------------------

   \                                 In segment CODE, align 4, keep-with-next
    174          static void maincsm_onclose(CSM_RAM *csm)
    175          {
   \                     maincsm_onclose:
   \   00000000   10402DE9           PUSH     {R4,LR}
    176            if(IsTimerProc(&KeyTmr))GBS_DelTimer(&KeyTmr);
   \   00000004   ........           LDR      R4,??DataTable50  ;; timer
   \   00000008   600084E2           ADD      R0,R4,#+96
   \   0000000C   A60100EF           SWI      +422
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0100000A           BEQ      ??maincsm_onclose_0
   \   00000018   600084E2           ADD      R0,R4,#+96
   \   0000001C   8C0100EF           SWI      +396
    177            if(IsTimerProc(&close_timer))GBS_DelTimer(&close_timer);
   \                     ??maincsm_onclose_0:
   \   00000020   500084E2           ADD      R0,R4,#+80
   \   00000024   A60100EF           SWI      +422
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   0100000A           BEQ      ??maincsm_onclose_1
   \   00000030   500084E2           ADD      R0,R4,#+80
   \   00000034   8C0100EF           SWI      +396
    178            RemoveKeybMsgHook((void *)my_keyhook);
   \                     ??maincsm_onclose_1:
   \   00000038   ........           LDR      R0,??DataTable51  ;; my_keyhook
   \   0000003C   2D0100EF           SWI      +301
    179            SUBPROC((void *)Killer);
   \   00000040   04009FE5           LDR      R0,??maincsm_onclose_2  ;; Killer
   \   00000044   710100EF           SWI      +369
    180          }
   \   00000048   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??maincsm_onclose_2:
   \   0000004C   ........           DC32     Killer

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "PlayersControl">`:
   \   00000000   506C61796572       DC8 "PlayersControl"
   \              73436F6E7472
   \              6F6C00      
   \   0000000F   00                 DC8 0
   \   char const __data perc_ss[6]
   \                     perc_ss:
   \   00000010   257320257300       DC8 "%s %s"
   \   00000016   0000               DC8 0, 0
   \   00000018   ............       DC32 maincsm_onmessage, maincsm_oncreate, 0, 0, 0, 0, maincsm_onclose
   \              ....00000000
   \              000000000000
   \              000000000000
   \              ........    
   \   00000034   280000000100       DC32 40, 1, minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0
   \              0000........
   \              ........CCCC
   \              AA5555AA3333
   \              00000000    
   \   00000050   8B00               DC16 139
   \   00000052   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   int const __data minus11
   \                     minus11:
   \   00000000   F5FFFFFF           DC32 -11
    181          
    182          //-------------------------
    183          static const struct
    184          {
    185            CSM_DESC maincsm;
    186            WSHDR maincsm_name;
    187          }MAINCSM =
    188          {
    189          {
    190            maincsm_onmessage,
    191            maincsm_oncreate,
    192          #ifdef NEWSGOLD
    193            0,
    194            0,
    195            0,
    196            0,
    197          #endif
    198            maincsm_onclose,
    199            sizeof(MAIN_CSM),
    200            1,
    201            &minus11
    202            },
    203            {
    204              maincsm_name_body,
    205              NAMECSM_MAGIC1,
    206              NAMECSM_MAGIC2,
    207              0x0,
    208              139
    209            },
    210          
    211          };
    212          
    213          //-------------------------
    214          static void UpdateCSMname(void)
    215          {
    216            wsprintf((WSHDR *)(&MAINCSM.maincsm_name),perc_ss,"PlayersControl",VERSION);
    217          }
    218          //-------------------------

   \                                 In segment CODE, align 4, keep-with-next
    219          int main()
    220          {
   \                     main:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   28D04DE2           SUB      SP,SP,#+40
    221            InitConfig();
   \   00000008   ........           _BLF     InitConfig,??InitConfig??rA
    222            int acc=GetAccessoryType();
   \   0000000C   880000EF           SWI      +136
    223            if(!Head_On)if((acc==19||acc==18||acc==21))HeadsetConnect();
   \   00000010   98109FE5           LDR      R1,??main_0+0x4  ;; Head_On
   \   00000014   001091E5           LDR      R1,[R1, #+0]
   \   00000018   000051E3           CMP      R1,#+0
   \   0000001C   0400001A           BNE      ??main_1
   \   00000020   130050E3           CMP      R0,#+19
   \   00000024   12005013           CMPNE    R0,#+18
   \   00000028   15005013           CMPNE    R0,#+21
   \   0000002C   0000001A           BNE      ??main_1
   \   00000030   ........           BL       HeadsetConnect
    224            CSM_RAM *save_cmpc;
    225            char dummy[sizeof(MAIN_CSM)];
    226            UpdateCSMname();
   \                     ??main_1:
   \   00000034   78409FE5           LDR      R4,??main_0+0x8  ;; `?<Constant "PlayersControl">`
   \   00000038   1B3F8FE2           ADR      R3,??main_0      ;; "1.0"
   \   0000003C   0420A0E1           MOV      R2,R4
   \   00000040   101084E2           ADD      R1,R4,#+16
   \   00000044   400084E2           ADD      R0,R4,#+64
   \   00000048   240100EF           SWI      +292
    227            LockSched();
   \   0000004C   460100EF           SWI      +326
    228            save_cmpc=CSM_root()->csm_q->current_msg_processing_csm;
   \   00000050   068100EF           SWI      +33030
   \   00000054   080090E5           LDR      R0,[R0, #+8]
   \   00000058   045090E5           LDR      R5,[R0, #+4]
    229            CSM_root()->csm_q->current_msg_processing_csm=CSM_root()->csm_q->csm.first;
   \   0000005C   068100EF           SWI      +33030
   \   00000060   0060A0E1           MOV      R6,R0
   \   00000064   068100EF           SWI      +33030
   \   00000068   080090E5           LDR      R0,[R0, #+8]
   \   0000006C   081096E5           LDR      R1,[R6, #+8]
   \   00000070   080090E5           LDR      R0,[R0, #+8]
    230            MAINCSM_ID=CreateCSM(&MAINCSM.maincsm,dummy,0);
   \   00000074   0020A0E3           MOV      R2,#+0
   \   00000078   040081E5           STR      R0,[R1, #+4]
   \   0000007C   0D10A0E1           MOV      R1,SP
   \   00000080   180084E2           ADD      R0,R4,#+24
   \   00000084   070100EF           SWI      +263
   \   00000088   28109FE5           LDR      R1,??main_0+0xC  ;; gipc + 12
   \   0000008C   000081E5           STR      R0,[R1, #+0]
    231            CSM_root()->csm_q->current_msg_processing_csm=save_cmpc;
   \   00000090   068100EF           SWI      +33030
   \   00000094   080090E5           LDR      R0,[R0, #+8]
   \   00000098   045080E5           STR      R5,[R0, #+4]
    232            UnlockSched();
   \   0000009C   470100EF           SWI      +327
    233            return 0;
   \   000000A0   0000A0E3           MOV      R0,#+0
   \   000000A4   28D08DE2           ADD      SP,SP,#+40
   \   000000A8   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??main_0:
   \   000000AC   312E3000           DC8      "1.0"
   \   000000B0   ........           DC32     Head_On
   \   000000B4   ........           DC32     `?<Constant "PlayersControl">`
   \   000000B8   ........           DC32     gipc + 12
    234          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable28:
   \   00000000   ........           DC32     player3

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable35:
   \   00000000   ........           DC32     IsMaplayerOn

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable36:
   \   00000000   ........           DC32     player2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable37:
   \   00000000   ........           DC32     player0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable38:
   \   00000000   ........           DC32     player1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable40:
   \   00000000   ........           DC32     addr

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable41:
   \   00000000   ........           DC32     `?<Constant "IVOPLAY">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable47:
   \   00000000   ........           DC32     `?<Constant "IVOPLAY">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable48:
   \   00000000   ........           DC32     IsMaplayerOn

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable50:
   \   00000000   ........           DC32     timer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable51:
   \   00000000   ........           DC32     my_keyhook

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for timer>`:
   \   00000000   00000000           DC32 0
   \                     `?<Initializer for key_timer>`:
   \   00000004   6C000000           DC32 108
   \                     `?<Initializer for sec>`:
   \   00000008   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for min>`:
   \   0000000C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for hour>`:
   \   00000010   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for doublekey>`:
   \   00000014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000024   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000034   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000044   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for close_timer>`:
   \   00000050   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for KeyTmr>`:
   \   00000060   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "IVOPLAY">`:
   \   00000000   49564F504C41       DC8 "IVOPLAY"
   \              5900        
   \   00000008   4D7573696341       DC8 "MusicAPlayer"
   \              506C61796572
   \              00          
   \   00000015   000000             DC8 0, 0, 0
   \   00000018   436F6E74726F       DC8 "Control"
   \              6C00        
   \   00000020   53506C617965       DC8 "SPlayer"
   \              7200        
   \   00000028   585461736B00       DC8 "XTask"
   \   0000002E   0000               DC8 0, 0
   \   00000030   49564F504C41       DC8 "IVOPLAY_PLUGIN"
   \              595F504C5547
   \              494E00      
   \   0000003F   00                 DC8 0
   \   00000040   CAEEEDF4E8E3       DC8 "\312\356\355\364\350\343 \350\347\354\345\355\345\355!"
   \              20E8E7ECE5ED
   \              E5ED2100    

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   312E3000           DC8 "1.0"

   Maximum stack usage in bytes:

     Function             CSTACK
     --------             ------
     Close                    8
     CloseTimer              16
     HeadsetConnect          12
     HeadsetDisconnect       12
     Killer                   4
     Lock                     4
     MPlayer_VolChange        8
     Mute                     4
     MyFunc                  24
     MyTmrFunc               12
     Next                     8
     PlayPause                8
     Prev                     8
     SendCmd                  4
     Send_MPlayer_Command    16
     Start                   12
     StartCloseTimer          4
     Stop                     8
     StopCloseTimer           4
     TmrSec                   4
     VolDOWN                  8
     VolUP                    8
     main                    56
     maincsm_onclose          8
     maincsm_oncreate         4
     maincsm_onmessage       28
     my_keyhook              40
     strcmp_nocase            0


   Segment part sizes:

     Function/Label               Bytes
     --------------               -----
     Send_MPlayer_Command           56
     MPlayer_VolChange              44
     ??strcmp_nocase_0              76
     IsMaplayerOn                   16
     gipc                           16
     ipc_send                       12
     addr                            4
     timer                         112
     maincsm_name_body             280
     ws                              4
     SendCmd                       112
     PlayPause                     152
     ?Subroutine27                  40
     Stop                          124
     Prev                          152
     Next                          152
     Start                         252
     Close                         120
     VolUP                         116
     VolDOWN                       116
     Mute                           92
     HeadsetDisconnect             280
     ?Subroutine29                   8
     ?Subroutine28                   8
     HeadsetConnect                280
     TmrSec                         92
     Lock                           72
     StartCloseTimer                24
     StopCloseTimer                 20
     CloseTimer                    228
     MyFunc                        360
     MyTmrFunc                     156
     my_keyhook                   1664
     maincsm_onmessage             348
     maincsm_oncreate               16
     Killer                         28
     maincsm_onclose                80
     ?<Constant "PlayersControl">   84
     minus11                         4
     main                          188
     ??DataTable28                   4
     ??DataTable35                   4
     ??DataTable36                   4
     ??DataTable37                   4
     ??DataTable38                   4
     ??DataTable40                   4
     ??DataTable41                   4
     ??DataTable47                   4
     ??DataTable48                   4
     ??DataTable50                   4
     ??DataTable51                   4
     ?<Initializer for timer>      112
     ?<Constant "IVOPLAY">          80
     ?<Constant "1.0">               4
      Others                       168

 
 5 644 bytes in segment CODE
   172 bytes in segment DATA_C
   112 bytes in segment DATA_I
   112 bytes in segment DATA_ID
   332 bytes in segment DATA_Z
    24 bytes in segment INITTAB
 
 5 424 bytes of CODE  memory (+ 244 bytes shared)
   284 bytes of CONST memory
   444 bytes of DATA  memory

Errors: none
Warnings: none
