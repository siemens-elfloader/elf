##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    07/Nov/2009  17:56:56 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  D:\pasha\elf\SVN2\BalletMini\main.c                  #
#    Command line    =  D:\pasha\elf\SVN2\BalletMini\main.c -D NEWSGOLD -D   #
#                       ELKA -lC D:\pasha\elf\SVN2\BalletMini\Release_ELKA\L #
#                       ist\ -o D:\pasha\elf\SVN2\BalletMini\Release_ELKA\Ob #
#                       j\ -s9 --no_unroll --no_inline --cpu_mode arm        #
#                       --endian little --cpu ARM926EJ-S --stack_align 4     #
#                       --interwork -e --fpu None --dlib_config              #
#                       "D:\pasha\Embedded Workbench 4.0                     #
#                       Evaluation2\ARM\LIB\dl5tpainl8n.h" -I                #
#                       "D:\pasha\Embedded Workbench 4.0                     #
#                       Evaluation2\ARM\INC\"                                #
#    List file       =  D:\pasha\elf\SVN2\BalletMini\Release_ELKA\List\main. #
#                       lst                                                  #
#    Object file     =  D:\pasha\elf\SVN2\BalletMini\Release_ELKA\Obj\main.r #
#                       79                                                   #
#                                                                            #
#                                                                            #
##############################################################################

D:\pasha\elf\SVN2\BalletMini\main.c
      1          #include "../inc/swilib.h"
      2          #include "view.h"
      3          #include "parse_oms.h"
      4          #include "main.h" 
      5          #include "rect_patcher.h"

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void patch_rect(RECT *, int, int, int, int)
   \                     patch_rect:
   \   00000000   00C09DE5           LDR      R12,[SP, #+0]
   \   00000004   B010C0E1           STRH     R1,[R0, #+0]
   \   00000008   B220C0E1           STRH     R2,[R0, #+2]
   \   0000000C   B430C0E1           STRH     R3,[R0, #+4]
   \   00000010   B6C0C0E1           STRH     R12,[R0, #+6]
   \   00000014   1EFF2FE1           BX       LR               ;; return
      6          #include "local_ipc.h"
      7          #include "display_utils.h"
      8          #include "string_works.h"
      9          #include "destructors.h"
     10          #include "siemens_unicode.h"
     11          #include "inet.h"
     12          #include "urlstack.h"
     13          #include "conf_loader.h"
     14          #include "mainmenu.h"
     15          #include "history.h"
     16          #include "file_works.h"
     17          #include "lang.h"
     18          #include "../inc/sieget_ipc.h"
     19          #include "url_utils.h"
     20          #include "upload.h"
     21          #include "fileman.h"
     22          
     23          #pragma swi_number=0x221
     24          __swi __arm void SetCpuClockLow(int);
     25          
     26          #pragma swi_number=0x222
     27          __swi __arm void SetCpuClockHi(int);
     28          
     29          extern const char DEFAULT_PARAM[128];
     30          
     31          static void UpdateCSMname(char* url, int mode);
     32          static int ParseInputFilename(const char *fn);
     33          
     34          volatile int TERMINATED=0;
     35          volatile int STOPPED=0;
     36          
     37          int ENABLE_REDRAW=0;
     38          

   \                                 In segment DATA_C, align 4, align-sorted
     39          const int scr_shift = 0;
   \                     scr_shift:
   \   00000000   00000000           DC32 0
     40          
     41          extern void kill_data(void *p, void (*func_p)(void *));
     42          

   \                                 In segment DATA_C, align 4, align-sorted
     43          const int minus11=-11;
   \                     minus11:
   \   00000000   F5FFFFFF           DC32 -11
     44          

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "0/javascript">`:
   \   00000000   302F6A617661       DC8 "0/javascript"
   \              736372697074
   \              00          
   \   0000000D   000000             DC8 0, 0, 0
   \   00000010   302F6F703A66       DC8 "0/op:fileselect"
   \              696C6573656C
   \              65637400    
     45          const char ipc_my_name[32]=IPC_BALLETMINI_NAME;
   \                     ipc_my_name:
   \   00000020   42616C6C6574       DC8 "BalletMini"
   \              4D696E6900  
   \   0000002B   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              000000      
     46          const char sieget_ipc_name[32] = SIEGET_IPC_NAME;
   \                     sieget_ipc_name:
   \   00000040   536965476574       DC8 "SieGetD"
   \              4400        
   \   00000048   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000058   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0
   \              0000        

   \                                 In segment DATA_Z, align 4, align-sorted
     47          
     48          IPC_REQ sieget_ipc;
   \                     sieget_ipc:
   \   00000000                      DS8 12
   \                     TERMINATED:
   \   0000000C                      DS8 4
   \                     STOPPED:
   \   00000010                      DS8 4
     49          
     50          int view_url_mode;
   \                     view_url_mode:
   \   00000014                      DS8 4
     51          char *view_url;
   \                     view_url:
   \   00000018                      DS8 4
     52          char *goto_url;
   \                     goto_url:
   \   0000001C                      DS8 4
     53          char *from_url;
   \                     from_url:
   \   00000020                      DS8 4
     54          char *goto_params;
   \                     goto_params:
   \   00000024                      DS8 4
     55          
     56          WSHDR *ws_console;
   \                     ws_console:
   \   00000028                      DS8 4
     57          
     58          int maincsm_id;
   \                     maincsm_id:
   \   0000002C                      DS8 4
     59          
     60          char BALLET_PATH[256];
   \                     BALLET_PATH:
   \   00000030                      DS8 256
     61          char BALLET_EXE[256];
   \                     BALLET_EXE:
   \   00000130                      DS8 256

   \                                 In segment DATA_Z, align 4, align-sorted
   \                     ENABLE_REDRAW:
   \   00000000                      DS8 4
     62          

   \                                 In segment CODE, align 4, keep-with-next
     63          static void StartGetFile(int dummy, char *fncache)
     64          {
   \                     StartGetFile:
   \   00000000   F24F2DE9           PUSH     {R1,R4-R11,LR}
   \   00000004   ........           LDR      R4,??DataTable0  ;; sieget_ipc
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   40DE4DE2           SUB      SP,SP,#+1024
   \   00000010   140094E5           LDR      R0,[R4, #+20]
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   6800001A           BNE      ??StartGetFile_0
     65            IPC_REQ *sipc;
     66            if (view_url_mode==MODE_FILE)
     67            {
     68              unsigned int err;
     69              char buf[1024];
     70              int i;
     71              int f=fopen(view_url,A_ReadOnly+A_BIN,P_READ,&err);
   \   0000001C   180094E5           LDR      R0,[R4, #+24]
   \   00000020   ........           LDR      R7,??DataTable1  ;; `?<Constant "0/javascript">`
   \   00000024   0D30A0E1           MOV      R3,SP
   \   00000028   8020A0E3           MOV      R2,#+128
   \   0000002C   801CA0E3           MOV      R1,#+32768
   \   00000030   0A0000EF           SWI      +10
   \   00000034   0050A0E1           MOV      R5,R0
   \   00000038   B060A0E3           MOV      R6,#+176
   \   0000003C   DE6C86E3           ORR      R6,R6,#0xDE00
   \   00000040   0080E0E3           MVN      R8,#+0
   \   00000044   080055E1           CMP      R5,R8
   \   00000048   4400000A           BEQ      ??StartGetFile_1
     72              if (f!=-1)
     73              {
     74                int fc=-1;
     75                if (fncache)
   \   0000004C   04049DE5           LDR      R0,[SP, #+1028]
   \   00000050   0890A0E1           MOV      R9,R8
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   0600000A           BEQ      ??StartGetFile_2
     76                {
     77                  fc=fopen(fncache,A_ReadWrite+A_Create+A_Truncate+A_BIN,P_READ+P_WRITE,&err);
   \   0000005C   0D30A0E1           MOV      R3,SP
   \   00000060   602FA0E3           MOV      R2,#+384
   \   00000064   0210A0E3           MOV      R1,#+2
   \   00000068   831C81E3           ORR      R1,R1,#0x8300
   \   0000006C   0A0000EF           SWI      +10
   \   00000070   0090A0E1           MOV      R9,R0
   \   00000074   000000EA           B        ??StartGetFile_3
     78                }
     79                else
     80                {
     81                  UpPageStack(); 
   \                     ??StartGetFile_2:
   \   00000078   ........           _BLF     UpPageStack,??UpPageStack??rA
     82                }
     83                while((i=fread(f,buf,sizeof(buf),&err))>0)
   \                     ??StartGetFile_3:
   \   0000007C   0D30A0E1           MOV      R3,SP
   \   00000080   402EA0E3           MOV      R2,#+1024
   \   00000084   04108DE2           ADD      R1,SP,#+4
   \   00000088   0500A0E1           MOV      R0,R5
   \   0000008C   0B0000EF           SWI      +11
   \   00000090   00A0A0E1           MOV      R10,R0
   \   00000094   01005AE3           CMP      R10,#+1
   \   00000098   270000BA           BLT      ??StartGetFile_4
     84                {
     85                  if (fc!=-1)
   \   0000009C   080059E1           CMP      R9,R8
   \   000000A0   0400000A           BEQ      ??StartGetFile_5
     86                  {
     87                    fwrite(fc,buf,i,&err);
   \   000000A4   0D30A0E1           MOV      R3,SP
   \   000000A8   0A20A0E1           MOV      R2,R10
   \   000000AC   04108DE2           ADD      R1,SP,#+4
   \   000000B0   0900A0E1           MOV      R0,R9
   \   000000B4   0C0000EF           SWI      +12
     88                  }
     89                  LockSched();
   \                     ??StartGetFile_5:
   \   000000B8   460100EF           SWI      +326
     90                  if ((!TERMINATED)&&(!STOPPED))
   \   000000BC   0C0094E5           LDR      R0,[R4, #+12]
   \   000000C0   000050E3           CMP      R0,#+0
   \   000000C4   10009405           LDREQ    R0,[R4, #+16]
   \   000000C8   00005003           CMPEQ    R0,#+0
   \   000000CC   1400001A           BNE      ??StartGetFile_6
     91                  {
     92                    sipc=malloc(sizeof(IPC_REQ));
   \   000000D0   0C00A0E3           MOV      R0,#+12
   \   000000D4   140000EF           SWI      +20
   \   000000D8   00B0A0E1           MOV      R11,R0
     93                    sipc->name_to=ipc_my_name;
   \   000000DC   200087E2           ADD      R0,R7,#+32
   \   000000E0   00008BE5           STR      R0,[R11, #+0]
     94                    sipc->name_from=ipc_my_name;
   \   000000E4   04008BE5           STR      R0,[R11, #+4]
     95                    sipc->data=malloc(i+4);
   \   000000E8   04008AE2           ADD      R0,R10,#+4
   \   000000EC   140000EF           SWI      +20
   \   000000F0   08008BE5           STR      R0,[R11, #+8]
     96                    *((int *)(sipc->data))=i;
   \   000000F4   00A080E5           STR      R10,[R0, #+0]
     97                    memcpy(((char *)(sipc->data))+4,buf,i);
   \   000000F8   08009BE5           LDR      R0,[R11, #+8]
   \   000000FC   0A20A0E1           MOV      R2,R10
   \   00000100   04108DE2           ADD      R1,SP,#+4
   \   00000104   040080E2           ADD      R0,R0,#+4
   \   00000108   1E0100EF           SWI      +286
     98                    GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_DATA_ARRIVED,sipc);
   \   0000010C   0B30A0E1           MOV      R3,R11
   \   00000110   0120A0E3           MOV      R2,#+1
   \   00000114   0610A0E1           MOV      R1,R6
   \   00000118   0900A0E3           MOV      R0,#+9
   \   0000011C   420C80E3           ORR      R0,R0,#0x4200
   \   00000120   000100EF           SWI      +256
     99                  }
    100                  UnlockSched();
   \                     ??StartGetFile_6:
   \   00000124   470100EF           SWI      +327
    101                  if (TERMINATED||STOPPED) break;
   \   00000128   0C0094E5           LDR      R0,[R4, #+12]
   \   0000012C   000050E3           CMP      R0,#+0
   \   00000130   10009405           LDREQ    R0,[R4, #+16]
   \   00000134   00005003           CMPEQ    R0,#+0
   \   00000138   CFFFFF0A           BEQ      ??StartGetFile_3
    102                }
    103                if (fc!=-1) fclose(fc,&err);
   \                     ??StartGetFile_4:
   \   0000013C   080059E1           CMP      R9,R8
   \   00000140   0200000A           BEQ      ??StartGetFile_7
   \   00000144   0D10A0E1           MOV      R1,SP
   \   00000148   0900A0E1           MOV      R0,R9
   \   0000014C   0D0000EF           SWI      +13
    104                fclose(f,&err);
   \                     ??StartGetFile_7:
   \   00000150   0D10A0E1           MOV      R1,SP
   \   00000154   0500A0E1           MOV      R0,R5
   \   00000158   0D0000EF           SWI      +13
   \   0000015C   050000EA           B        ??StartGetFile_8
    105              }
    106              else
    107              {
    108                LockSched();
   \                     ??StartGetFile_1:
   \   00000160   460100EF           SWI      +326
    109                ShowMSG(1,(int)lgpData[LGP_CantOpenFile]);
   \   00000164   ........           LDR      R0,??DataTable2  ;; lgpData
   \   00000168   001090E5           LDR      R1,[R0, #+0]
   \   0000016C   0100A0E3           MOV      R0,#+1
   \   00000170   480100EF           SWI      +328
    110                UnlockSched();
   \   00000174   470100EF           SWI      +327
    111              }
    112              mfree(fncache);
   \                     ??StartGetFile_8:
   \   00000178   04049DE5           LDR      R0,[SP, #+1028]
   \   0000017C   150000EF           SWI      +21
    113              STOPPED=1;
   \   00000180   0100A0E3           MOV      R0,#+1
   \   00000184   100084E5           STR      R0,[R4, #+16]
    114              SmartREDRAW();
   \   00000188   ........           _BLF     SmartREDRAW,??SmartREDRAW??rA
    115              sipc=malloc(sizeof(IPC_REQ));
   \   0000018C   0C00A0E3           MOV      R0,#+12
   \   00000190   140000EF           SWI      +20
    116              sipc->name_to=ipc_my_name;
   \   00000194   201087E2           ADD      R1,R7,#+32
   \   00000198   001080E5           STR      R1,[R0, #+0]
    117              sipc->name_from=ipc_my_name;
   \   0000019C   041080E5           STR      R1,[R0, #+4]
    118              sipc->data=NULL;
   \   000001A0   0010A0E3           MOV      R1,#+0
   \   000001A4   081080E5           STR      R1,[R0, #+8]
    119              GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_DATA_END,sipc);
   \   000001A8   0030A0E1           MOV      R3,R0
   \   000001AC   0420A0E3           MOV      R2,#+4
   \   000001B0   0610A0E1           MOV      R1,R6
   \   000001B4   0900A0E3           MOV      R0,#+9
   \   000001B8   420C80E3           ORR      R0,R0,#0x4200
   \   000001BC   000100EF           SWI      +256
    120            }
    121            if (view_url_mode==MODE_URL)
   \                     ??StartGetFile_0:
   \   000001C0   140094E5           LDR      R0,[R4, #+20]
   \   000001C4   010050E3           CMP      R0,#+1
   \   000001C8   0200001A           BNE      ??StartGetFile_9
    122            {
    123              StartINET(view_url,fncache);
   \   000001CC   04149DE5           LDR      R1,[SP, #+1028]
   \   000001D0   180094E5           LDR      R0,[R4, #+24]
   \   000001D4   ........           _BLF     StartINET,??StartINET??rA
    124            }
    125            if (view_url_mode==MODE_BOOKMARKS)
   \                     ??StartGetFile_9:
   \   000001D8   140094E5           LDR      R0,[R4, #+20]
   \   000001DC   020050E3           CMP      R0,#+2
   \   000001E0   0700001A           BNE      ??StartGetFile_10
    126            {
    127              MAIN_CSM *main_csm=(MAIN_CSM *)FindCSMbyID(maincsm_id);
   \   000001E4   2C0094E5           LDR      R0,[R4, #+44]
   \   000001E8   080100EF           SWI      +264
   \   000001EC   0050B0E1           MOVS     R5,R0
    128              if (main_csm)
   \   000001F0   0300000A           BEQ      ??StartGetFile_10
    129              {
    130                STOPPED=1;
   \   000001F4   0100A0E3           MOV      R0,#+1
   \   000001F8   100084E5           STR      R0,[R4, #+16]
    131                main_csm->sel_bmk=CreateBookmarksMenu();
   \   000001FC   ........           _BLF     CreateBookmarksMenu,??CreateBookmarksMenu??rA
   \   00000200   300085E5           STR      R0,[R5, #+48]
    132              }
    133            }
    134            if (view_url_mode==MODE_NONE)
    135            {
    136          //    MAIN_CSM *main_csm=(MAIN_CSM *)FindCSMbyID(maincsm_id);
    137          //    if (main_csm)
    138          //    {
    139          //      VIEW_GUI *p=FindGUIbyId(main_csm->view_id,NULL);
    140          //      VIEWDATA *vd=p->vd;
    141          //      *((unsigned short *)(&(vd->current_tag_d)))=(unsigned short)0x813A;
    142          //      *((unsigned int *)(&(vd->current_tag_s)))=(unsigned int)0x0D15F000;
    143          //      AddNewStyle(vd);
    144          //      AddTextItem(vd, "Begin OMS Hacking . . .\nNOW\n!!!\n\n",33);
    145          //      AddBeginRef(vd);
    146          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1405.png"));
    147          //      AddEndRef(vd);
    148          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1406.png"));
    149          //      AddBeginRef(vd);
    150          //      AddEndRef(vd);
    151          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1407.png"));
    152          //      AddBeginRef(vd);
    153          //      AddEndRef(vd);
    154          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1408.png"));
    155          //      AddBeginRef(vd);
    156          //      AddEndRef(vd);
    157          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1409.png"));
    158          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1410.png"));
    159          //      RawInsertChar(vd,AddPictureItemFile(vd, "0:\\ZBin\\NatICQ\\smiles\\1411.png"));
    160          //      AddBrItem(vd);
    161          //      AddPageEndItem(vd);
    162          //      SmartREDRAW();
    163          //    }
    164            }
    165          }
   \                     ??StartGetFile_10:
   \   00000204   08D08DE2           ADD      SP,SP,#+8
   \   00000208   40DE8DE2           ADD      SP,SP,#+1024
   \   0000020C   F08FBDE8           POP      {R4-R11,PC}      ;; return
    166          

   \                                 In segment CODE, align 4, keep-with-next
    167          char *collectItemsParams(VIEWDATA *vd, REFCACHE *rf)
    168          {
   \                     collectItemsParams:
   \   00000000   F24F2DE9           PUSH     {R1,R4-R11,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    169            unsigned int pos=0;
    170            for (int i=0;i<vd->ref_cache_size;i++)
   \   0000000C   D00094E5           LDR      R0,[R4, #+208]
   \   00000010   0050A0E3           MOV      R5,#+0
   \   00000014   0060A0E3           MOV      R6,#+0
   \   00000018   010050E3           CMP      R0,#+1
   \   0000001C   2B0000AA           BGE      ??collectItemsParams_2
    171            {
    172              REFCACHE *prf=vd->ref_cache+i;
    173              switch (prf->tag)
    174              {
    175              case 's':
    176                {
    177                  if (prf->multiselect)
    178                  {
    179                    int p=_rshort2(vd->oms+prf->id);
    180                    int start=prf->id+2+p+3+1;
    181                    for (int i=0;i<prf->size;i++)
    182                    {
    183                      if (((char*)prf->data)[i])
    184                      {
    185                        // write
    186                        p=_rshort2(vd->oms+start);
    187                        start=start+2+p;
    188                        pos+=_rshort2(vd->oms+prf->id)+_rshort2(vd->oms+start)+2;
    189                        p=_rshort2(vd->oms+start);
    190                        start=start+2+p+2;
    191                      }
    192                      else
    193                      {
    194                        // skip
    195                        p=_rshort2(vd->oms+start);
    196                        start=start+2+p;
    197                        p=_rshort2(vd->oms+start);
    198                        start=start+2+p+2;
    199                      }
    200                    }
    201                  }
    202                  else
    203                  {
    204                    pos+=_rshort2(vd->oms+prf->id)+1+_rshort2(vd->oms+prf->id2)+1;
    205                  }
    206                }
    207                break;
    208              case 'c':
    209              case 'r':
    210                if (vd->rawtext[prf->begin+1]==vd->WCHAR_RADIO_ON||vd->rawtext[prf->begin+1]==vd->WCHAR_BUTTON_ON)
    211                  pos+=_rshort2(vd->oms+prf->id)+1+_rshort2(vd->oms+prf->value)+1;
    212                break;
    213              case 'i':
    214              case 'u':
    215                {
    216                  if (prf!=rf) break;
    217                  pos+=_rshort2(vd->oms+prf->id)+2;
    218                  char *c=extract_omstr(vd,prf->value);
    219                  WSHDR *ws=AllocWS(strlen(c));
    220                  oms2ws(ws,c,strlen(c));
    221                  mfree(c);
    222                  char *b=c=(char *)malloc(ws->wsbody[0]+3);
    223                  for (int i=0; i<ws->wsbody[0]; i++) *c++=char16to8(ws->wsbody[i+1]);
    224                  *c=0;
    225                  b=ToWeb(b,1,0);
    226                  pos+=strlen(b);
    227                  mfree(b);
    228                  FreeWS(ws);
    229                }
    230                break;
    231              case 'p':
    232              case 'x':
    233                {
    234                  pos+=_rshort2(vd->oms+prf->id)+2;
    235                  char *c;
    236                  char *b=c=(char *)malloc(((WSHDR *)prf->data)->wsbody[0]+3);
    237                  for (int i=0; i<((WSHDR *)prf->data)->wsbody[0]; i++) *c++=char16to8(((WSHDR *)prf->data)->wsbody[i+1]);
    238                  *c=0;
    239                  b=ToWeb(b,1,0);
    240                  pos+=strlen(b);
    241                  mfree(b);
    242                  if (!prf->upload_file_data_not_present)
    243                    pos+=GetFileDataLen(prf);
    244                }
    245                break;
    246              }
    247            }
    248          //  DEBUGS("pos:%i\r\n",pos);
    249            char* s=malloc(pos+1+GOTO_PARAMS_OFFSET);
   \                     ??collectItemsParams_3:
   \   00000020   B100A0E3           MOV      R0,#+177
   \   00000024   400E80E3           ORR      R0,R0,#0x400
   \   00000028   050080E0           ADD      R0,R0,R5
   \   0000002C   140000EF           SWI      +20
   \   00000030   0050A0E1           MOV      R5,R0
    250            pos=GOTO_PARAMS_OFFSET;
    251            for (int i=0;i<vd->ref_cache_size;i++)
   \   00000034   0010A0E3           MOV      R1,#+0
   \   00000038   00108DE5           STR      R1,[SP, #+0]
   \   0000003C   D00094E5           LDR      R0,[R4, #+208]
   \   00000040   4BAEA0E3           MOV      R10,#+1200
   \   00000044   010050E3           CMP      R0,#+1
   \   00000048   FA0000AA           BGE      ??collectItemsParams_4
    252            {
    253              REFCACHE *prf=vd->ref_cache+i;
    254              switch (prf->tag)
    255              {
    256              case 's':
    257                {
    258                  if (prf->multiselect)
    259                  {
    260                    int p=_rshort2(vd->oms+prf->id);
    261                    int start=prf->id+2+p+3+1;
    262                    for (int i=0;i<prf->size;i++)
    263                    {
    264                      if (((char*)prf->data)[i])
    265                      {
    266                        // write
    267                        p=_rshort2(vd->oms+start);
    268                        start=start+2+p;
    269                        s[pos]='&';
    270                        pos++;
    271                        char *c=extract_omstr(vd,prf->id);
    272                        memcpy(s+pos,c,strlen(c));
    273                        pos+=strlen(c);
    274                        mfree(c);
    275                        s[pos]='=';
    276                        pos++;
    277                        c=extract_omstr(vd,start);
    278                        memcpy(s+pos,c,strlen(c));
    279                        pos+=strlen(c);
    280                        mfree(c);
    281                        p=_rshort2(vd->oms+start);
    282                        start=start+2+p+2;
    283                      }
    284                      else
    285                      {
    286                        // skip
    287                        p=_rshort2(vd->oms+start);
    288                        start=start+2+p;
    289                        p=_rshort2(vd->oms+start);
    290                        start=start+2+p+2;
    291                      }
    292                    }
    293                  }
    294                  else
    295                  {
    296                    s[pos]='&';
    297                    pos++;
    298                    char *c=extract_omstr(vd,prf->id);
    299                    memcpy(s+pos,c,strlen(c));
    300                    pos+=strlen(c);
    301                    mfree(c);
    302                    s[pos]='=';
    303                    pos++;
    304                    c=extract_omstr(vd,prf->id2);
    305                    memcpy(s+pos,c,strlen(c));
    306                    pos+=strlen(c);
    307                    mfree(c);
    308                  }
    309                }
    310                break;
    311              case 'c':
    312              case 'r':
    313                {
    314                  if (vd->rawtext[prf->begin+1]==vd->WCHAR_RADIO_ON||vd->rawtext[prf->begin+1]==vd->WCHAR_BUTTON_ON)
    315                  {
    316                    s[pos]='&';
    317                    pos++;
    318                    char *c=extract_omstr(vd,prf->id);
    319                    memcpy(s+pos,c,strlen(c));
    320                    pos+=strlen(c);
    321                    mfree(c);
    322                    s[pos]='=';
    323                    pos++;
    324                    c=extract_omstr(vd,prf->value);
    325                    memcpy(s+pos,c,strlen(c));
    326                    pos+=strlen(c);
    327                    mfree(c);
    328                  }
    329                }
    330                break;
    331              case 'i':
    332              case 'u':
    333                {
    334                  if (prf!=rf) break;
    335                  s[pos]='&';
    336                  pos++;
    337                  char *c=extract_omstr(vd,prf->id);
    338                  memcpy(s+pos,c,strlen(c));
    339                  pos+=strlen(c);
    340                  mfree(c);
    341                  s[pos]='=';
    342                  pos++;
    343                  c=extract_omstr(vd,prf->value);
    344                  WSHDR *ws=AllocWS(strlen(c));
    345                  oms2ws(ws,c,strlen(c));
    346                  mfree(c);
    347                  char *b=c=(char *)malloc(ws->wsbody[0]+3);
    348                  for (int i=0; i<ws->wsbody[0]; i++) *c++=char16to8(ws->wsbody[i+1]);
    349                  *c=0;
    350                  b=ToWeb(b,1,0);
    351                  memcpy(s+pos, b, strlen(b));
    352                  pos+=strlen(b);
    353                  mfree(b);
    354                  FreeWS(ws);
    355                }
    356                break;
    357              case 'p':
    358              case 'x':
    359                {
    360                  s[pos]='&';
    361                  pos++;
    362                  char *c=extract_omstr(vd,prf->id);
    363                  memcpy(s+pos,c,strlen(c));
    364                  pos+=strlen(c);
    365                  mfree(c);
    366                  s[pos]='=';
    367                  pos++;
    368                  char *b=c=(char *)malloc(((WSHDR *)prf->data)->wsbody[0]+3);
    369                  for (int i=0; i<((WSHDR *)prf->data)->wsbody[0]; i++) *c++=char16to8(((WSHDR *)prf->data)->wsbody[i+1]);
    370                  *c=0;
    371                  b=ToWeb(b,1,0);
    372                  memcpy(s+pos, b, strlen(b));
    373                  pos+=strlen(b);
    374                  mfree(b);
    375                  if (!prf->upload_file_data_not_present)
    376                    pos += FillFileData(prf, s+pos);
    377                }
    378                break;
    379              }
    380            }
    381          //  DEBUGS("pos:%i\r\n",pos);
    382            s[pos]=0;
   \                     ??collectItemsParams_5:
   \   0000004C   0000A0E3           MOV      R0,#+0
   \   00000050   0500CAE7           STRB     R0,[R10, +R5]
    383          //  unsigned int ul;
    384          //  int f;
    385          //  if ((f=fopen("0:\\zbin\\balletmini\\dump.txt",A_ReadWrite+A_Create+A_Truncate,P_READ+P_WRITE,&ul))!=-1)
    386          //  {
    387          //    fwrite(f,s,pos,&ul);
    388          //    fclose(f,&ul);
    389          //  }
    390            return s;
   \   00000054   0500A0E1           MOV      R0,R5
   \   00000058   F68FBDE8           POP      {R1,R2,R4-R11,PC}  ;; return
   \                     ??collectItemsParams_6:
   \   0000005C   000090E5           LDR      R0,[R0, #+0]
   \   00000060   890080E0           ADD      R0,R0,R9, LSL #+1
   \   00000064   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000068   019089E2           ADD      R9,R9,#+1
   \   0000006C   ........           _BLF     char16to8,??char16to8??rA
   \   00000070   ........           STRB     R0,[R8], #+1
   \                     ??collectItemsParams_7:
   \   00000074   180097E5           LDR      R0,[R7, #+24]
   \   00000078   001090E5           LDR      R1,[R0, #+0]
   \   0000007C   B010D1E1           LDRH     R1,[R1, #+0]
   \   00000080   010059E1           CMP      R9,R1
   \   00000084   F4FFFFBA           BLT      ??collectItemsParams_6
   \                     ??collectItemsParams_8:
   \   00000088   0000A0E3           MOV      R0,#+0
   \   0000008C   0000C8E5           STRB     R0,[R8, #+0]
   \   00000090   0020A0E3           MOV      R2,#+0
   \   00000094   0110A0E3           MOV      R1,#+1
   \   00000098   0A00A0E1           MOV      R0,R10
   \   0000009C   ........           _BLF     ToWeb,??ToWeb??rA
   \   000000A0   0080A0E1           MOV      R8,R0
   \   000000A4   1B0000EF           SWI      +27
   \   000000A8   055080E0           ADD      R5,R0,R5
   \   000000AC   0800A0E1           MOV      R0,R8
   \   000000B0   150000EF           SWI      +21
   \   000000B4   2000D7E5           LDRB     R0,[R7, #+32]
   \   000000B8   040010E3           TST      R0,#0x4
   \   000000BC   0200001A           BNE      ??collectItemsParams_9
   \   000000C0   0700A0E1           MOV      R0,R7
   \   000000C4   ........           _BLF     GetFileDataLen,??GetFileDataLen??rA
   \                     ??collectItemsParams_10:
   \   000000C8   055080E0           ADD      R5,R0,R5
   \                     ??collectItemsParams_9:
   \   000000CC   016086E2           ADD      R6,R6,#+1
   \                     ??collectItemsParams_2:
   \   000000D0   D00094E5           LDR      R0,[R4, #+208]
   \   000000D4   000056E1           CMP      R6,R0
   \   000000D8   D0FFFFAA           BGE      ??collectItemsParams_3
   \   000000DC   CC1094E5           LDR      R1,[R4, #+204]
   \   000000E0   2800A0E3           MOV      R0,#+40
   \   000000E4   901627E0           MLA      R7,R0,R6,R1
   \   000000E8   080097E5           LDR      R0,[R7, #+8]
   \   000000EC   630040E2           SUB      R0,R0,#+99
   \   000000F0   150050E3           CMP      R0,#+21
   \   000000F4   F4FFFF8A           BHI      ??collectItemsParams_9
   \   000000F8   021F8FE2           ADR      R1,??collectItemsParams_0
   \   000000FC   8000A0E1           MOV      R0,R0, LSL #+1
   \   00000100   F01091E1           LDRSH    R1,[R1, R0]
   \   00000104   01F18FE0           ADD      PC,PC,R1, LSL #+2
   \                     ??collectItemsParams_0:
   \   00000108   4300F0FFF0FF       DC16     +67,+65520,+65520,+65520
   \              F0FF        
   \   00000110   F0FFF0FF5600       DC16     +65520,+65520,+86,+65520
   \              F0FF        
   \   00000118   F0FFF0FFF0FF       DC16     +65520,+65520,+65520,+65520
   \              F0FF        
   \   00000120   F0FF9100F0FF       DC16     +65520,+145,+65520,+67
   \              4300        
   \   00000128   0A00F0FF5600       DC16     +10,+65520,+86,+65520
   \              F0FF        
   \   00000130   F0FF9100           DC16     +65520,+145
   \                     ??collectItemsParams_11:
   \   00000134   0C0097E5           LDR      R0,[R7, #+12]
   \   00000138   3C1094E5           LDR      R1,[R4, #+60]
   \   0000013C   010080E0           ADD      R0,R0,R1
   \   00000140   2010D7E5           LDRB     R1,[R7, #+32]
   \   00000144   020011E3           TST      R1,#0x2
   \   00000148   2900000A           BEQ      ??collectItemsParams_12
   \   0000014C   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000150   0C1097E5           LDR      R1,[R7, #+12]
   \   00000154   0080A0E3           MOV      R8,#+0
   \   00000158   000081E0           ADD      R0,R1,R0
   \   0000015C   069080E2           ADD      R9,R0,#+6
   \   00000160   1C0097E5           LDR      R0,[R7, #+28]
   \   00000164   010050E3           CMP      R0,#+1
   \   00000168   090000AA           BGE      ??collectItemsParams_13
   \   0000016C   D6FFFFEA           B        ??collectItemsParams_9
   \                     ??collectItemsParams_14:
   \   00000170   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000174   020080E2           ADD      R0,R0,#+2
   \   00000178   099080E0           ADD      R9,R0,R9
   \                     ??collectItemsParams_15:
   \   0000017C   3C0094E5           LDR      R0,[R4, #+60]
   \   00000180   018088E2           ADD      R8,R8,#+1
   \   00000184   000089E0           ADD      R0,R9,R0
   \   00000188   ........           _BLF     _rshort2,??_rshort2??rA
   \   0000018C   040080E2           ADD      R0,R0,#+4
   \   00000190   099080E0           ADD      R9,R0,R9
   \                     ??collectItemsParams_13:
   \   00000194   1C0097E5           LDR      R0,[R7, #+28]
   \   00000198   000058E1           CMP      R8,R0
   \   0000019C   CAFFFFAA           BGE      ??collectItemsParams_9
   \   000001A0   181097E5           LDR      R1,[R7, #+24]
   \   000001A4   3C0094E5           LDR      R0,[R4, #+60]
   \   000001A8   0110D8E7           LDRB     R1,[R8, +R1]
   \   000001AC   000089E0           ADD      R0,R9,R0
   \   000001B0   000051E3           CMP      R1,#+0
   \   000001B4   EDFFFF0A           BEQ      ??collectItemsParams_14
   \   000001B8   ........           _BLF     _rshort2,??_rshort2??rA
   \   000001BC   3C1094E5           LDR      R1,[R4, #+60]
   \   000001C0   020080E2           ADD      R0,R0,#+2
   \   000001C4   099080E0           ADD      R9,R0,R9
   \   000001C8   0C0097E5           LDR      R0,[R7, #+12]
   \   000001CC   010080E0           ADD      R0,R0,R1
   \   000001D0   ........           _BLF     _rshort2,??_rshort2??rA
   \   000001D4   00A0A0E1           MOV      R10,R0
   \   000001D8   3C0094E5           LDR      R0,[R4, #+60]
   \   000001DC   000089E0           ADD      R0,R9,R0
   \   000001E0   ........           _BLF     _rshort2,??_rshort2??rA
   \   000001E4   00008AE0           ADD      R0,R10,R0
   \   000001E8   020080E2           ADD      R0,R0,#+2
   \   000001EC   055080E0           ADD      R5,R0,R5
   \   000001F0   E1FFFFEA           B        ??collectItemsParams_15
   \                     ??collectItemsParams_12:
   \   000001F4   ........           _BLF     _rshort2,??_rshort2??rA
   \   000001F8   3C1094E5           LDR      R1,[R4, #+60]
   \   000001FC   0080A0E1           MOV      R8,R0
   \   00000200   140097E5           LDR      R0,[R7, #+20]
   \                     ??collectItemsParams_16:
   \   00000204   010080E0           ADD      R0,R0,R1
   \   00000208   ........           _BLF     _rshort2,??_rshort2??rA
   \   0000020C   000088E0           ADD      R0,R8,R0
   \   00000210   020080E2           ADD      R0,R0,#+2
   \   00000214   ABFFFFEA           B        ??collectItemsParams_10
   \                     ??collectItemsParams_17:
   \   00000218   000097E5           LDR      R0,[R7, #+0]
   \   0000021C   081094E5           LDR      R1,[R4, #+8]
   \   00000220   F42094E5           LDR      R2,[R4, #+244]
   \   00000224   800081E0           ADD      R0,R1,R0, LSL #+1
   \   00000228   B210D0E1           LDRH     R1,[R0, #+2]
   \   0000022C   020051E1           CMP      R1,R2
   \   00000230   0300000A           BEQ      ??collectItemsParams_18
   \   00000234   0100A0E1           MOV      R0,R1
   \   00000238   EC1094E5           LDR      R1,[R4, #+236]
   \   0000023C   010050E1           CMP      R0,R1
   \   00000240   A1FFFF1A           BNE      ??collectItemsParams_9
   \                     ??collectItemsParams_18:
   \   00000244   0C0097E5           LDR      R0,[R7, #+12]
   \   00000248   3C1094E5           LDR      R1,[R4, #+60]
   \   0000024C   010080E0           ADD      R0,R0,R1
   \   00000250   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000254   3C1094E5           LDR      R1,[R4, #+60]
   \   00000258   0080A0E1           MOV      R8,R0
   \   0000025C   100097E5           LDR      R0,[R7, #+16]
   \   00000260   E7FFFFEA           B        ??collectItemsParams_16
   \                     ??collectItemsParams_19:
   \   00000264   04009DE5           LDR      R0,[SP, #+4]
   \   00000268   000057E1           CMP      R7,R0
   \   0000026C   96FFFF1A           BNE      ??collectItemsParams_9
   \   00000270   0C0097E5           LDR      R0,[R7, #+12]
   \   00000274   3C1094E5           LDR      R1,[R4, #+60]
   \   00000278   00A0A0E3           MOV      R10,#+0
   \   0000027C   010080E0           ADD      R0,R0,R1
   \   00000280   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000284   101097E5           LDR      R1,[R7, #+16]
   \   00000288   020080E2           ADD      R0,R0,#+2
   \   0000028C   055080E0           ADD      R5,R0,R5
   \   00000290   0400A0E1           MOV      R0,R4
   \   00000294   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000298   0080A0E1           MOV      R8,R0
   \   0000029C   1B0000EF           SWI      +27
   \   000002A0   250100EF           SWI      +293
   \   000002A4   0070A0E1           MOV      R7,R0
   \   000002A8   0800A0E1           MOV      R0,R8
   \   000002AC   1B0000EF           SWI      +27
   \   000002B0   0020A0E1           MOV      R2,R0
   \   000002B4   0810A0E1           MOV      R1,R8
   \   000002B8   0700A0E1           MOV      R0,R7
   \   000002BC   ........           _BLF     oms2ws,??oms2ws??rA
   \   000002C0   0800A0E1           MOV      R0,R8
   \   000002C4   150000EF           SWI      +21
   \   000002C8   000097E5           LDR      R0,[R7, #+0]
   \   000002CC   B000D0E1           LDRH     R0,[R0, #+0]
   \   000002D0   030080E2           ADD      R0,R0,#+3
   \   000002D4   140000EF           SWI      +20
   \   000002D8   0080A0E1           MOV      R8,R0
   \   000002DC   000097E5           LDR      R0,[R7, #+0]
   \   000002E0   0890A0E1           MOV      R9,R8
   \   000002E4   B000D0E1           LDRH     R0,[R0, #+0]
   \   000002E8   000050E3           CMP      R0,#+0
   \   000002EC   0500001A           BNE      ??collectItemsParams_20
   \   000002F0   080000EA           B        ??collectItemsParams_21
   \                     ??collectItemsParams_22:
   \   000002F4   8A0080E0           ADD      R0,R0,R10, LSL #+1
   \   000002F8   B200D0E1           LDRH     R0,[R0, #+2]
   \   000002FC   01A08AE2           ADD      R10,R10,#+1
   \   00000300   ........           _BLF     char16to8,??char16to8??rA
   \   00000304   ........           STRB     R0,[R8], #+1
   \                     ??collectItemsParams_20:
   \   00000308   000097E5           LDR      R0,[R7, #+0]
   \   0000030C   B010D0E1           LDRH     R1,[R0, #+0]
   \   00000310   01005AE1           CMP      R10,R1
   \   00000314   F6FFFFBA           BLT      ??collectItemsParams_22
   \                     ??collectItemsParams_21:
   \   00000318   0000A0E3           MOV      R0,#+0
   \   0000031C   0000C8E5           STRB     R0,[R8, #+0]
   \   00000320   0020A0E3           MOV      R2,#+0
   \   00000324   0110A0E3           MOV      R1,#+1
   \   00000328   0900A0E1           MOV      R0,R9
   \   0000032C   ........           _BLF     ToWeb,??ToWeb??rA
   \   00000330   0080A0E1           MOV      R8,R0
   \   00000334   1B0000EF           SWI      +27
   \   00000338   055080E0           ADD      R5,R0,R5
   \   0000033C   0800A0E1           MOV      R0,R8
   \   00000340   150000EF           SWI      +21
   \   00000344   0700A0E1           MOV      R0,R7
   \   00000348   290100EF           SWI      +297
   \   0000034C   5EFFFFEA           B        ??collectItemsParams_9
   \                     ??collectItemsParams_23:
   \   00000350   0C0097E5           LDR      R0,[R7, #+12]
   \   00000354   3C1094E5           LDR      R1,[R4, #+60]
   \   00000358   0090A0E3           MOV      R9,#+0
   \   0000035C   010080E0           ADD      R0,R0,R1
   \   00000360   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000364   020080E2           ADD      R0,R0,#+2
   \   00000368   055080E0           ADD      R5,R0,R5
   \   0000036C   180097E5           LDR      R0,[R7, #+24]
   \   00000370   000090E5           LDR      R0,[R0, #+0]
   \   00000374   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000378   030080E2           ADD      R0,R0,#+3
   \   0000037C   140000EF           SWI      +20
   \   00000380   0080A0E1           MOV      R8,R0
   \   00000384   180097E5           LDR      R0,[R7, #+24]
   \   00000388   08A0A0E1           MOV      R10,R8
   \   0000038C   000090E5           LDR      R0,[R0, #+0]
   \   00000390   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000394   000050E3           CMP      R0,#+0
   \   00000398   35FFFF1A           BNE      ??collectItemsParams_7
   \   0000039C   39FFFFEA           B        ??collectItemsParams_8
   \                     ??collectItemsParams_24:
   \   000003A0   000090E5           LDR      R0,[R0, #+0]
   \   000003A4   890080E0           ADD      R0,R0,R9, LSL #+1
   \   000003A8   B200D0E1           LDRH     R0,[R0, #+2]
   \   000003AC   019089E2           ADD      R9,R9,#+1
   \   000003B0   ........           _BLF     char16to8,??char16to8??rA
   \   000003B4   ........           STRB     R0,[R8], #+1
   \                     ??collectItemsParams_25:
   \   000003B8   180096E5           LDR      R0,[R6, #+24]
   \   000003BC   001090E5           LDR      R1,[R0, #+0]
   \   000003C0   B010D1E1           LDRH     R1,[R1, #+0]
   \   000003C4   010059E1           CMP      R9,R1
   \   000003C8   F4FFFFBA           BLT      ??collectItemsParams_24
   \                     ??collectItemsParams_26:
   \   000003CC   0000A0E3           MOV      R0,#+0
   \   000003D0   0000C8E5           STRB     R0,[R8, #+0]
   \   000003D4   0020A0E3           MOV      R2,#+0
   \   000003D8   0110A0E3           MOV      R1,#+1
   \   000003DC   0A00A0E1           MOV      R0,R10
   \   000003E0   ........           _BLF     ToWeb,??ToWeb??rA
   \   000003E4   0080A0E1           MOV      R8,R0
   \   000003E8   1B0000EF           SWI      +27
   \   000003EC   0020A0E1           MOV      R2,R0
   \   000003F0   0810A0E1           MOV      R1,R8
   \   000003F4   050087E0           ADD      R0,R7,R5
   \   000003F8   1E0100EF           SWI      +286
   \   000003FC   0800A0E1           MOV      R0,R8
   \   00000400   1B0000EF           SWI      +27
   \   00000404   07A080E0           ADD      R10,R0,R7
   \   00000408   0800A0E1           MOV      R0,R8
   \   0000040C   150000EF           SWI      +21
   \   00000410   2000D6E5           LDRB     R0,[R6, #+32]
   \   00000414   040010E3           TST      R0,#0x4
   \   00000418   0300001A           BNE      ??collectItemsParams_27
   \   0000041C   05108AE0           ADD      R1,R10,R5
   \   00000420   0600A0E1           MOV      R0,R6
   \   00000424   ........           _BLF     FillFileData,??FillFileData??rA
   \   00000428   0AA080E0           ADD      R10,R0,R10
   \                     ??collectItemsParams_27:
   \   0000042C   00109DE5           LDR      R1,[SP, #+0]
   \   00000430   011081E2           ADD      R1,R1,#+1
   \   00000434   00108DE5           STR      R1,[SP, #+0]
   \                     ??collectItemsParams_4:
   \   00000438   00009DE5           LDR      R0,[SP, #+0]
   \   0000043C   D01094E5           LDR      R1,[R4, #+208]
   \   00000440   010050E1           CMP      R0,R1
   \   00000444   00FFFFAA           BGE      ??collectItemsParams_5
   \   00000448   CC2094E5           LDR      R2,[R4, #+204]
   \   0000044C   2810A0E3           MOV      R1,#+40
   \   00000450   912026E0           MLA      R6,R1,R0,R2
   \   00000454   05008AE0           ADD      R0,R10,R5
   \   00000458   081096E5           LDR      R1,[R6, #+8]
   \   0000045C   01808AE2           ADD      R8,R10,#+1
   \   00000460   2670A0E3           MOV      R7,#+38
   \   00000464   631041E2           SUB      R1,R1,#+99
   \   00000468   150051E3           CMP      R1,#+21
   \   0000046C   EEFFFF8A           BHI      ??collectItemsParams_27
   \   00000470   022F8FE2           ADR      R2,??collectItemsParams_1
   \   00000474   8110A0E1           MOV      R1,R1, LSL #+1
   \   00000478   F12092E1           LDRSH    R2,[R2, R1]
   \   0000047C   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??collectItemsParams_1:
   \   00000480   7100EAFFEAFF       DC16     +113,+65514,+65514,+65514
   \              EAFF        
   \   00000488   EAFFEAFF8F00       DC16     +65514,+65514,+143,+65514
   \              EAFF        
   \   00000490   EAFFEAFFEAFF       DC16     +65514,+65514,+65514,+65514
   \              EAFF        
   \   00000498   EAFFDC00EAFF       DC16     +65514,+220,+65514,+113
   \              7100        
   \   000004A0   0A00EAFF8F00       DC16     +10,+65514,+143,+65514
   \              EAFF        
   \   000004A8   EAFFDC00           DC16     +65514,+220
   \                     ??collectItemsParams_28:
   \   000004AC   2010D6E5           LDRB     R1,[R6, #+32]
   \   000004B0   020011E3           TST      R1,#0x2
   \   000004B4   4200000A           BEQ      ??collectItemsParams_29
   \   000004B8   0C0096E5           LDR      R0,[R6, #+12]
   \   000004BC   3C1094E5           LDR      R1,[R4, #+60]
   \   000004C0   0080A0E3           MOV      R8,#+0
   \   000004C4   010080E0           ADD      R0,R0,R1
   \   000004C8   ........           _BLF     _rshort2,??_rshort2??rA
   \   000004CC   0C1096E5           LDR      R1,[R6, #+12]
   \   000004D0   000081E0           ADD      R0,R1,R0
   \   000004D4   069080E2           ADD      R9,R0,#+6
   \   000004D8   1C0096E5           LDR      R0,[R6, #+28]
   \   000004DC   010050E3           CMP      R0,#+1
   \   000004E0   090000AA           BGE      ??collectItemsParams_30
   \   000004E4   D0FFFFEA           B        ??collectItemsParams_27
   \                     ??collectItemsParams_31:
   \   000004E8   ........           _BLF     _rshort2,??_rshort2??rA
   \   000004EC   020080E2           ADD      R0,R0,#+2
   \   000004F0   099080E0           ADD      R9,R0,R9
   \                     ??collectItemsParams_32:
   \   000004F4   3C0094E5           LDR      R0,[R4, #+60]
   \   000004F8   018088E2           ADD      R8,R8,#+1
   \   000004FC   000089E0           ADD      R0,R9,R0
   \   00000500   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000504   040080E2           ADD      R0,R0,#+4
   \   00000508   099080E0           ADD      R9,R0,R9
   \                     ??collectItemsParams_30:
   \   0000050C   1C0096E5           LDR      R0,[R6, #+28]
   \   00000510   000058E1           CMP      R8,R0
   \   00000514   C4FFFFAA           BGE      ??collectItemsParams_27
   \   00000518   181096E5           LDR      R1,[R6, #+24]
   \   0000051C   3C0094E5           LDR      R0,[R4, #+60]
   \   00000520   0110D8E7           LDRB     R1,[R8, +R1]
   \   00000524   000089E0           ADD      R0,R9,R0
   \   00000528   000051E3           CMP      R1,#+0
   \   0000052C   EDFFFF0A           BEQ      ??collectItemsParams_31
   \   00000530   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000534   020080E2           ADD      R0,R0,#+2
   \   00000538   099080E0           ADD      R9,R0,R9
   \   0000053C   0570CAE7           STRB     R7,[R10, +R5]
   \   00000540   0C1096E5           LDR      R1,[R6, #+12]
   \   00000544   01A08AE2           ADD      R10,R10,#+1
   \   00000548   0400A0E1           MOV      R0,R4
   \   0000054C   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000550   00B0A0E1           MOV      R11,R0
   \   00000554   1B0000EF           SWI      +27
   \   00000558   0020A0E1           MOV      R2,R0
   \   0000055C   0B10A0E1           MOV      R1,R11
   \   00000560   05008AE0           ADD      R0,R10,R5
   \   00000564   1E0100EF           SWI      +286
   \   00000568   0B00A0E1           MOV      R0,R11
   \   0000056C   1B0000EF           SWI      +27
   \   00000570   0AA080E0           ADD      R10,R0,R10
   \   00000574   0B00A0E1           MOV      R0,R11
   \   00000578   150000EF           SWI      +21
   \   0000057C   3D00A0E3           MOV      R0,#+61
   \   00000580   0500CAE7           STRB     R0,[R10, +R5]
   \   00000584   01A08AE2           ADD      R10,R10,#+1
   \   00000588   0910A0E1           MOV      R1,R9
   \   0000058C   0400A0E1           MOV      R0,R4
   \   00000590   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000594   00B0A0E1           MOV      R11,R0
   \   00000598   1B0000EF           SWI      +27
   \   0000059C   0020A0E1           MOV      R2,R0
   \   000005A0   0B10A0E1           MOV      R1,R11
   \   000005A4   05008AE0           ADD      R0,R10,R5
   \   000005A8   1E0100EF           SWI      +286
   \   000005AC   0B00A0E1           MOV      R0,R11
   \   000005B0   1B0000EF           SWI      +27
   \   000005B4   0AA080E0           ADD      R10,R0,R10
   \   000005B8   0B00A0E1           MOV      R0,R11
   \   000005BC   150000EF           SWI      +21
   \   000005C0   CBFFFFEA           B        ??collectItemsParams_32
   \                     ??collectItemsParams_29:
   \   000005C4   0070C0E5           STRB     R7,[R0, #+0]
   \   000005C8   0C1096E5           LDR      R1,[R6, #+12]
   \   000005CC   0400A0E1           MOV      R0,R4
   \   000005D0   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   000005D4   0070A0E1           MOV      R7,R0
   \   000005D8   1B0000EF           SWI      +27
   \   000005DC   0020A0E1           MOV      R2,R0
   \   000005E0   0710A0E1           MOV      R1,R7
   \   000005E4   050088E0           ADD      R0,R8,R5
   \   000005E8   1E0100EF           SWI      +286
   \   000005EC   0700A0E1           MOV      R0,R7
   \   000005F0   1B0000EF           SWI      +27
   \   000005F4   088080E0           ADD      R8,R0,R8
   \   000005F8   0700A0E1           MOV      R0,R7
   \   000005FC   150000EF           SWI      +21
   \   00000600   3D00A0E3           MOV      R0,#+61
   \   00000604   0500C8E7           STRB     R0,[R8, +R5]
   \   00000608   141096E5           LDR      R1,[R6, #+20]
   \                     ??collectItemsParams_33:
   \   0000060C   017088E2           ADD      R7,R8,#+1
   \   00000610   0400A0E1           MOV      R0,R4
   \   00000614   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000618   0060A0E1           MOV      R6,R0
   \   0000061C   1B0000EF           SWI      +27
   \   00000620   0020A0E1           MOV      R2,R0
   \   00000624   0610A0E1           MOV      R1,R6
   \   00000628   050087E0           ADD      R0,R7,R5
   \   0000062C   1E0100EF           SWI      +286
   \   00000630   0600A0E1           MOV      R0,R6
   \   00000634   1B0000EF           SWI      +27
   \   00000638   07A080E0           ADD      R10,R0,R7
   \   0000063C   0600A0E1           MOV      R0,R6
   \   00000640   150000EF           SWI      +21
   \   00000644   78FFFFEA           B        ??collectItemsParams_27
   \                     ??collectItemsParams_34:
   \   00000648   001096E5           LDR      R1,[R6, #+0]
   \   0000064C   082094E5           LDR      R2,[R4, #+8]
   \   00000650   F43094E5           LDR      R3,[R4, #+244]
   \   00000654   811082E0           ADD      R1,R2,R1, LSL #+1
   \   00000658   B220D1E1           LDRH     R2,[R1, #+2]
   \   0000065C   030052E1           CMP      R2,R3
   \   00000660   0300000A           BEQ      ??collectItemsParams_35
   \   00000664   0210A0E1           MOV      R1,R2
   \   00000668   EC2094E5           LDR      R2,[R4, #+236]
   \   0000066C   020051E1           CMP      R1,R2
   \   00000670   6DFFFF1A           BNE      ??collectItemsParams_27
   \                     ??collectItemsParams_35:
   \   00000674   0070C0E5           STRB     R7,[R0, #+0]
   \   00000678   0C1096E5           LDR      R1,[R6, #+12]
   \   0000067C   0400A0E1           MOV      R0,R4
   \   00000680   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000684   0070A0E1           MOV      R7,R0
   \   00000688   1B0000EF           SWI      +27
   \   0000068C   0020A0E1           MOV      R2,R0
   \   00000690   0710A0E1           MOV      R1,R7
   \   00000694   050088E0           ADD      R0,R8,R5
   \   00000698   1E0100EF           SWI      +286
   \   0000069C   0700A0E1           MOV      R0,R7
   \   000006A0   1B0000EF           SWI      +27
   \   000006A4   088080E0           ADD      R8,R0,R8
   \   000006A8   0700A0E1           MOV      R0,R7
   \   000006AC   150000EF           SWI      +21
   \   000006B0   3D00A0E3           MOV      R0,#+61
   \   000006B4   0500C8E7           STRB     R0,[R8, +R5]
   \   000006B8   101096E5           LDR      R1,[R6, #+16]
   \   000006BC   D2FFFFEA           B        ??collectItemsParams_33
   \                     ??collectItemsParams_36:
   \   000006C0   04109DE5           LDR      R1,[SP, #+4]
   \   000006C4   010056E1           CMP      R6,R1
   \   000006C8   57FFFF1A           BNE      ??collectItemsParams_27
   \   000006CC   0070C0E5           STRB     R7,[R0, #+0]
   \   000006D0   0C1096E5           LDR      R1,[R6, #+12]
   \   000006D4   0400A0E1           MOV      R0,R4
   \   000006D8   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   000006DC   0070A0E1           MOV      R7,R0
   \   000006E0   1B0000EF           SWI      +27
   \   000006E4   0020A0E1           MOV      R2,R0
   \   000006E8   0710A0E1           MOV      R1,R7
   \   000006EC   050088E0           ADD      R0,R8,R5
   \   000006F0   1E0100EF           SWI      +286
   \   000006F4   0700A0E1           MOV      R0,R7
   \   000006F8   1B0000EF           SWI      +27
   \   000006FC   088080E0           ADD      R8,R0,R8
   \   00000700   0700A0E1           MOV      R0,R7
   \   00000704   150000EF           SWI      +21
   \   00000708   3D00A0E3           MOV      R0,#+61
   \   0000070C   0500C8E7           STRB     R0,[R8, +R5]
   \   00000710   101096E5           LDR      R1,[R6, #+16]
   \   00000714   017088E2           ADD      R7,R8,#+1
   \   00000718   0400A0E1           MOV      R0,R4
   \   0000071C   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000720   0080A0E1           MOV      R8,R0
   \   00000724   1B0000EF           SWI      +27
   \   00000728   250100EF           SWI      +293
   \   0000072C   0060A0E1           MOV      R6,R0
   \   00000730   0800A0E1           MOV      R0,R8
   \   00000734   1B0000EF           SWI      +27
   \   00000738   0020A0E1           MOV      R2,R0
   \   0000073C   0810A0E1           MOV      R1,R8
   \   00000740   0600A0E1           MOV      R0,R6
   \   00000744   ........           _BLF     oms2ws,??oms2ws??rA
   \   00000748   0800A0E1           MOV      R0,R8
   \   0000074C   150000EF           SWI      +21
   \   00000750   000096E5           LDR      R0,[R6, #+0]
   \   00000754   00A0A0E3           MOV      R10,#+0
   \   00000758   B000D0E1           LDRH     R0,[R0, #+0]
   \   0000075C   030080E2           ADD      R0,R0,#+3
   \   00000760   140000EF           SWI      +20
   \   00000764   0080A0E1           MOV      R8,R0
   \   00000768   000096E5           LDR      R0,[R6, #+0]
   \   0000076C   0890A0E1           MOV      R9,R8
   \   00000770   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000774   000050E3           CMP      R0,#+0
   \   00000778   0500001A           BNE      ??collectItemsParams_37
   \   0000077C   080000EA           B        ??collectItemsParams_38
   \                     ??collectItemsParams_39:
   \   00000780   8A0080E0           ADD      R0,R0,R10, LSL #+1
   \   00000784   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000788   01A08AE2           ADD      R10,R10,#+1
   \   0000078C   ........           _BLF     char16to8,??char16to8??rA
   \   00000790   ........           STRB     R0,[R8], #+1
   \                     ??collectItemsParams_37:
   \   00000794   000096E5           LDR      R0,[R6, #+0]
   \   00000798   B010D0E1           LDRH     R1,[R0, #+0]
   \   0000079C   01005AE1           CMP      R10,R1
   \   000007A0   F6FFFFBA           BLT      ??collectItemsParams_39
   \                     ??collectItemsParams_38:
   \   000007A4   0000A0E3           MOV      R0,#+0
   \   000007A8   0000C8E5           STRB     R0,[R8, #+0]
   \   000007AC   0020A0E3           MOV      R2,#+0
   \   000007B0   0110A0E3           MOV      R1,#+1
   \   000007B4   0900A0E1           MOV      R0,R9
   \   000007B8   ........           _BLF     ToWeb,??ToWeb??rA
   \   000007BC   0080A0E1           MOV      R8,R0
   \   000007C0   1B0000EF           SWI      +27
   \   000007C4   0020A0E1           MOV      R2,R0
   \   000007C8   0810A0E1           MOV      R1,R8
   \   000007CC   050087E0           ADD      R0,R7,R5
   \   000007D0   1E0100EF           SWI      +286
   \   000007D4   0800A0E1           MOV      R0,R8
   \   000007D8   1B0000EF           SWI      +27
   \   000007DC   07A080E0           ADD      R10,R0,R7
   \   000007E0   0800A0E1           MOV      R0,R8
   \   000007E4   150000EF           SWI      +21
   \   000007E8   0600A0E1           MOV      R0,R6
   \   000007EC   290100EF           SWI      +297
   \   000007F0   0DFFFFEA           B        ??collectItemsParams_27
   \                     ??collectItemsParams_40:
   \   000007F4   0070C0E5           STRB     R7,[R0, #+0]
   \   000007F8   0C1096E5           LDR      R1,[R6, #+12]
   \   000007FC   0400A0E1           MOV      R0,R4
   \   00000800   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000804   0070A0E1           MOV      R7,R0
   \   00000808   1B0000EF           SWI      +27
   \   0000080C   0020A0E1           MOV      R2,R0
   \   00000810   0710A0E1           MOV      R1,R7
   \   00000814   050088E0           ADD      R0,R8,R5
   \   00000818   1E0100EF           SWI      +286
   \   0000081C   0700A0E1           MOV      R0,R7
   \   00000820   1B0000EF           SWI      +27
   \   00000824   088080E0           ADD      R8,R0,R8
   \   00000828   0700A0E1           MOV      R0,R7
   \   0000082C   150000EF           SWI      +21
   \   00000830   3D00A0E3           MOV      R0,#+61
   \   00000834   0500C8E7           STRB     R0,[R8, +R5]
   \   00000838   180096E5           LDR      R0,[R6, #+24]
   \   0000083C   017088E2           ADD      R7,R8,#+1
   \   00000840   000090E5           LDR      R0,[R0, #+0]
   \   00000844   0090A0E3           MOV      R9,#+0
   \   00000848   B000D0E1           LDRH     R0,[R0, #+0]
   \   0000084C   030080E2           ADD      R0,R0,#+3
   \   00000850   140000EF           SWI      +20
   \   00000854   0080A0E1           MOV      R8,R0
   \   00000858   180096E5           LDR      R0,[R6, #+24]
   \   0000085C   08A0A0E1           MOV      R10,R8
   \   00000860   000090E5           LDR      R0,[R0, #+0]
   \   00000864   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000868   000050E3           CMP      R0,#+0
   \   0000086C   D1FEFF1A           BNE      ??collectItemsParams_25
   \   00000870   D5FEFFEA           B        ??collectItemsParams_26
    391          }
    392          
    393          //===============================================================================================
    394          

   \                                 In segment CODE, align 4, keep-with-next
    395          static void method0(VIEW_GUI *data)
    396          {
   \                     method0:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    397            int scr_w=ScreenW()-1;
   \   00000008   888100EF           SWI      +33160
   \   0000000C   015040E2           SUB      R5,R0,#+1
    398            int scr_h=ScreenH()-1;
   \   00000010   898100EF           SWI      +33161
    399            
    400            VIEWDATA *vd=data->vd;
   \   00000014   34A094E5           LDR      R10,[R4, #+52]
   \   00000018   016040E2           SUB      R6,R0,#+1
    401            
    402            if (data->gui.state==2)
   \   0000001C   0C00D4E5           LDRB     R0,[R4, #+12]
   \   00000020   020050E3           CMP      R0,#+2
   \   00000024   F08FBD18           POPNE    {R4-R11,PC}
    403            {
    404              DrawRectangle(0,scr_shift,scr_w,scr_h,0,
    405                GetPaletteAdrByColorIndex(0),
    406                GetPaletteAdrByColorIndex(0));
   \   00000028   0000A0E3           MOV      R0,#+0
   \   0000002C   2E0100EF           SWI      +302
   \   00000030   0070A0E1           MOV      R7,R0
   \   00000034   0000A0E3           MOV      R0,#+0
   \   00000038   2E0100EF           SWI      +302
   \   0000003C   80002DE9           PUSH     {R7}
   \   00000040   01002DE9           PUSH     {R0}
   \   00000044   0630A0E1           MOV      R3,R6
   \   00000048   0520A0E1           MOV      R2,R5
   \   0000004C   0010A0E3           MOV      R1,#+0
   \   00000050   0000A0E3           MOV      R0,#+0
   \   00000054   01002DE9           PUSH     {R0}
   \   00000058   B40100EF           SWI      +436
    407                 
    408              RenderPage(vd,1);
   \   0000005C   0110A0E3           MOV      R1,#+1
   \   00000060   0A00A0E1           MOV      R0,R10
   \   00000064   ........           _BLF     RenderPage,??RenderPage??rA
   \   00000068   ........           LDR      R0,??DataTable6  ;; sieget_ipc + 16
   \   0000006C   000090E5           LDR      R0,[R0, #+0]
   \   00000070   0CD08DE2           ADD      SP,SP,#+12
   \   00000074   000050E3           CMP      R0,#+0
   \   00000078   F08FBD18           POPNE    {R4-R11,PC}
   \   0000007C   14029FE5           LDR      R0,??method0_0   ;; connect_state
   \   00000080   000090E5           LDR      R0,[R0, #+0]
   \   00000084   000050E3           CMP      R0,#+0
   \   00000088   0600000A           BEQ      ??method0_1
    409          //    DrawString(ws_console,0,0,scr_w,20,
    410          //		  FONT_SMALL,TEXT_NOFORMAT,
    411          //		  GetPaletteAdrByColorIndex(1),
    412          //      GetPaletteAdrByColorIndex(0));
    413              
    414              extern int connect_state;
    415              if (!STOPPED)
    416              {
    417                int w1, h1;
    418                if (connect_state)
    419                {
    420                  switch(connect_state)
   \   0000008C   010040E2           SUB      R0,R0,#+1
   \   00000090   020050E3           CMP      R0,#+2
   \   00000094   0300008A           BHI      ??method0_1
    421                  {
    422                  case 1: case 2: case 3:
    423          //          wsprintf(data->ws1,percent_t,"...");
    424          //          break;
    425          //        case 2:
    426          //          wsprintf(data->ws1,percent_t,"...");
    427                    wstrcpy(data->ws1, ws_console);
   \   00000098   ........           LDR      R0,??DataTable4  ;; sieget_ipc + 40
   \   0000009C   001090E5           LDR      R1,[R0, #+0]
   \   000000A0   480094E5           LDR      R0,[R4, #+72]
   \   000000A4   1F0100EF           SWI      +287
    428                    //wsprintf(data->ws1,percent_t,);
    429                    break;
    430          //        case 3:
    431          //          wsprintf(data->ws1,percent_t,"...");
    432          //          break;
    433                  }
    434                }
    435                ascii2ws(data->ws2, lgpData[LGP_Stop]);
   \                     ??method0_1:
   \   000000A8   EC019FE5           LDR      R0,??method0_0+0x4  ;; lgpData + 28
   \   000000AC   001090E5           LDR      R1,[R0, #+0]
   \   000000B0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000B4   ........           _BLF     ascii2ws,??ascii2ws??rA
    436                
    437                h1=scr_h-GetFontYSIZE(FONT_SMALL)-2;
   \   000000B8   0800A0E3           MOV      R0,#+8
   \   000000BC   C50100EF           SWI      +453
   \   000000C0   000046E0           SUB      R0,R6,R0
   \   000000C4   027040E2           SUB      R7,R0,#+2
    438                w1=scr_w-Get_WS_width(data->ws2,FONT_SMALL)-2;
   \   000000C8   4C0094E5           LDR      R0,[R4, #+76]
   \   000000CC   0810A0E3           MOV      R1,#+8
   \   000000D0   080200EF           SWI      +520
   \   000000D4   000045E0           SUB      R0,R5,R0
   \   000000D8   028040E2           SUB      R8,R0,#+2
    439                DrawRectangle(0,h1,w1,scr_h,0,
    440                  GetPaletteAdrByColorIndex(1),
    441                  GetPaletteAdrByColorIndex(0));
   \   000000DC   0000A0E3           MOV      R0,#+0
   \   000000E0   2E0100EF           SWI      +302
   \   000000E4   0090A0E1           MOV      R9,R0
   \   000000E8   0100A0E3           MOV      R0,#+1
   \   000000EC   2E0100EF           SWI      +302
   \   000000F0   00022DE9           PUSH     {R9}
   \   000000F4   01002DE9           PUSH     {R0}
   \   000000F8   0630A0E1           MOV      R3,R6
   \   000000FC   0820A0E1           MOV      R2,R8
   \   00000100   0710A0E1           MOV      R1,R7
   \   00000104   0000A0E3           MOV      R0,#+0
   \   00000108   01002DE9           PUSH     {R0}
    442                DrawRectangle(w1+1,h1,scr_w,scr_h,0,
    443                  GetPaletteAdrByColorIndex(1),
    444                  GetPaletteAdrByColorIndex(0));
   \   0000010C   019088E2           ADD      R9,R8,#+1
   \   00000110   B40100EF           SWI      +436
   \   00000114   0000A0E3           MOV      R0,#+0
   \   00000118   2E0100EF           SWI      +302
   \   0000011C   00B0A0E1           MOV      R11,R0
   \   00000120   0100A0E3           MOV      R0,#+1
   \   00000124   2E0100EF           SWI      +302
   \   00000128   00082DE9           PUSH     {R11}
   \   0000012C   01002DE9           PUSH     {R0}
   \   00000130   0630A0E1           MOV      R3,R6
   \   00000134   0520A0E1           MOV      R2,R5
   \   00000138   0710A0E1           MOV      R1,R7
   \   0000013C   0000A0E3           MOV      R0,#+0
   \   00000140   01002DE9           PUSH     {R0}
   \   00000144   0900A0E1           MOV      R0,R9
   \   00000148   B40100EF           SWI      +436
    445                if ((view_url_mode==MODE_FILE && vd->loaded_sz<vd->page_sz) ||
    446                (view_url_mode==MODE_URL && connect_state==3 && vd->loaded_sz<vd->page_sz))
   \   0000014C   4C019FE5           LDR      R0,??method0_0+0x8  ;; sieget_ipc + 20
   \   00000150   000090E5           LDR      R0,[R0, #+0]
   \   00000154   18D08DE2           ADD      SP,SP,#+24
   \   00000158   000050E3           CMP      R0,#+0
   \   0000015C   0400001A           BNE      ??method0_2
   \   00000160   D8009AE5           LDR      R0,[R10, #+216]
   \   00000164   D4109AE5           LDR      R1,[R10, #+212]
   \   00000168   010050E1           CMP      R0,R1
   \   0000016C   0A0000BA           BLT      ??method0_3
   \   00000170   220000EA           B        ??method0_4
   \                     ??method0_2:
   \   00000174   010050E3           CMP      R0,#+1
   \   00000178   2000001A           BNE      ??method0_4
   \   0000017C   14019FE5           LDR      R0,??method0_0   ;; connect_state
   \   00000180   000090E5           LDR      R0,[R0, #+0]
   \   00000184   030050E3           CMP      R0,#+3
   \   00000188   1C00001A           BNE      ??method0_4
   \   0000018C   D8009AE5           LDR      R0,[R10, #+216]
   \   00000190   D4109AE5           LDR      R1,[R10, #+212]
   \   00000194   010050E1           CMP      R0,R1
   \   00000198   180000AA           BGE      ??method0_4
    447                {
    448                  DrawRectangle(1,h1+1,vd->loaded_sz*(w1-1)/vd->page_sz,scr_h-1,0,
    449                    GetPaletteAdrByColorIndex(2),
    450                    GetPaletteAdrByColorIndex(2));
   \                     ??method0_3:
   \   0000019C   0200A0E3           MOV      R0,#+2
   \   000001A0   2E0100EF           SWI      +302
   \   000001A4   00B0A0E1           MOV      R11,R0
   \   000001A8   0200A0E3           MOV      R0,#+2
   \   000001AC   2E0100EF           SWI      +302
   \   000001B0   00082DE9           PUSH     {R11}
   \   000001B4   01002DE9           PUSH     {R0}
   \   000001B8   011048E2           SUB      R1,R8,#+1
   \   000001BC   013046E2           SUB      R3,R6,#+1
   \   000001C0   0000A0E3           MOV      R0,#+0
   \   000001C4   01002DE9           PUSH     {R0}
   \   000001C8   D8009AE5           LDR      R0,[R10, #+216]
   \   000001CC   910000E0           MUL      R0,R1,R0
   \   000001D0   D4109AE5           LDR      R1,[R10, #+212]
   \   000001D4   ........           _BLF     ??div32_a,??rA??div32_a
   \   000001D8   0120A0E1           MOV      R2,R1
   \   000001DC   011087E2           ADD      R1,R7,#+1
   \   000001E0   0100A0E3           MOV      R0,#+1
   \   000001E4   B40100EF           SWI      +436
    451                  wsprintf(data->ws1,"%uB/%uB",vd->loaded_sz,vd->page_sz);
   \   000001E8   D4309AE5           LDR      R3,[R10, #+212]
   \   000001EC   D8209AE5           LDR      R2,[R10, #+216]
   \   000001F0   AC109FE5           LDR      R1,??method0_0+0xC  ;; `?<Constant "%uB/%uB">`
   \   000001F4   480094E5           LDR      R0,[R4, #+72]
   \   000001F8   240100EF           SWI      +292
   \   000001FC   0CD08DE2           ADD      SP,SP,#+12
    452                }
    453                DrawString(data->ws1,0,h1+2,w1,scr_h,FONT_SMALL,TEXT_ALIGNMIDDLE,
    454                  GetPaletteAdrByColorIndex(1),GetPaletteAdrByColorIndex(23));   
   \                     ??method0_4:
   \   00000200   1700A0E3           MOV      R0,#+23
   \   00000204   2E0100EF           SWI      +302
   \   00000208   00A0A0E1           MOV      R10,R0
   \   0000020C   0100A0E3           MOV      R0,#+1
   \   00000210   2E0100EF           SWI      +302
   \   00000214   00042DE9           PUSH     {R10}
   \   00000218   01002DE9           PUSH     {R0}
   \   0000021C   027087E2           ADD      R7,R7,#+2
   \   00000220   0830A0E1           MOV      R3,R8
   \   00000224   0720A0E1           MOV      R2,R7
   \   00000228   0200A0E3           MOV      R0,#+2
   \   0000022C   01002DE9           PUSH     {R0}
   \   00000230   0010A0E3           MOV      R1,#+0
   \   00000234   0800A0E3           MOV      R0,#+8
   \   00000238   01002DE9           PUSH     {R0}
   \   0000023C   0600A0E1           MOV      R0,R6
   \   00000240   01002DE9           PUSH     {R0}
   \   00000244   480094E5           LDR      R0,[R4, #+72]
   \   00000248   4C0100EF           SWI      +332
    455                DrawString(data->ws2,w1+1,h1+2,scr_w,scr_h,FONT_SMALL,TEXT_ALIGNMIDDLE,
    456                  GetPaletteAdrByColorIndex(1),GetPaletteAdrByColorIndex(23));      
   \   0000024C   1700A0E3           MOV      R0,#+23
   \   00000250   2E0100EF           SWI      +302
   \   00000254   0080A0E1           MOV      R8,R0
   \   00000258   0100A0E3           MOV      R0,#+1
   \   0000025C   2E0100EF           SWI      +302
   \   00000260   00012DE9           PUSH     {R8}
   \   00000264   01002DE9           PUSH     {R0}
   \   00000268   0530A0E1           MOV      R3,R5
   \   0000026C   0720A0E1           MOV      R2,R7
   \   00000270   0910A0E1           MOV      R1,R9
   \   00000274   0200A0E3           MOV      R0,#+2
   \   00000278   01002DE9           PUSH     {R0}
   \   0000027C   0800A0E3           MOV      R0,#+8
   \   00000280   01002DE9           PUSH     {R0}
   \   00000284   40002DE9           PUSH     {R6}
   \   00000288   4C0094E5           LDR      R0,[R4, #+76]
   \   0000028C   4C0100EF           SWI      +332
   \   00000290   28D08DE2           ADD      SP,SP,#+40
    457                
    458          //      DrawString(ws_console,0,0,scr_w,20,
    459          //		    FONT_SMALL,TEXT_NOFORMAT,
    460          //		    GetPaletteAdrByColorIndex(1),GetPaletteAdrByColorIndex(0));
    461              }
    462            }
    463          }
   \   00000294   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??method0_0:
   \   00000298   ........           DC32     connect_state
   \   0000029C   ........           DC32     lgpData + 28
   \   000002A0   ........           DC32     sieget_ipc + 20
   \   000002A4   ........           DC32     `?<Constant "%uB/%uB">`
    464          

   \                                 In segment CODE, align 4, keep-with-next
    465          static void method1(VIEW_GUI *data,void *(*malloc_adr)(int))
    466          {
   \                     method1:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    467            VIEWDATA *vd=malloc(sizeof(VIEWDATA));
   \   0000000C   420FA0E3           MOV      R0,#+264
   \   00000010   140000EF           SWI      +20
   \   00000014   0050A0E1           MOV      R5,R0
    468            zeromem(vd,sizeof(VIEWDATA));
   \   00000018   421FA0E3           MOV      R1,#+264
   \   0000001C   1D0100EF           SWI      +285
    469            vd->ws=AllocWS(256);
   \   00000020   400FA0E3           MOV      R0,#+256
   \   00000024   250100EF           SWI      +293
   \   00000028   240085E5           STR      R0,[R5, #+36]
    470            vd->search_string = AllocWS(256);
   \   0000002C   400FA0E3           MOV      R0,#+256
   \   00000030   250100EF           SWI      +293
   \   00000034   000185E5           STR      R0,[R5, #+256]
    471            CutWSTR(vd->search_string,0);
   \   00000038   0010A0E3           MOV      R1,#+0
   \   0000003C   260100EF           SWI      +294
    472            vd->pos_cur_ref=0xFFFFFFFF; //    
   \   00000040   0000E0E3           MVN      R0,#+0
   \   00000044   280085E5           STR      R0,[R5, #+40]
    473            *((unsigned short *)(&vd->current_tag_d))=0xFFFF;
   \   00000048   2008A0E1           MOV      R0,R0, LSR #+16
   \   0000004C   B006C5E1           STRH     R0,[R5, #+96]
    474            data->vd=vd;
   \   00000050   345084E5           STR      R5,[R4, #+52]
    475            data->ws1=AllocWS(128);
   \   00000054   8000A0E3           MOV      R0,#+128
   \   00000058   250100EF           SWI      +293
   \   0000005C   480084E5           STR      R0,[R4, #+72]
    476            data->ws2=AllocWS(128);
   \   00000060   8000A0E3           MOV      R0,#+128
   \   00000064   250100EF           SWI      +293
   \   00000068   4C0084E5           STR      R0,[R4, #+76]
    477            data->gui.state=1;
   \   0000006C   0100A0E3           MOV      R0,#+1
   \   00000070   0C00C4E5           STRB     R0,[R4, #+12]
    478            STOPPED=0;
   \   00000074   ........           LDR      R0,??DataTable6  ;; sieget_ipc + 16
   \   00000078   0010A0E3           MOV      R1,#+0
   \   0000007C   001080E5           STR      R1,[R0, #+0]
    479            if ((vd->cached=data->cached))
   \   00000080   380094E5           LDR      R0,[R4, #+56]
   \   00000084   24409FE5           LDR      R4,??method1_0   ;; StartGetFile
   \   00000088   040085E5           STR      R0,[R5, #+4]
   \   0000008C   000050E3           CMP      R0,#+0
    480            {
    481              SUBPROC((void *)StartGetFile,0,NULL);
   \   00000090   0020A013           MOVNE    R2,#+0
   \   00000094   0200001A           BNE      ??method1_1
    482            }
    483            else
    484            {
    485              SUBPROC((void *)StartGetFile,1,PushPageToStack());
   \   00000098   ........           _BLF     PushPageToStack,??PushPageToStack??rA
   \   0000009C   0020A0E1           MOV      R2,R0
   \   000000A0   0110A0E3           MOV      R1,#+1
   \                     ??method1_1:
   \   000000A4   0400A0E1           MOV      R0,R4
   \   000000A8   710100EF           SWI      +369
    486            }
    487          }
   \   000000AC   3180BDE8           POP      {R0,R4,R5,PC}    ;; return
   \                     ??method1_0:
   \   000000B0   ........           DC32     StartGetFile
    488          

   \                                 In segment CODE, align 4, keep-with-next
    489          void FreeViewUrl(void)
    490          {
    491            freegstr(&view_url);
   \                     FreeViewUrl:
   \   00000000   00009FE5           LDR      R0,??FreeViewUrl_0  ;; sieget_ipc + 24
   \   00000004   ........           _BF      freegstr,??freegstr??rA  ;; tailcall
   \                     ??FreeViewUrl_0:
   \   00000008   ........           DC32     sieget_ipc + 24
    492          }
    493          

   \                                 In segment CODE, align 4, keep-with-next
    494          static void method2(VIEW_GUI *data,void (*mfree_adr)(void *))
    495          {
   \                     method2:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
    496            STOPPED=1;
   \   00000004   0110A0E3           MOV      R1,#+1
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   ........           LDR      R0,??DataTable6  ;; sieget_ipc + 16
    497            SUBPROC((void*)StopINET);
    498            setPageParams(data->vd->view_line, data->vd->pos_cur_ref);
    499            FreeViewData(data->vd);
    500            data->vd=NULL;
   \   00000010   0050A0E3           MOV      R5,#+0
   \   00000014   001080E5           STR      R1,[R0, #+0]
   \   00000018   ........           LDR      R0,??DataTable13  ;; StopINET
   \   0000001C   710100EF           SWI      +369
   \   00000020   340094E5           LDR      R0,[R4, #+52]
   \   00000024   281090E5           LDR      R1,[R0, #+40]
   \   00000028   1C0090E5           LDR      R0,[R0, #+28]
   \   0000002C   ........           _BLF     setPageParams,??setPageParams??rA
   \   00000030   340094E5           LDR      R0,[R4, #+52]
   \   00000034   ........           _BLF     FreeViewData,??FreeViewData??rA
   \   00000038   345084E5           STR      R5,[R4, #+52]
    501            FreeWS(data->ws1);
   \   0000003C   480094E5           LDR      R0,[R4, #+72]
   \   00000040   290100EF           SWI      +297
    502            FreeWS(data->ws2);
   \   00000044   4C0094E5           LDR      R0,[R4, #+76]
   \   00000048   290100EF           SWI      +297
    503            data->gui.state=0;
   \   0000004C   0C50C4E5           STRB     R5,[R4, #+12]
    504            FreeViewUrl();
   \   00000050   3040BDE8           POP      {R4,R5,LR}       ;; Pop
   \   00000054   ........           B        FreeViewUrl      ;; tailcall
    505          }
    506          

   \                                 In segment CODE, align 4, keep-with-next
    507          static void method3(VIEW_GUI *data,void *(*malloc_adr)(int),void (*mfree_adr)(void *))
    508          {
   \                     method3:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    509          #ifdef ELKA
    510            DisableIconBar(1);
   \   00000008   0100A0E3           MOV      R0,#+1
   \   0000000C   3B0200EF           SWI      +571
    511          #endif
    512            SetCpuClockHi(2);
   \   00000010   0200A0E3           MOV      R0,#+2
   \   00000014   220200EF           SWI      +546
    513            PNGTOP_DESC *pltop=PNG_TOP();
   \   00000018   B98100EF           SWI      +33209
    514            pltop->dyn_pltop=&data->vd->dynpng_list->dp;
   \   0000001C   341094E5           LDR      R1,[R4, #+52]
   \   00000020   781091E5           LDR      R1,[R1, #+120]
   \   00000024   081080E5           STR      R1,[R0, #+8]
    515            ENABLE_REDRAW=1;
   \   00000028   ........           LDR      R0,??DataTable9  ;; ENABLE_REDRAW
   \   0000002C   0110A0E3           MOV      R1,#+1
   \   00000030   001080E5           STR      R1,[R0, #+0]
    516            DisableIDLETMR();
   \   00000034   7F0100EF           SWI      +383
    517            data->gui.state=2;
   \   00000038   0200A0E3           MOV      R0,#+2
   \   0000003C   0C00C4E5           STRB     R0,[R4, #+12]
    518          }
   \   00000040   1080BDE8           POP      {R4,PC}          ;; return
    519          

   \                                 In segment CODE, align 4, keep-with-next
    520          static void method4(VIEW_GUI *data,void (*mfree_adr)(void *))
    521          {
   \                     method4:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    522          #ifdef ELKA
    523            DisableIconBar(0);
   \   00000008   0000A0E3           MOV      R0,#+0
   \   0000000C   3B0200EF           SWI      +571
    524          #endif
    525            SetCpuClockLow(2);
   \   00000010   0200A0E3           MOV      R0,#+2
   \   00000014   210200EF           SWI      +545
    526            PNGTOP_DESC *pltop=PNG_TOP();
   \   00000018   B98100EF           SWI      +33209
    527            pltop->dyn_pltop=NULL;
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   081080E5           STR      R1,[R0, #+8]
    528            ENABLE_REDRAW=0;
   \   00000024   ........           LDR      R0,??DataTable9  ;; ENABLE_REDRAW
   \   00000028   001080E5           STR      R1,[R0, #+0]
    529            if (data->gui.state!=2)
   \   0000002C   0C00D4E5           LDRB     R0,[R4, #+12]
   \   00000030   020050E3           CMP      R0,#+2
    530              return;
    531            data->gui.state=1;
   \   00000034   0100A003           MOVEQ    R0,#+1
   \   00000038   0C00C405           STRBEQ   R0,[R4, #+12]
    532          }
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return
    533          

   \                                 In segment CODE, align 4, keep-with-next
    534          static void RunOtherCopyByURL(const char *url, int isNativeBrowser)
    535          {
   \                     RunOtherCopyByURL:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    536            int f;
    537            unsigned int err;
    538            WSHDR *ws;
    539            char * filename = getSymbolicPath("$urlcache\\$date$time.url");
   \   00000008   B8009FE5           LDR      R0,??RunOtherCopyByURL_0  ;; `?<Constant "$urlcache\\\\$date$time.url">`
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   0150A0E1           MOV      R5,R1
   \   00000014   ........           _BLF     getSymbolicPath,??getSymbolicPath??rA
   \   00000018   0060A0E1           MOV      R6,R0
    540            f=fopen(filename,A_Create+A_Truncate+A_BIN+A_ReadWrite,P_READ+P_WRITE,&err);
   \   0000001C   0D30A0E1           MOV      R3,SP
   \   00000020   602FA0E3           MOV      R2,#+384
   \   00000024   0210A0E3           MOV      R1,#+2
   \   00000028   831C81E3           ORR      R1,R1,#0x8300
   \   0000002C   0A0000EF           SWI      +10
   \   00000030   0070A0E1           MOV      R7,R0
    541            if (f!=-1)
   \   00000034   010077E3           CMN      R7,#+1
   \   00000038   1F00000A           BEQ      ??RunOtherCopyByURL_1
    542            {
    543              fwrite(f,url,strlen(url),&err);
   \   0000003C   0400A0E1           MOV      R0,R4
   \   00000040   1B0000EF           SWI      +27
   \   00000044   0D30A0E1           MOV      R3,SP
   \   00000048   0020A0E1           MOV      R2,R0
   \   0000004C   0410A0E1           MOV      R1,R4
   \   00000050   0700A0E1           MOV      R0,R7
   \   00000054   0C0000EF           SWI      +12
    544              fclose(f,&err);
   \   00000058   0D10A0E1           MOV      R1,SP
   \   0000005C   0700A0E1           MOV      R0,R7
   \   00000060   0D0000EF           SWI      +13
    545              ws=AllocWS(512);
   \   00000064   800FA0E3           MOV      R0,#+512
   \   00000068   250100EF           SWI      +293
   \   0000006C   0040A0E1           MOV      R4,R0
    546              if (isNativeBrowser)
   \   00000070   FF20A0E3           MOV      R2,#+255
   \   00000074   402F82E3           ORR      R2,R2,#0x100
   \   00000078   000055E3           CMP      R5,#+0
   \   0000007C   0300000A           BEQ      ??RunOtherCopyByURL_2
    547              {
    548                str_2ws(ws,filename,511);
   \   00000080   0610A0E1           MOV      R1,R6
   \   00000084   6C0100EF           SWI      +364
    549                ExecuteFile(ws,NULL,NULL);
   \   00000088   0020A0E3           MOV      R2,#+0
   \   0000008C   020000EA           B        ??RunOtherCopyByURL_3
    550              }
    551              else
    552              {
    553                str_2ws(ws,BALLET_EXE,511);
   \                     ??RunOtherCopyByURL_2:
   \   00000090   34109FE5           LDR      R1,??RunOtherCopyByURL_0+0x4  ;; sieget_ipc + 304
   \   00000094   6C0100EF           SWI      +364
    554                ExecuteFile(ws,NULL,filename);
   \   00000098   0620A0E1           MOV      R2,R6
   \                     ??RunOtherCopyByURL_3:
   \   0000009C   0010A0E3           MOV      R1,#+0
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   940000EF           SWI      +148
    555              } 
    556              FreeWS(ws);
   \   000000A8   0400A0E1           MOV      R0,R4
   \   000000AC   290100EF           SWI      +297
    557              unlink(filename,&err);
   \   000000B0   0D10A0E1           MOV      R1,SP
   \   000000B4   0600A0E1           MOV      R0,R6
   \   000000B8   6B0100EF           SWI      +363
    558            }
    559            mfree(filename);
   \                     ??RunOtherCopyByURL_1:
   \   000000BC   0600A0E1           MOV      R0,R6
   \   000000C0   150000EF           SWI      +21
    560          }
   \   000000C4   F180BDE8           POP      {R0,R4-R7,PC}    ;; return
   \                     ??RunOtherCopyByURL_0:
   \   000000C8   ........           DC32     `?<Constant "$urlcache\\\\$date$time.url">`
   \   000000CC   ........           DC32     sieget_ipc + 304
    561          

   \                                 In segment CODE, align 4, keep-with-next
    562          GoToLocalLinkPos(VIEWDATA* vd, char* anchor)
    563          {
   \                     GoToLocalLinkPos:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0160A0E1           MOV      R6,R1
    564            int j = 0;
   \   0000000C   0070A0E3           MOV      R7,#+0
    565            REFCACHE* rf_taga;
    566            int found = 0;
   \   00000010   0050A0E3           MOV      R5,#+0
   \   00000014   0E0000EA           B        ??GoToLocalLinkPos_0
    567            while((j<vd->ref_cache_size) && (!found))
    568            {
    569              rf_taga = vd->ref_cache+j;
   \                     ??GoToLocalLinkPos_1:
   \   00000018   CC1094E5           LDR      R1,[R4, #+204]
   \   0000001C   2800A0E3           MOV      R0,#+40
   \   00000020   901728E0           MLA      R8,R0,R7,R1
    570              if (rf_taga->tag == 'A')
   \   00000024   080098E5           LDR      R0,[R8, #+8]
   \   00000028   410050E3           CMP      R0,#+65
   \   0000002C   0700001A           BNE      ??GoToLocalLinkPos_2
    571              {
    572                if (!strncmp(anchor, vd->oms+rf_taga->value, rf_taga->size))
   \   00000030   100098E5           LDR      R0,[R8, #+16]
   \   00000034   3C1094E5           LDR      R1,[R4, #+60]
   \   00000038   1C2098E5           LDR      R2,[R8, #+28]
   \   0000003C   011080E0           ADD      R1,R0,R1
   \   00000040   0600A0E1           MOV      R0,R6
   \   00000044   150100EF           SWI      +277
   \   00000048   000050E3           CMP      R0,#+0
    573                {
    574                  found = 1;
   \   0000004C   0150A003           MOVEQ    R5,#+1
    575                }
    576              }
    577              j++;
   \                     ??GoToLocalLinkPos_2:
   \   00000050   017087E2           ADD      R7,R7,#+1
    578            }
   \                     ??GoToLocalLinkPos_0:
   \   00000054   D00094E5           LDR      R0,[R4, #+208]
   \   00000058   000057E1           CMP      R7,R0
   \   0000005C   010000AA           BGE      ??GoToLocalLinkPos_3
   \   00000060   000055E3           CMP      R5,#+0
   \   00000064   EBFFFF0A           BEQ      ??GoToLocalLinkPos_1
    579            if (found)
   \                     ??GoToLocalLinkPos_3:
   \   00000068   000055E3           CMP      R5,#+0
   \   0000006C   F081BD08           POPEQ    {R4-R8,PC}
    580            {
    581              found = 0;
   \   00000070   0050A0E3           MOV      R5,#+0
    582              int anchor_line = 0;
   \   00000074   0000A0E3           MOV      R0,#+0
    583              while ((anchor_line <= vd->view_line) && (!found))
   \                     ??GoToLocalLinkPos_4:
   \   00000078   1C1094E5           LDR      R1,[R4, #+28]
   \   0000007C   000051E1           CMP      R1,R0
   \   00000080   0900003A           BCC      ??GoToLocalLinkPos_5
   \   00000084   000055E3           CMP      R5,#+0
   \   00000088   0700001A           BNE      ??GoToLocalLinkPos_5
    584              {
    585                if ((vd->lines_cache[anchor_line]).pos >= rf_taga->id2)
   \   0000008C   101094E5           LDR      R1,[R4, #+16]
   \   00000090   142098E5           LDR      R2,[R8, #+20]
   \   00000094   001291E7           LDR      R1,[R1, +R0, LSL #+4]
   \   00000098   020051E1           CMP      R1,R2
   \   0000009C   1C008425           STRCS    R0,[R4, #+28]
   \   000000A0   0150A023           MOVCS    R5,#+1
    586                {
    587                  vd->view_line = anchor_line;
    588                  found = 1;
    589                }
    590                else
    591                  anchor_line++;
   \   000000A4   01008032           ADDCC    R0,R0,#+1
   \   000000A8   F2FFFFEA           B        ??GoToLocalLinkPos_4
    592              }
    593              if ((!found) && LineDown(vd))
   \                     ??GoToLocalLinkPos_5:
   \   000000AC   000055E3           CMP      R5,#+0
   \   000000B0   F081BD18           POPNE    {R4-R8,PC}
   \   000000B4   0400A0E1           MOV      R0,R4
   \   000000B8   ........           _BLF     LineDown,??LineDown??rA
   \   000000BC   000050E3           CMP      R0,#+0
   \   000000C0   F081BD08           POPEQ    {R4-R8,PC}
    594              {
    595                while (((vd->lines_cache[vd->view_line]).pos < rf_taga->id2) && (LineDown(vd)));
   \                     ??GoToLocalLinkPos_6:
   \   000000C4   1C0094E5           LDR      R0,[R4, #+28]
   \   000000C8   101094E5           LDR      R1,[R4, #+16]
   \   000000CC   000291E7           LDR      R0,[R1, +R0, LSL #+4]
   \   000000D0   141098E5           LDR      R1,[R8, #+20]
   \   000000D4   010050E1           CMP      R0,R1
   \   000000D8   0300002A           BCS      ??GoToLocalLinkPos_7
   \   000000DC   0400A0E1           MOV      R0,R4
   \   000000E0   ........           _BLF     LineDown,??LineDown??rA
   \   000000E4   000050E3           CMP      R0,#+0
   \   000000E8   F5FFFF1A           BNE      ??GoToLocalLinkPos_6
    596                if ((vd->lines_cache[vd->view_line]).pos >= rf_taga->id2)
   \                     ??GoToLocalLinkPos_7:
   \   000000EC   1C0094E5           LDR      R0,[R4, #+28]
   \   000000F0   101094E5           LDR      R1,[R4, #+16]
   \   000000F4   000291E7           LDR      R0,[R1, +R0, LSL #+4]
   \   000000F8   141098E5           LDR      R1,[R8, #+20]
   \   000000FC   010050E1           CMP      R0,R1
   \   00000100   0100003A           BCC      ??GoToLocalLinkPos_8
    597                  LineUp(vd);
   \   00000104   0400A0E1           MOV      R0,R4
   \   00000108   ........           _BLF     LineUp,??LineUp??rA
    598                LineUp(vd);
   \                     ??GoToLocalLinkPos_8:
   \   0000010C   0400A0E1           MOV      R0,R4
   \   00000110   ........           _BLF     LineUp,??LineUp??rA
    599              }
    600            }
    601          }
   \   00000114   F081BDE8           POP      {R4-R8,PC}       ;; return
    602          

   \                                 In segment CODE, align 4, keep-with-next
    603          static int method5(VIEW_GUI *data,GUI_MSG *msg)
    604          {
   \                     method5:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   84D04DE2           SUB      SP,SP,#+132
    605            VIEWDATA *vd=data->vd;
   \   00000008   344090E5           LDR      R4,[R0, #+52]
   \   0000000C   01A0A0E1           MOV      R10,R1
    606            REFCACHE *rf;
    607            int m=msg->gbsmsg->msg;
   \   00000010   04009AE5           LDR      R0,[R10, #+4]
    608            if ((m==KEY_DOWN)||(m==LONG_PRESS))
   \   00000014   9320A0E3           MOV      R2,#+147
   \   00000018   041090E5           LDR      R1,[R0, #+4]
   \   0000001C   402F82E3           ORR      R2,R2,#0x100
   \   00000020   020051E1           CMP      R1,R2
   \   00000024   02208212           ADDNE    R2,R2,#+2
   \   00000028   02005111           CMPNE    R1,R2
   \   0000002C   3A02001A           BNE      ??method5_3
    609            {
    610              switch(msg->gbsmsg->submess)
   \   00000030   080090E5           LDR      R0,[R0, #+8]
   \   00000034   281094E5           LDR      R1,[R4, #+40]
   \   00000038   ........           LDR      R5,??DataTable21  ;; `?<Constant "0/javascript">`
   \   0000003C   ........           LDR      R6,??DataTable14  ;; sieget_ipc
   \   00000040   0120A0E3           MOV      R2,#+1
   \   00000044   0070A0E3           MOV      R7,#+0
   \   00000048   008062E2           RSB      R8,R2,#+0
   \   0000004C   010040E2           SUB      R0,R0,#+1
   \   00000050   3D0050E3           CMP      R0,#+61
   \   00000054   3002008A           BHI      ??method5_3
   \   00000058   023F8FE2           ADR      R3,??method5_0
   \   0000005C   8000A0E1           MOV      R0,R0, LSL #+1
   \   00000060   B03093E1           LDRH     R3,[R3, R0]
   \   00000064   03F18FE0           ADD      PC,PC,R3, LSL #+2
   \                     ??method5_0:
   \   00000068   31012C022C02       DC16     +305,+556,+556,+309
   \              3501        
   \   00000070   2C022C022C02       DC16     +556,+556,+556,+556
   \              2C02        
   \   00000078   2C022C02B401       DC16     +556,+556,+436,+556
   \              2C02        
   \   00000080   2A0120012C02       DC16     +298,+288,+556,+556
   \              2C02        
   \   00000088   2C022C022C02       DC16     +556,+556,+556,+556
   \              2C02        
   \   00000090   2C022C022C02       DC16     +556,+556,+556,+556
   \              2C02        
   \   00000098   2C021E002C02       DC16     +556,+30,+556,+556
   \              2C02        
   \   000000A0   2C022C022C02       DC16     +556,+556,+556,+556
   \              2C02        
   \   000000A8   2C022C024101       DC16     +556,+556,+321,+556
   \              2C02        
   \   000000B0   2C022C022C02       DC16     +556,+556,+556,+556
   \              2C02        
   \   000000B8   2C022C022C02       DC16     +556,+556,+556,+556
   \              2C02        
   \   000000C0   2C022C022C02       DC16     +556,+556,+556,+487
   \              E701        
   \   000000C8   8301B401D501       DC16     +387,+436,+469,+351
   \              5F01        
   \   000000D0   E0015A012C02       DC16     +480,+346,+556,+556
   \              2C02        
   \   000000D8   D8012C02F500       DC16     +472,+556,+245,+265
   \              0901        
   \   000000E0   25011A01           DC16     +293,+282
    611              {
    612              case ENTER_BUTTON:
    613                if (vd->pos_cur_ref==0xFFFFFFFF) break;
   \                     ??method5_4:
   \   000000E4   080051E1           CMP      R1,R8
   \   000000E8   0B02000A           BEQ      ??method5_3
    614                rf=FindReference(vd,vd->pos_cur_ref);
    615                if (rf)
   \   000000EC   ........           LDR      R10,??DataTable12  ;; lgpData
   \   000000F0   0400A0E1           MOV      R0,R4
   \   000000F4   ........           _BLF     FindReference,??FindReference??rA
   \   000000F8   0090B0E1           MOVS     R9,R0
   \   000000FC   CD00000A           BEQ      ??method5_5
   \   00000100   000099E5           LDR      R0,[R9, #+0]
   \   00000104   081094E5           LDR      R1,[R4, #+8]
   \   00000108   083099E5           LDR      R3,[R9, #+8]
   \   0000010C   1C2096E5           LDR      R2,[R6, #+28]
   \   00000110   80C081E0           ADD      R12,R1,R0, LSL #+1
   \   00000114   0C1099E5           LDR      R1,[R9, #+12]
   \   00000118   2C0096E5           LDR      R0,[R6, #+44]
   \   0000011C   40B043E2           SUB      R11,R3,#+64
   \   00000120   38005BE3           CMP      R11,#+56
   \   00000124   BB00008A           BHI      ??method5_6
   \   00000128   01EF8FE2           ADR      LR,??method5_1
   \   0000012C   0BE0DEE7           LDRB     LR,[LR, R11]
   \   00000130   0EF18FE0           ADD      PC,PC,LR, LSL #+2
   \                     ??method5_1:
   \   00000134   56B8B8B8           DC8      +86,+184,+184,+184
   \   00000138   B8B8B8B8           DC8      +184,+184,+184,+184
   \   0000013C   B8B8B8B8           DC8      +184,+184,+184,+184
   \   00000140   2CB8B8B8           DC8      +44,+184,+184,+184
   \   00000144   B8B8B8B8           DC8      +184,+184,+184,+184
   \   00000148   B8B8B8B8           DC8      +184,+184,+184,+184
   \   0000014C   B8B80EB8           DC8      +184,+184,+14,+184
   \   00000150   B8B856B8           DC8      +184,+184,+86,+184
   \   00000154   B8B8B883           DC8      +184,+184,+184,+131
   \   00000158   B8B8B8B8           DC8      +184,+184,+184,+184
   \   0000015C   B8ADB8B8           DC8      +184,+173,+184,+184
   \   00000160   B8B8B8B8           DC8      +184,+184,+184,+184
   \   00000164   A5B860B1           DC8      +165,+184,+96,+177
   \   00000168   B8ADB8B8           DC8      +184,+173,+184,+184
   \   0000016C   A5000000           DC8      +165,+0,+0,+0
    616                {
    617                  switch(rf->tag)
    618                  {
    619                  case 'Z':
    620                    if (rf->id!=_NOREF)
   \                     ??method5_7:
   \   00000170   080051E1           CMP      R1,R8
   \   00000174   E801000A           BEQ      ??method5_3
    621                    {
    622                      char *c=extract_omstr(vd,rf->id);
   \   00000178   0400A0E1           MOV      R0,R4
   \   0000017C   ........           _BLF     extract_omstr,??extract_omstr??rA
    623                      unsigned int l=_rshort2(vd->oms+rf->id);
   \   00000180   3C1094E5           LDR      R1,[R4, #+60]
   \   00000184   0050A0E1           MOV      R5,R0
   \   00000188   0C0099E5           LDR      R0,[R9, #+12]
   \   0000018C   010080E0           ADD      R0,R0,R1
   \   00000190   ........           _BLF     _rshort2,??_rshort2??rA
   \   00000194   0040A0E1           MOV      R4,R0
    624                      _safe_free(goto_url);
   \   00000198   1C0096E5           LDR      R0,[R6, #+28]
   \   0000019C   000050E3           CMP      R0,#+0
   \   000001A0   0000000A           BEQ      ??method5_8
   \   000001A4   150000EF           SWI      +21
   \                     ??method5_8:
   \   000001A8   1C7086E5           STR      R7,[R6, #+28]
    625                      goto_url=malloc(l-strlen(c)+1);
   \   000001AC   0500A0E1           MOV      R0,R5
   \   000001B0   1B0000EF           SWI      +27
   \   000001B4   000044E0           SUB      R0,R4,R0
   \   000001B8   010080E2           ADD      R0,R0,#+1
   \   000001BC   140000EF           SWI      +20
   \   000001C0   1C0086E5           STR      R0,[R6, #+28]
    626                      strcpy(goto_url,c+strlen(c)+1);
   \   000001C4   0500A0E1           MOV      R0,R5
   \   000001C8   1B0000EF           SWI      +27
   \   000001CC   050080E0           ADD      R0,R0,R5
   \   000001D0   011080E2           ADD      R1,R0,#+1
   \   000001D4   1C0096E5           LDR      R0,[R6, #+28]
   \   000001D8   1A0000EF           SWI      +26
    627                      mfree(c);
   \   000001DC   0500A0E1           MOV      R0,R5
   \   000001E0   150000EF           SWI      +21
    628                      return 0xFF;
   \                     ??method5_9:
   \   000001E4   750000EA           B        ??method5_10
    629                    }
    630                    break;
    631                  case 'L':
    632                    if (rf->id!=_NOREF)
   \                     ??method5_11:
   \   000001E8   080051E1           CMP      R1,R8
   \   000001EC   CA01000A           BEQ      ??method5_3
    633                    {
    634                      // 1/http:           
    635                      // 0/http:         
    636                      _safe_free(goto_url);
   \   000001F0   000052E3           CMP      R2,#+0
   \   000001F4   0100000A           BEQ      ??method5_12
   \   000001F8   0200A0E1           MOV      R0,R2
   \   000001FC   150000EF           SWI      +21
   \                     ??method5_12:
   \   00000200   1C7086E5           STR      R7,[R6, #+28]
    637                      goto_url=extract_omstr(vd,rf->id);
   \   00000204   0C1099E5           LDR      R1,[R9, #+12]
   \   00000208   0400A0E1           MOV      R0,R4
   \   0000020C   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000210   1C0086E5           STR      R0,[R6, #+28]
    638                      
    639                      // 0/op:fileselect select file for upload
    640                      if (!strcmp("0/op:fileselect",goto_url))
   \   00000214   0010A0E1           MOV      R1,R0
   \   00000218   100085E2           ADD      R0,R5,#+16
   \   0000021C   190000EF           SWI      +25
   \   00000220   000050E3           CMP      R0,#+0
   \   00000224   0B00001A           BNE      ??method5_13
    641                      {
    642                        MAIN_CSM *main_csm;
    643                        int bookmark_menu_id;
    644                        if ((main_csm=(MAIN_CSM *)FindCSMbyID(maincsm_id)))
   \   00000228   2C0096E5           LDR      R0,[R6, #+44]
   \   0000022C   080100EF           SWI      +264
   \   00000230   0070B0E1           MOVS     R7,R0
   \   00000234   0700000A           BEQ      ??method5_13
    645                        {
    646                          REFCACHE *prev_ref=FindReference(vd,vd->pos_prev_ref);
   \   00000238   341094E5           LDR      R1,[R4, #+52]
   \   0000023C   0400A0E1           MOV      R0,R4
   \   00000240   ........           _BLF     FindReference,??FindReference??rA
    647                          bookmark_menu_id=open_fm(PrepareFileForUpload, prev_ref);
    648                          main_csm->sel_bmk=bookmark_menu_id;
   \   00000244   0010A0E1           MOV      R1,R0
   \   00000248   DC069FE5           LDR      R0,??method5_14  ;; PrepareFileForUpload
   \   0000024C   ........           _BLF     open_fm,??open_fm??rA
   \   00000250   300087E5           STR      R0,[R7, #+48]
    649                          break;
   \   00000254   B00100EA           B        ??method5_3
    650                        }
    651                      }
    652                      
    653                      if (goto_url[0] == '#') //local link
   \                     ??method5_13:
   \   00000258   1C1096E5           LDR      R1,[R6, #+28]
   \   0000025C   0000D1E5           LDRB     R0,[R1, #+0]
   \   00000260   230050E3           CMP      R0,#+35
   \   00000264   0300001A           BNE      ??method5_15
    654                      {
    655                        GoToLocalLinkPos(vd, goto_url+1);
   \   00000268   011081E2           ADD      R1,R1,#+1
   \   0000026C   0400A0E1           MOV      R0,R4
   \   00000270   ........           BL       GoToLocalLinkPos
    656                        break;
   \   00000274   A80100EA           B        ??method5_3
    657                      }
    658                      
    659                      // 0/javascript:  upload data
    660                      if (!strncmp("0/javascript",goto_url,12))
   \                     ??method5_15:
   \   00000278   0C20A0E3           MOV      R2,#+12
   \   0000027C   0500A0E1           MOV      R0,R5
   \   00000280   150100EF           SWI      +277
   \   00000284   000050E3           CMP      R0,#+0
   \   00000288   4C00001A           BNE      ??method5_10
    661                      {
    662                        from_url=malloc(strlen(vd->pageurl)+1);
   \   0000028C   400000EA           B        ??method5_16
    663                        strcpy(from_url,vd->pageurl);
    664                        goto_params=collectItemsParams(vd,rf);
    665                      }
    666                      return 0xFF;
    667                    }
    668                    break;
    669                  case '@':
    670                    if (rf->id!=_NOREF)
   \                     ??method5_17:
   \   00000290   080051E1           CMP      R1,R8
   \   00000294   A001000A           BEQ      ??method5_3
    671                    {
    672                      char *s=extract_omstr(vd,rf->id);
   \   00000298   0400A0E1           MOV      R0,R4
   \   0000029C   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   000002A0   0040A0E1           MOV      R4,R0
    673                      RunOtherCopyByURL(s,1);
   \   000002A4   0110A0E3           MOV      R1,#+1
   \   000002A8   ........           BL       RunOtherCopyByURL
    674                      mfree(s);
   \                     ??method5_18:
   \   000002AC   0400A0E1           MOV      R0,R4
   \                     ??method5_19:
   \   000002B0   150000EF           SWI      +21
   \   000002B4   980100EA           B        ??method5_3
    675                    }
    676                    break;
    677                  case '^':
    678                    if (rf->id!=_NOREF)
    679                    {
    680                      char *s=extract_omstr(vd,rf->id);
    681                      RunOtherCopyByURL(s,1);
    682                      mfree(s);
    683                    }
    684                    break;
    685                  case 'r':
    686                    {
    687                      REFCACHE *rfp;
    688                      int i;
    689                      if (vd->rawtext[rf->begin+1]!=vd->WCHAR_RADIO_OFF) break;
   \                     ??method5_20:
   \   000002B8   B200DCE1           LDRH     R0,[R12, #+2]
   \   000002BC   F01094E5           LDR      R1,[R4, #+240]
   \   000002C0   010050E1           CMP      R0,R1
   \   000002C4   9401001A           BNE      ??method5_3
    690                      vd->rawtext[rf->begin+1]=vd->WCHAR_RADIO_ON;
   \   000002C8   F40094E5           LDR      R0,[R4, #+244]
    691                      i=0;
   \   000002CC   0020A0E3           MOV      R2,#+0
   \   000002D0   B200CCE1           STRH     R0,[R12, #+2]
   \   000002D4   0D0000EA           B        ??method5_21
    692                      while((i=FindReferenceById(vd,rf->id,i))>=0)
    693                      {
    694                        rfp=vd->ref_cache+i;
   \                     ??method5_22:
   \   000002D8   CC1094E5           LDR      R1,[R4, #+204]
   \   000002DC   2820A0E3           MOV      R2,#+40
   \   000002E0   921021E0           MLA      R1,R2,R0,R1
    695                        if (rfp!=rf)
   \   000002E4   090051E1           CMP      R1,R9
   \   000002E8   0700000A           BEQ      ??method5_23
   \   000002EC   001091E5           LDR      R1,[R1, #+0]
   \   000002F0   082094E5           LDR      R2,[R4, #+8]
   \   000002F4   F43094E5           LDR      R3,[R4, #+244]
   \   000002F8   811082E0           ADD      R1,R2,R1, LSL #+1
   \   000002FC   B220D1E1           LDRH     R2,[R1, #+2]
   \   00000300   030052E1           CMP      R2,R3
    696                          if (vd->rawtext[rfp->begin+1]==vd->WCHAR_RADIO_ON)
    697                            vd->rawtext[rfp->begin+1]=vd->WCHAR_RADIO_OFF;
   \   00000304   F0209405           LDREQ    R2,[R4, #+240]
   \   00000308   B220C101           STRHEQ   R2,[R1, #+2]
    698                        i++;
   \                     ??method5_23:
   \   0000030C   012080E2           ADD      R2,R0,#+1
    699                      }
   \                     ??method5_21:
   \   00000310   0C1099E5           LDR      R1,[R9, #+12]
   \   00000314   0400A0E1           MOV      R0,R4
   \   00000318   ........           _BLF     FindReferenceById,??FindReferenceById??rA
   \   0000031C   000050E3           CMP      R0,#+0
   \   00000320   ECFFFF5A           BPL      ??method5_22
    700                    }
    701                    if (!rf->no_upload)
   \   00000324   2000D9E5           LDRB     R0,[R9, #+32]
   \   00000328   010010E3           TST      R0,#0x1
   \   0000032C   7A01001A           BNE      ??method5_3
    702                    {
    703                      _safe_free(goto_url);
   \   00000330   1C0096E5           LDR      R0,[R6, #+28]
   \   00000334   000050E3           CMP      R0,#+0
   \   00000338   0D00000A           BEQ      ??method5_24
   \                     ??method5_25:
   \   0000033C   150000EF           SWI      +21
   \                     ??method5_26:
   \   00000340   0B0000EA           B        ??method5_24
    704                      goto_url=malloc(strlen(vd->pageurl)+1);
    705                      strcpy(goto_url,vd->pageurl);
    706                      from_url=malloc(strlen(vd->pageurl)+1);
    707                      strcpy(from_url,vd->pageurl);
    708                      goto_params=collectItemsParams(vd,rf);
    709                      return 0xFF;
    710                    }
    711                    break;
    712                  case 'c':
    713                    if (vd->rawtext[rf->begin+1]==vd->WCHAR_BUTTON_ON)
   \                     ??method5_27:
   \   00000344   B210DCE1           LDRH     R1,[R12, #+2]
   \   00000348   EC0094E5           LDR      R0,[R4, #+236]
   \   0000034C   000051E1           CMP      R1,R0
    714                      vd->rawtext[rf->begin+1]=vd->WCHAR_BUTTON_OFF;
   \   00000350   E8009405           LDREQ    R0,[R4, #+232]
    715                    else
    716                      vd->rawtext[rf->begin+1]=vd->WCHAR_BUTTON_ON;
   \   00000354   B200CCE1           STRH     R0,[R12, #+2]
    717                    if (!rf->no_upload)
   \   00000358   2000D9E5           LDRB     R0,[R9, #+32]
   \   0000035C   010010E3           TST      R0,#0x1
   \   00000360   6D01001A           BNE      ??method5_3
    718                    {
    719                      _safe_free(goto_url);
   \   00000364   1C0096E5           LDR      R0,[R6, #+28]
   \   00000368   000050E3           CMP      R0,#+0
   \   0000036C   0000000A           BEQ      ??method5_24
   \   00000370   150000EF           SWI      +21
   \                     ??method5_24:
   \   00000374   1C7086E5           STR      R7,[R6, #+28]
    720                      goto_url=malloc(strlen(vd->pageurl)+1);
   \   00000378   E00094E5           LDR      R0,[R4, #+224]
   \   0000037C   1B0000EF           SWI      +27
   \   00000380   010080E2           ADD      R0,R0,#+1
   \   00000384   140000EF           SWI      +20
   \   00000388   1C0086E5           STR      R0,[R6, #+28]
    721                      strcpy(goto_url,vd->pageurl);
   \   0000038C   E01094E5           LDR      R1,[R4, #+224]
   \   00000390   1A0000EF           SWI      +26
    722                      from_url=malloc(strlen(vd->pageurl)+1);
   \                     ??method5_16:
   \   00000394   E00094E5           LDR      R0,[R4, #+224]
   \   00000398   1B0000EF           SWI      +27
   \   0000039C   010080E2           ADD      R0,R0,#+1
   \   000003A0   140000EF           SWI      +20
   \   000003A4   200086E5           STR      R0,[R6, #+32]
    723                      strcpy(from_url,vd->pageurl);
   \   000003A8   E01094E5           LDR      R1,[R4, #+224]
   \   000003AC   1A0000EF           SWI      +26
    724                      goto_params=collectItemsParams(vd,rf);
   \   000003B0   0910A0E1           MOV      R1,R9
   \   000003B4   0400A0E1           MOV      R0,R4
   \   000003B8   ........           BL       collectItemsParams
   \   000003BC   240086E5           STR      R0,[R6, #+36]
    725                      return 0xFF;
   \                     ??method5_10:
   \   000003C0   FF00A0E3           MOV      R0,#+255
   \                     ??method5_28:
   \   000003C4   84D08DE2           ADD      SP,SP,#+132
   \   000003C8   F08FBDE8           POP      {R4-R11,PC}
    726                    }
    727                    break;
    728                  case 'x':
    729                  case 'p':
    730                    {
    731                      MAIN_CSM *main_csm;
    732                      int bookmark_menu_id;
    733                      if ((main_csm=(MAIN_CSM *)FindCSMbyID(maincsm_id)))
   \                     ??method5_29:
   \   000003CC   080100EF           SWI      +264
   \   000003D0   0050B0E1           MOVS     R5,R0
   \   000003D4   5001000A           BEQ      ??method5_3
    734                      {
    735                        bookmark_menu_id=CreateInputBox(vd,rf);
    736                        main_csm->sel_bmk=bookmark_menu_id;
   \   000003D8   0910A0E1           MOV      R1,R9
   \   000003DC   0400A0E1           MOV      R0,R4
   \   000003E0   ........           _BLF     CreateInputBox,??CreateInputBox??rA
   \                     ??method5_30:
   \   000003E4   300085E5           STR      R0,[R5, #+48]
   \   000003E8   4B0100EA           B        ??method5_3
    737                      }
    738                    }
    739                    break;
    740                  case 'i':
    741                  case 'u':
    742                    _safe_free(goto_url);
   \                     ??method5_31:
   \   000003EC   000052E3           CMP      R2,#+0
   \   000003F0   DFFFFF0A           BEQ      ??method5_24
   \   000003F4   0200A0E1           MOV      R0,R2
   \   000003F8   CFFFFFEA           B        ??method5_25
    743                    goto_url=malloc(strlen(vd->pageurl)+1);
    744                    strcpy(goto_url,vd->pageurl);
    745                    from_url=malloc(strlen(vd->pageurl)+1);
    746                    strcpy(from_url,vd->pageurl);
    747                    goto_params=collectItemsParams(vd,rf);
    748                    return 0xFF;
    749                  case 's':
    750                    
    751                    {
    752                      MAIN_CSM *main_csm;
    753                      int bookmark_menu_id;
    754                      if ((main_csm=(MAIN_CSM *)FindCSMbyID(maincsm_id)))
   \                     ??method5_32:
   \   000003FC   080100EF           SWI      +264
   \   00000400   0050B0E1           MOVS     R5,R0
   \   00000404   4401000A           BEQ      ??method5_3
    755                      {
    756                        bookmark_menu_id=ChangeMenuSelection(vd, rf);
    757                        main_csm->sel_bmk=bookmark_menu_id;
   \   00000408   0910A0E1           MOV      R1,R9
   \   0000040C   0400A0E1           MOV      R0,R4
   \   00000410   ........           _BLF     ChangeMenuSelection,??ChangeMenuSelection??rA
   \   00000414   F2FFFFEA           B        ??method5_30
    758                      }
    759                    }
    760                    break;
    761                  default:
    762                    {
    763                      char c[128];
    764                      sprintf(c,lgpData[LGP_RefUnderConstruction],rf->tag);
   \                     ??method5_6:
   \   00000418   10109AE5           LDR      R1,[R10, #+16]
   \   0000041C   0320A0E1           MOV      R2,R3
   \   00000420   04008DE2           ADD      R0,SP,#+4
   \   00000424   160000EF           SWI      +22
    765                      ShowMSG(1,(int)c);
   \   00000428   04108DE2           ADD      R1,SP,#+4
   \                     ??method5_33:
   \   0000042C   0100A0E3           MOV      R0,#+1
   \   00000430   480100EF           SWI      +328
   \   00000434   380100EA           B        ??method5_3
    766                    }
    767                  break;
    768                  }
    769                }
    770                else
    771                {
    772          	      ShowMSG(1,(int)lgpData[LGP_RefEmpty]);
   \                     ??method5_5:
   \   00000438   14109AE5           LDR      R1,[R10, #+20]
   \   0000043C   FAFFFFEA           B        ??method5_33
    773                }
    774                break;
    775              case UP_BUTTON:
    776                if (vd->pos_cur_ref==0xFFFFFFFF&&vd->pos_last_ref!=0xFFFFFFFF)
   \                     ??method5_34:
   \   00000440   080051E1           CMP      R1,R8
   \   00000444   0400001A           BNE      ??method5_35
   \   00000448   300094E5           LDR      R0,[R4, #+48]
   \   0000044C   080050E1           CMP      R0,R8
   \   00000450   0100000A           BEQ      ??method5_35
    777                  vd->pos_cur_ref=vd->pos_last_ref;
   \                     ??method5_36:
   \   00000454   280084E5           STR      R0,[R4, #+40]
   \   00000458   2F0100EA           B        ??method5_3
    778                else
    779                  if (vd->pos_prev_ref!=0xFFFFFFFF)
   \                     ??method5_35:
   \   0000045C   340094E5           LDR      R0,[R4, #+52]
   \   00000460   080050E1           CMP      R0,R8
   \   00000464   FAFFFF1A           BNE      ??method5_36
    780                    vd->pos_cur_ref=vd->pos_prev_ref;
    781                  else
    782                  {
    783                    scrollUp(vd,20);
   \   00000468   1410A0E3           MOV      R1,#+20
   \   0000046C   0400A0E1           MOV      R0,R4
   \   00000470   ........           _BLF     scrollUp,??scrollUp??rA
    784                    RenderPage(vd,0);
   \   00000474   0010A0E3           MOV      R1,#+0
   \   00000478   0400A0E1           MOV      R0,R4
   \   0000047C   ........           _BLF     RenderPage,??RenderPage??rA
    785                    if (vd->pos_prev_ref!=0xFFFFFFFF)
   \   00000480   340094E5           LDR      R0,[R4, #+52]
   \                     ??method5_37:
   \   00000484   080050E1           CMP      R0,R8
   \   00000488   2301000A           BEQ      ??method5_3
    786                      vd->pos_cur_ref=vd->pos_prev_ref;
   \   0000048C   F0FFFFEA           B        ??method5_36
    787                  }
    788                break;
    789              case DOWN_BUTTON:
    790                if (vd->pos_cur_ref==0xFFFFFFFF&&vd->pos_first_ref!=0xFFFFFFFF)
   \                     ??method5_38:
   \   00000490   080051E1           CMP      R1,R8
   \   00000494   0300001A           BNE      ??method5_39
   \   00000498   2C0094E5           LDR      R0,[R4, #+44]
   \   0000049C   080050E1           CMP      R0,R8
    791                  vd->pos_cur_ref=vd->pos_first_ref;
   \   000004A0   28008415           STRNE    R0,[R4, #+40]
   \   000004A4   1C01001A           BNE      ??method5_3
    792                else
    793                  if (vd->pos_next_ref!=0xFFFFFFFF)
   \                     ??method5_39:
   \   000004A8   380094E5           LDR      R0,[R4, #+56]
   \   000004AC   080050E1           CMP      R0,R8
   \   000004B0   E7FFFF1A           BNE      ??method5_36
    794                    vd->pos_cur_ref=vd->pos_next_ref;
    795                  else
    796                  {
    797                    scrollDown(vd,20);
   \   000004B4   1410A0E3           MOV      R1,#+20
   \   000004B8   0400A0E1           MOV      R0,R4
   \   000004BC   ........           _BLF     scrollDown,??scrollDown??rA
    798                    RenderPage(vd,0);
   \   000004C0   0010A0E3           MOV      R1,#+0
   \   000004C4   0400A0E1           MOV      R0,R4
   \   000004C8   ........           _BLF     RenderPage,??RenderPage??rA
    799                    if (vd->pos_next_ref!=0xFFFFFFFF)
   \   000004CC   380094E5           LDR      R0,[R4, #+56]
   \   000004D0   EBFFFFEA           B        ??method5_37
    800                      vd->pos_cur_ref=vd->pos_next_ref;
    801                  }
    802                break;
    803              case RIGHT_BUTTON:
    804                scrollDown(vd,ScreenH()-20-scr_shift);
   \                     ??method5_40:
   \   000004D4   898100EF           SWI      +33161
   \   000004D8   141040E2           SUB      R1,R0,#+20
   \                     ??method5_41:
   \   000004DC   0400A0E1           MOV      R0,R4
   \   000004E0   ........           _BLF     scrollDown,??scrollDown??rA
    805                vd->pos_cur_ref=0xFFFFFFFF;
   \                     ??method5_42:
   \   000004E4   288084E5           STR      R8,[R4, #+40]
   \   000004E8   0B0100EA           B        ??method5_3
    806                break;
    807              case VOL_DOWN_BUTTON:
    808                scrollDown(vd,(ScreenH()-20-scr_shift)/2);
   \                     ??method5_43:
   \   000004EC   898100EF           SWI      +33161
   \   000004F0   140040E2           SUB      R0,R0,#+20
   \   000004F4   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   000004F8   C010A0E1           ASR      R1,R0,#+1
   \   000004FC   F6FFFFEA           B        ??method5_41
    809                vd->pos_cur_ref=0xFFFFFFFF;
    810                break;
    811              case LEFT_BUTTON:
    812                scrollUp(vd,ScreenH()-20-scr_shift);
   \                     ??method5_44:
   \   00000500   898100EF           SWI      +33161
   \   00000504   141040E2           SUB      R1,R0,#+20
   \                     ??method5_45:
   \   00000508   0400A0E1           MOV      R0,R4
   \   0000050C   ........           _BLF     scrollUp,??scrollUp??rA
    813                vd->pos_cur_ref=0xFFFFFFFF;
   \   00000510   F3FFFFEA           B        ??method5_42
    814                break;
    815              case VOL_UP_BUTTON:
    816                scrollUp(vd,(ScreenH()-20-scr_shift)/2);
   \                     ??method5_46:
   \   00000514   898100EF           SWI      +33161
   \   00000518   140040E2           SUB      R0,R0,#+20
   \   0000051C   A00F80E0           ADD      R0,R0,R0, LSR #+31
   \   00000520   C010A0E1           ASR      R1,R0,#+1
   \   00000524   0400A0E1           MOV      R0,R4
   \   00000528   ........           _BLF     scrollUp,??scrollUp??rA
    817                vd->pos_cur_ref=0xFFFFFFFF;
   \   0000052C   ECFFFFEA           B        ??method5_42
    818                break;
    819              case LEFT_SOFT:
    820                STOPPED=1;
   \                     ??method5_47:
   \   00000530   102086E5           STR      R2,[R6, #+16]
    821                CreateMainMenu(vd);
   \   00000534   0400A0E1           MOV      R0,R4
   \   00000538   ........           _BLF     CreateMainMenu,??CreateMainMenu??rA
   \   0000053C   F60000EA           B        ??method5_3
    822                break;
    823              case RIGHT_SOFT:
    824                if (STOPPED)
   \                     ??method5_48:
   \   00000540   100096E5           LDR      R0,[R6, #+16]
   \   00000544   000050E3           CMP      R0,#+0
    825                {
    826                  return 0xFE;
   \   00000548   FE00A013           MOVNE    R0,#+254
   \   0000054C   F400001A           BNE      ??method5_49
    827                }
    828                else
    829                {
    830                  if (view_url_mode==MODE_URL)
   \   00000550   140096E5           LDR      R0,[R6, #+20]
   \   00000554   010050E3           CMP      R0,#+1
   \   00000558   0200001A           BNE      ??method5_50
    831                  {
    832                    SUBPROC((void*)StopINET);
   \   0000055C   ........           LDR      R0,??DataTable13  ;; StopINET
   \   00000560   710100EF           SWI      +369
   \   00000564   EC0000EA           B        ??method5_3
    833                  }
    834                  else
    835                  {
    836                    STOPPED=1;
   \                     ??method5_50:
   \   00000568   102086E5           STR      R2,[R6, #+16]
   \   0000056C   EA0000EA           B        ??method5_3
    837                  }
    838                  break;
    839                }
    840              case '#': //reload
    841                {
    842                 _safe_free(goto_url);
   \                     ??method5_51:
   \   00000570   1C0096E5           LDR      R0,[R6, #+28]
   \   00000574   000050E3           CMP      R0,#+0
   \   00000578   0000000A           BEQ      ??method5_52
   \   0000057C   150000EF           SWI      +21
   \                     ??method5_52:
   \   00000580   1C7086E5           STR      R7,[R6, #+28]
    843                 if (vd->pageurl)
   \   00000584   E00094E5           LDR      R0,[R4, #+224]
   \   00000588   000050E3           CMP      R0,#+0
   \   0000058C   0500000A           BEQ      ??method5_53
    844                 {
    845                   goto_url=malloc(strlen(vd->pageurl)+1);
   \   00000590   1B0000EF           SWI      +27
   \   00000594   010080E2           ADD      R0,R0,#+1
   \   00000598   140000EF           SWI      +20
   \   0000059C   1C0086E5           STR      R0,[R6, #+28]
    846                   strcpy(goto_url,vd->pageurl);
   \   000005A0   E01094E5           LDR      R1,[R4, #+224]
   \   000005A4   070000EA           B        ??method5_54
    847                 }
    848                 else
    849                 {
    850                   if (view_url)
   \                     ??method5_53:
   \   000005A8   180096E5           LDR      R0,[R6, #+24]
   \   000005AC   000050E3           CMP      R0,#+0
   \   000005B0   D900000A           BEQ      ??method5_3
    851                   {
    852                     goto_url=malloc(strlen(view_url)+1);
   \   000005B4   1B0000EF           SWI      +27
   \   000005B8   010080E2           ADD      R0,R0,#+1
   \   000005BC   140000EF           SWI      +20
    853                     strcpy(goto_url,view_url);
   \   000005C0   181096E5           LDR      R1,[R6, #+24]
   \   000005C4   1C0086E5           STR      R0,[R6, #+28]
   \                     ??method5_54:
   \   000005C8   1A0000EF           SWI      +26
    854                   }
    855                   else
    856                     break;
    857                 }
    858                 return 0xFB;
   \   000005CC   FB00A0E3           MOV      R0,#+251
   \   000005D0   7BFFFFEA           B        ??method5_28
    859                }
    860              case 0x36: //forward
    861                {
    862                  if (CheckPageStackTop())
   \                     ??method5_55:
   \   000005D4   ........           _BLF     CheckPageStackTop,??CheckPageStackTop??rA
   \   000005D8   000050E3           CMP      R0,#+0
   \   000005DC   CE00000A           BEQ      ??method5_3
    863                  {
    864                    return 0xFD;
   \   000005E0   FD00A0E3           MOV      R0,#+253
   \   000005E4   76FFFFEA           B        ??method5_28
    865                  }
    866                  break;
    867                }
    868              case 0x34:
    869                {
    870                  if (vd->pos_cur_ref==0xFFFFFFFF) break;
   \                     ??method5_56:
   \   000005E8   080051E1           CMP      R1,R8
   \   000005EC   CA00000A           BEQ      ??method5_3
    871                  rf=FindReference(vd,vd->pos_cur_ref);
   \   000005F0   0400A0E1           MOV      R0,R4
   \   000005F4   ........           _BLF     FindReference,??FindReference??rA
   \   000005F8   0090A0E1           MOV      R9,R0
    872                  if ((rf->id!=_NOREF) && 
    873                      (rf->tag == 'L' || rf->tag == 'Z' || rf->tag == '@' || rf->tag == '^'))
   \   000005FC   0C1099E5           LDR      R1,[R9, #+12]
   \   00000600   080051E1           CMP      R1,R8
   \   00000604   C400000A           BEQ      ??method5_3
   \   00000608   080099E5           LDR      R0,[R9, #+8]
   \   0000060C   4C0050E3           CMP      R0,#+76
   \   00000610   5A005013           CMPNE    R0,#+90
   \   00000614   40005013           CMPNE    R0,#+64
   \   00000618   5E005013           CMPNE    R0,#+94
   \   0000061C   BE00001A           BNE      ??method5_3
    874                  {
    875                    char *s=extract_omstr(vd,rf->id);
   \   00000620   0400A0E1           MOV      R0,R4
   \   00000624   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000628   0040A0E1           MOV      R4,R0
    876                    char *ss = s;
    877                    if (rf->tag == 'L')
   \   0000062C   080099E5           LDR      R0,[R9, #+8]
   \   00000630   0450A0E1           MOV      R5,R4
   \   00000634   4C0050E3           CMP      R0,#+76
   \   00000638   0400001A           BNE      ??method5_57
    878                    {
    879                      if (s[0] != '#')
   \   0000063C   0000D4E5           LDRB     R0,[R4, #+0]
   \   00000640   230050E3           CMP      R0,#+35
   \   00000644   0700000A           BEQ      ??method5_58
    880                        s += 2;
   \   00000648   024084E2           ADD      R4,R4,#+2
   \   0000064C   050000EA           B        ??method5_58
    881                    }
    882                    if (rf->tag == 'Z') s += strlen(s) + 1;
   \                     ??method5_57:
   \   00000650   5A0050E3           CMP      R0,#+90
   \   00000654   0300001A           BNE      ??method5_58
   \   00000658   0400A0E1           MOV      R0,R4
   \   0000065C   1B0000EF           SWI      +27
   \   00000660   040080E0           ADD      R0,R0,R4
   \   00000664   014080E2           ADD      R4,R0,#+1
    883                    ShowLink(s);
   \                     ??method5_58:
   \   00000668   0400A0E1           MOV      R0,R4
   \   0000066C   ........           _BLF     ShowLink,??ShowLink??rA
    884                    mfree(ss);
   \                     ??method5_59:
   \   00000670   0500A0E1           MOV      R0,R5
   \   00000674   0DFFFFEA           B        ??method5_19
    885                  }
    886                  break;
    887                }
    888              case 0x31: // '1'
    889                  if (rf = FindReference(vd,vd->pos_cur_ref))
   \                     ??method5_60:
   \   00000678   0400A0E1           MOV      R0,R4
   \   0000067C   ........           _BLF     FindReference,??FindReference??rA
   \   00000680   0090B0E1           MOVS     R9,R0
    890                  {
    891                    if (rf->id != _NOREF)
   \   00000684   0C109915           LDRNE    R1,[R9, #+12]
   \   00000688   08005111           CMPNE    R1,R8
   \   0000068C   A200000A           BEQ      ??method5_3
    892                    {
    893                      if (rf->tag == 'L' || rf->tag == 'Z' || rf->tag == '@' || rf->tag == '^')
   \   00000690   080099E5           LDR      R0,[R9, #+8]
   \   00000694   4C0050E3           CMP      R0,#+76
   \   00000698   5A005013           CMPNE    R0,#+90
   \   0000069C   40005013           CMPNE    R0,#+64
   \   000006A0   5E005013           CMPNE    R0,#+94
   \   000006A4   9C00001A           BNE      ??method5_3
    894                      {
    895                        char * s = extract_omstr(vd, rf->id);
   \   000006A8   0400A0E1           MOV      R0,R4
   \   000006AC   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   000006B0   0070A0E1           MOV      R7,R0
    896                        char *ss = s;
    897                        if (rf->tag == 'L') s += 2;
   \   000006B4   080099E5           LDR      R0,[R9, #+8]
   \   000006B8   0740A0E1           MOV      R4,R7
   \   000006BC   4C0050E3           CMP      R0,#+76
   \   000006C0   02708702           ADDEQ    R7,R7,#+2
   \   000006C4   0500000A           BEQ      ??method5_61
    898                        if (rf->tag == 'Z') s += strlen(s) + 1;
   \   000006C8   5A0050E3           CMP      R0,#+90
   \   000006CC   0300001A           BNE      ??method5_61
   \   000006D0   0700A0E1           MOV      R0,R7
   \   000006D4   1B0000EF           SWI      +27
   \   000006D8   070080E0           ADD      R0,R0,R7
   \   000006DC   017080E2           ADD      R7,R0,#+1
    899                        
    900                        if (sieget_ipc.data) mfree(sieget_ipc.data);
   \                     ??method5_61:
   \   000006E0   080096E5           LDR      R0,[R6, #+8]
   \   000006E4   000050E3           CMP      R0,#+0
   \   000006E8   0000000A           BEQ      ??method5_62
   \   000006EC   150000EF           SWI      +21
    901                        sieget_ipc.name_to = sieget_ipc_name; //  url  SieGet
   \                     ??method5_62:
   \   000006F0   400085E2           ADD      R0,R5,#+64
   \   000006F4   000086E5           STR      R0,[R6, #+0]
    902                        sieget_ipc.name_from = ipc_my_name;
   \   000006F8   200085E2           ADD      R0,R5,#+32
   \   000006FC   040086E5           STR      R0,[R6, #+4]
    903                        sieget_ipc.data = malloc(strlen(s) + 1);
   \   00000700   0700A0E1           MOV      R0,R7
   \   00000704   1B0000EF           SWI      +27
   \   00000708   010080E2           ADD      R0,R0,#+1
   \   0000070C   140000EF           SWI      +20
   \   00000710   080086E5           STR      R0,[R6, #+8]
    904                        strcpy((char *)sieget_ipc.data, s);
   \   00000714   0710A0E1           MOV      R1,R7
   \   00000718   1A0000EF           SWI      +26
    905                        GBS_SendMessage(MMI_CEPID, MSG_IPC, SIEGET_GOTO_URL, &sieget_ipc);
   \   0000071C   0630A0E1           MOV      R3,R6
   \   00000720   0020A0E3           MOV      R2,#+0
   \   00000724   B010A0E3           MOV      R1,#+176
   \   00000728   DE1C81E3           ORR      R1,R1,#0xDE00
   \   0000072C   0900A0E3           MOV      R0,#+9
   \   00000730   420C80E3           ORR      R0,R0,#0x4200
   \   00000734   000100EF           SWI      +256
    906                        mfree(ss);
   \   00000738   DBFEFFEA           B        ??method5_18
    907                      }
    908                    }
    909                  }
    910                break;
    911              case 0x32:
    912              case GREEN_BUTTON:
    913                rf=FindReference(vd,vd->pos_cur_ref);
   \                     ??method5_63:
   \   0000073C   0400A0E1           MOV      R0,R4
   \   00000740   ........           _BLF     FindReference,??FindReference??rA
   \   00000744   0090B0E1           MOVS     R9,R0
    914                if (rf)
    915                {
    916                  if (rf->id!=_NOREF)
   \   00000748   0C109915           LDRNE    R1,[R9, #+12]
   \   0000074C   08005111           CMPNE    R1,R8
   \   00000750   7100000A           BEQ      ??method5_3
    917                  {
    918                    if (rf->tag=='L'||rf->tag=='Z'||rf->tag=='^')
   \   00000754   080099E5           LDR      R0,[R9, #+8]
   \   00000758   4C0050E3           CMP      R0,#+76
   \   0000075C   5A005013           CMPNE    R0,#+90
   \   00000760   5E005013           CMPNE    R0,#+94
   \   00000764   6C00001A           BNE      ??method5_3
    919                    {
    920                      char *s=extract_omstr(vd,rf->id);
   \   00000768   0400A0E1           MOV      R0,R4
   \   0000076C   ........           _BLF     extract_omstr,??extract_omstr??rA
   \   00000770   0040A0E1           MOV      R4,R0
    921                      char *ss = s;
    922                      if (rf->tag=='L')
   \   00000774   080099E5           LDR      R0,[R9, #+8]
   \   00000778   0450A0E1           MOV      R5,R4
   \   0000077C   4C0050E3           CMP      R0,#+76
    923                        s+=2;
   \   00000780   02408402           ADDEQ    R4,R4,#+2
   \   00000784   0500000A           BEQ      ??method5_64
    924                      if (rf->tag=='Z')
   \   00000788   5A0050E3           CMP      R0,#+90
   \   0000078C   0300001A           BNE      ??method5_64
    925                        s+=strlen(s)+1;
   \   00000790   0400A0E1           MOV      R0,R4
   \   00000794   1B0000EF           SWI      +27
   \   00000798   040080E0           ADD      R0,R0,R4
   \   0000079C   014080E2           ADD      R4,R0,#+1
    926                      if (msg->gbsmsg->submess==0x32)
   \                     ??method5_64:
   \   000007A0   04009AE5           LDR      R0,[R10, #+4]
   \   000007A4   080090E5           LDR      R0,[R0, #+8]
   \   000007A8   320050E3           CMP      R0,#+50
    927                      {
    928                        RunOtherCopyByURL(s,1);
   \   000007AC   0110A003           MOVEQ    R1,#+1
    929                      }
    930                      else
    931                      {
    932                        RunOtherCopyByURL(s,0);
   \   000007B0   0010A013           MOVNE    R1,#+0
   \   000007B4   0400A0E1           MOV      R0,R4
   \   000007B8   ........           BL       RunOtherCopyByURL
    933                      }
    934                      mfree(ss);
   \   000007BC   ABFFFFEA           B        ??method5_59
    935                    }
    936                  }
    937                }
    938                break;
    939              case 0x33: // '3'
    940                vd->pixdisp=0;
   \                     ??method5_65:
   \   000007C0   207084E5           STR      R7,[R4, #+32]
    941                vd->view_line=0;
   \   000007C4   1C7084E5           STR      R7,[R4, #+28]
    942                vd->pos_cur_ref=0xFFFFFFFF;
   \   000007C8   45FFFFEA           B        ??method5_42
    943                break;
    944              /*case 0x37: 
    945                {
    946                  //Dump RAWTEXT
    947                  unsigned int ul;
    948                  int f;
    949                  if ((f=fopen("4:\\zbin\\balletmini\\dumpraw.txt",A_ReadWrite+A_Create+A_Truncate,P_READ+P_WRITE,&ul))!=-1)
    950                  {
    951                    fwrite(f,vd->rawtext,vd->rawtext_size*2,&ul);
    952                    fclose(f,&ul);
    953                  }
    954                }
    955                break;*/
    956              /*case 0x37: // '7'
    957                {
    958                  //Dump REFCACHE
    959                  unsigned int ul;
    960                  int f;
    961                  if ((f=fopen("0:\\zbin\\balletmini\\dumpref.txt",A_ReadWrite+A_Create+A_Truncate,P_READ+P_WRITE,&ul))!=-1)
    962                  {
    963                    char c[256];
    964                    sprintf(c,"\nref_cache_size : %i\n",vd->ref_cache_size);
    965                    fwrite(f,c,strlen(c),&ul);
    966                    sprintf(c,  "oms_size       : %i\n",vd->oms_size);
    967                    fwrite(f,c,strlen(c),&ul);
    968                    sprintf(c,  "page_sz        : %i\n",vd->page_sz);
    969                    fwrite(f,c,strlen(c),&ul);
    970                    sprintf(c,  "loaded_sz      : %i\n\n",vd->loaded_sz);
    971                    fwrite(f,c,strlen(c),&ul);
    972                    for (int i=0;i<vd->ref_cache_size;i++)
    973                    {
    974                      REFCACHE *rf=vd->ref_cache+i;
    975                      sprintf(c,"\nREF : %i\n",i);
    976                      fwrite(f,c,strlen(c),&ul);
    977                      sprintf(c,"  tag:       %c\n",rf->tag);
    978                      fwrite(f,c,strlen(c),&ul);
    979                      sprintf(c,"  id:        %u",rf->id);
    980                      fwrite(f,c,strlen(c),&ul);
    981                      if (rf->id!=_NOREF)
    982                      {
    983                        char *s=extract_omstr(vd,rf->id);
    984                        for (int to=strlen(s);to;to--) if (s[to-1]==NULL) s[to-1]=' ';
    985                        sprintf(c,"   %s",s);
    986                        fwrite(f,c,strlen(c),&ul);
    987                        mfree(s);
    988                      }
    989                      fwrite(f,"\n",1,&ul);
    990                      sprintf(c,"  id2:       %u",rf->id2);
    991                      fwrite(f,c,strlen(c),&ul);
    992                      if (rf->id2!=_NOREF&&rf->tag!='@')
    993                      {
    994                        char *s=extract_omstr(vd,rf->id2);
    995                        for (int to=_rshort2(vd->oms+rf->id)-1;to;to--) if (s[to]==NULL) s[to]=' ';
    996                        sprintf(c,"   %s",s);
    997                        fwrite(f,c,strlen(c),&ul);
    998                        mfree(s);
    999                      }
   1000                      fwrite(f,"\n",1,&ul);
   1001                      sprintf(c,"  value:     %u",rf->value);
   1002                      fwrite(f,c,strlen(c),&ul);
   1003                      if (rf->value!=_NOREF)
   1004                      {
   1005                        char *s=extract_omstr(vd,rf->value);
   1006                        for (int to=_rshort2(vd->oms+rf->id)-1;to;to--) if (s[to]==NULL) s[to]=' ';
   1007                        sprintf(c,"   %s",s);
   1008                        fwrite(f,c,strlen(c),&ul);
   1009                        mfree(s);
   1010                      }
   1011                      fwrite(f,"\n",1,&ul);
   1012                      sprintf(c,"  begin:     %u\n",rf->begin);
   1013                      fwrite(f,c,strlen(c),&ul);
   1014                      sprintf(c,"  end:       %u\n",rf->end);
   1015                      fwrite(f,c,strlen(c),&ul);
   1016                      sprintf(c,"  upload:    %s\n",rf->no_upload?"false":"true");
   1017                      fwrite(f,c,strlen(c),&ul);
   1018                      if (rf->tag=='s')
   1019                      {
   1020                        sprintf(c,"  multiple:  %s\n",rf->multiselect?"true":"false");
   1021                        fwrite(f,c,strlen(c),&ul);
   1022                        sprintf(c,"  size:    %i ",rf->size);
   1023                        fwrite(f,c,strlen(c),&ul);
   1024                        fwrite(f,rf->data,rf->size,&ul);
   1025                        fwrite(f,"\n",1,&ul);
   1026                      }
   1027                    }
   1028                    fclose(f,&ul);
   1029                  }
   1030                }
   1031                break;*/
   1032              /*case 0x38: // '8'
   1033                {
   1034                  //Dump LINECACHE
   1035                  unsigned int ul;
   1036                  int f;
   1037                  if ((f=fopen("4:\\zbin\\balletmini\\dumplc.txt",A_ReadWrite+A_Create+A_Truncate,P_READ+P_WRITE,&ul))!=-1)
   1038                  {
   1039                    char c[256];
   1040                    sprintf(c,"\nlines_cache_size : %i, pos : %d\n",vd->lines_cache_size, vd->lines_cache_pos);
   1041                    fwrite(f,c,strlen(c),&ul);
   1042                    for (int i=0;i<vd->lines_cache_size;i++)
   1043                    {
   1044                      LINECACHE *lc=vd->lines_cache+i;
   1045                      sprintf(c,"%i  pos:%u, pix:%u, bold:%d, ref:%d, center:%d, right:%d, centerAll:%d \n",i,lc->pos,lc->pixheight,
   1046                              lc->bold, lc->ref, lc->center, lc->right, lc->centerAtAll);
   1047                      fwrite(f,c,strlen(c),&ul);
   1048                    }
   1049                   fclose(f,&ul);
   1050                  }
   1051                }
   1052                break;*/
   1053              case 0x39: // '9'
   1054                while(LineDown(vd)) ;
   \                     ??method5_66:
   \   000007CC   0400A0E1           MOV      R0,R4
   \   000007D0   ........           _BLF     LineDown,??LineDown??rA
   \   000007D4   000050E3           CMP      R0,#+0
   \   000007D8   FBFFFF1A           BNE      ??method5_66
   1055                vd->pixdisp=0;
   \   000007DC   207084E5           STR      R7,[R4, #+32]
   1056                scrollUp(vd,ScreenH()-1);
   \   000007E0   898100EF           SWI      +33161
   \   000007E4   011040E2           SUB      R1,R0,#+1
   \   000007E8   46FFFFEA           B        ??method5_45
   1057                vd->pos_cur_ref=0xFFFFFFFF;
   1058                break;
   1059                
   1060              case 0x35:
   1061                if (wstrlen(vd->search_string))
   \                     ??method5_67:
   \   000007EC   000194E5           LDR      R0,[R4, #+256]
   \   000007F0   230100EF           SWI      +291
   \   000007F4   000050E3           CMP      R0,#+0
   \   000007F8   4700000A           BEQ      ??method5_3
   1062                {
   1063                  FindStringOnPage(vd);
   \   000007FC   0400A0E1           MOV      R0,R4
   \   00000800   ........           _BLF     FindStringOnPage,??FindStringOnPage??rA
   \   00000804   440000EA           B        ??method5_3
   1064                }
   1065                break;
   1066              /*case 0x2A: //'*' exit
   1067              {
   1068                MAIN_CSM *main_csm;
   1069                if ((main_csm=(MAIN_CSM *)FindCSMbyID(maincsm_id)))
   1070                {
   1071                  FreePageStack();
   1072                  goto_url = 0;
   1073                  GeneralFunc_flag1(main_csm->view_id,0xFF);
   1074                  GeneralFuncF1(1);
   1075                }
   1076                else
   1077                {
   1078                  GeneralFuncF1(1);
   1079                }
   1080              }
   1081              break;*/
   1082              
   1083              case 0x30: // '0'
   1084                {
   1085                  // get text from page
   1086                  int scr_h=ScreenH()-1;
   \                     ??method5_68:
   \   00000808   898100EF           SWI      +33161
   \   0000080C   015040E2           SUB      R5,R0,#+1
   1087                  WSHDR *ws=AllocWS(2048);
   \   00000810   800EA0E3           MOV      R0,#+2048
   \   00000814   250100EF           SWI      +293
   \   00000818   0060A0E1           MOV      R6,R0
   1088                  LINECACHE *lc;
   1089                  int ypos=scr_shift-vd->pixdisp;
   \   0000081C   200094E5           LDR      R0,[R4, #+32]
   \   00000820   007060E2           RSB      R7,R0,#+0
   1090                  unsigned int store_line=vd->view_line;
   \   00000824   1C0094E5           LDR      R0,[R4, #+28]
   \   00000828   00008DE5           STR      R0,[SP, #+0]
   1091                  int vl = vd->view_line-1;
   \   0000082C   01A040E2           SUB      R10,R0,#+1
   \   00000830   020000EA           B        ??method5_69
   1092                  unsigned int len;
   1093                  int sc;
   1094                  int c;
   1095          
   1096                  while(ypos<=scr_h)
   1097                  {
   1098                    if (LineDown(vd))
   1099                    {
   1100                      if (vl < 0)
   1101                      {
   1102                        lc=vd->lines_cache;
   1103                        len = (lc[0]).pos;
   1104                        sc = 0;
   1105                      }
   1106                      else
   1107                      {
   1108                        lc=vd->lines_cache+vl;
   1109                        if ((vl+1)<vd->lines_cache_size)
   1110                        {
   1111                          len=(lc[1]).pos-(lc[0]).pos;
   1112                        }
   1113                        else
   1114                          len=vd->rawtext_size-lc->pos;
   1115                        sc=lc->pos;
   1116                      }
   1117                      while(len>0)
   1118                      {
   1119                        c=vd->rawtext[sc];
   1120                        if ((c&0xFF00)!=0xE100)
   1121                        {
   1122                          switch (c)
   1123                          {
   1124                          case UTF16_FONT_SMALL:
   1125                          case UTF16_FONT_SMALL_BOLD:
   1126                          case UTF16_DIS_UNDERLINE:
   1127                          case UTF16_ENA_UNDERLINE:
   1128                          case UTF16_ENA_INVERT:
   1129                          case UTF16_DIS_INVERT:
   1130                          case UTF16_ALIGN_LEFT:
   1131                          case UTF16_ALIGN_RIGHT:
   1132                          case UTF16_ENA_CENTER:
   1133                          case UTF16_DIS_CENTER:
   1134                            break;
   1135                          case UTF16_INK_RGBA:
   1136                          case UTF16_PAPER_RGBA:
   1137                            len--;
   1138                            sc++;
   1139                            len--;
   1140                            sc++;
   1141                            break;
   1142                          default :
   1143                            wsAppendChar(ws,c);
   1144                          }
   1145                        }
   1146                        sc++;
   1147                        len--;
   1148                      }
   1149                      ypos+=lc->pixheight;
   \                     ??method5_70:
   \   00000834   BE00D9E1           LDRH     R0,[R9, #+14]
   1150                      vl++;
   \   00000838   08A0A0E1           MOV      R10,R8
   \   0000083C   077080E0           ADD      R7,R0,R7
   \                     ??method5_69:
   \   00000840   070055E1           CMP      R5,R7
   \   00000844   300000BA           BLT      ??method5_71
   \   00000848   0400A0E1           MOV      R0,R4
   \   0000084C   ........           _BLF     LineDown,??LineDown??rA
   \   00000850   000050E3           CMP      R0,#+0
   \   00000854   2C00000A           BEQ      ??method5_71
   \   00000858   109094E5           LDR      R9,[R4, #+16]
   \   0000085C   01808AE2           ADD      R8,R10,#+1
   \   00000860   00005AE3           CMP      R10,#+0
   \   00000864   00B09945           LDRMI    R11,[R9, #+0]
   \   00000868   00A0A043           MOVMI    R10,#+0
   \   0000086C   0C00004A           BMI      ??method5_72
   \   00000870   140094E5           LDR      R0,[R4, #+20]
   \   00000874   0A9289E0           ADD      R9,R9,R10, LSL #+4
   \   00000878   001099E5           LDR      R1,[R9, #+0]
   \   0000087C   000058E1           CMP      R8,R0
   \   00000880   10009935           LDRCC    R0,[R9, #+16]
   \   00000884   01A0A0E1           MOV      R10,R1
   \   00000888   0C009425           LDRCS    R0,[R4, #+12]
   \   0000088C   01B040E0           SUB      R11,R0,R1
   \   00000890   030000EA           B        ??method5_72
   \                     ??method5_73:
   \   00000894   0600A0E1           MOV      R0,R6
   \   00000898   1C0000EF           SWI      +28
   \                     ??method5_74:
   \   0000089C   01A08AE2           ADD      R10,R10,#+1
   \   000008A0   01B04BE2           SUB      R11,R11,#+1
   \                     ??method5_72:
   \   000008A4   00005BE3           CMP      R11,#+0
   \   000008A8   E1FFFF0A           BEQ      ??method5_70
   \   000008AC   080094E5           LDR      R0,[R4, #+8]
   \   000008B0   8A0080E0           ADD      R0,R0,R10, LSL #+1
   \   000008B4   B010D0E1           LDRH     R1,[R0, #+0]
   \   000008B8   FF0C01E2           AND      R0,R1,#0xFF00
   \   000008BC   E10C50E3           CMP      R0,#+57600
   \   000008C0   F5FFFF0A           BEQ      ??method5_74
   \   000008C4   010041E2           SUB      R0,R1,#+1
   \   000008C8   E00C40E2           SUB      R0,R0,#+57344
   \   000008CC   1E0050E3           CMP      R0,#+30
   \   000008D0   EFFFFF8A           BHI      ??method5_73
   \   000008D4   012F8FE2           ADR      R2,??method5_2
   \   000008D8   D02092E1           LDRSB    R2,[R2, R0]
   \   000008DC   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??method5_2:
   \   000008E0   EEEEECEE           DC8      +238,+238,+236,+238
   \   000008E4   EE0707EC           DC8      +238,+7,+7,+236
   \   000008E8   ECECECEC           DC8      +236,+236,+236,+236
   \   000008EC   ECECECEC           DC8      +236,+236,+236,+236
   \   000008F0   ECEEEEEC           DC8      +236,+238,+238,+236
   \   000008F4   ECECECEC           DC8      +236,+236,+236,+236
   \   000008F8   ECECECEE           DC8      +236,+236,+236,+238
   \   000008FC   EEEEEE00           DC8      +238,+238,+238,+0
   \                     ??method5_75:
   \   00000900   02B04BE2           SUB      R11,R11,#+2
   \   00000904   02A08AE2           ADD      R10,R10,#+2
   \   00000908   E3FFFFEA           B        ??method5_74
   1151                    }
   1152                    else
   1153                      break;
   1154                  }
   1155                  vd->view_line=store_line;
   \                     ??method5_71:
   \   0000090C   00009DE5           LDR      R0,[SP, #+0]
   \   00000910   1C0084E5           STR      R0,[R4, #+28]
   1156                  createTextView(ws);
   \   00000914   0600A0E1           MOV      R0,R6
   \   00000918   ........           _BLF     createTextView,??createTextView??rA
   1157                }
   1158                break;
   1159              }
   1160            }
   1161            DirectRedrawGUI();
   \                     ??method5_3:
   \   0000091C   3F0100EF           SWI      +319
   1162            return(0);
   \   00000920   0000A0E3           MOV      R0,#+0
   \                     ??method5_49:
   \   00000924   84D08DE2           ADD      SP,SP,#+132      ;; stack cleaning
   \   00000928   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??method5_14:
   \   0000092C   ........           DC32     PrepareFileForUpload
   1163          }
   1164          

   \                                 In segment CODE, align 4, keep-with-next
   1165          static int method8(void){return(0);}
   \                     method8:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
   1166          

   \                                 In segment CODE, align 4, keep-with-next
   1167          static int method9(void){return(0);}
   \                     method9:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
   1168          
   1169          static const void * const gui_methods[11]={
   1170            (void *)method0,  //Redraw
   1171            (void *)method1,  //Create
   1172            (void *)method2,  //Close
   1173            (void *)method3,  //Focus
   1174            (void *)method4,  //Unfocus
   1175            (void *)method5,  //OnKey
   1176            0,
   1177            (void *)kill_data, //method7, //Destroy
   1178            (void *)method8,
   1179            (void *)method9,
   1180            0
   1181          };
   1182          

   \                                 In segment CODE, align 4, keep-with-next
   1183          static int CreateViewGUI(int cached, void* data)
   1184          {
   \                     CreateViewGUI:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   \   00000008   0160A0E1           MOV      R6,R1
   1185            static const RECT Canvas={0,0,0,0};
   1186            VIEW_GUI *view_gui=malloc(sizeof(VIEW_GUI));
   1187            zeromem(view_gui,sizeof(VIEW_GUI));
   1188            patch_rect((RECT*)&Canvas,0,0,ScreenW()-1,ScreenH()-1);
   \   0000000C   9C809FE5           LDR      R8,??CreateViewGUI_0  ;; gui_methods
   \   00000010   5000A0E3           MOV      R0,#+80
   \   00000014   140000EF           SWI      +20
   \   00000018   0040A0E1           MOV      R4,R0
   \   0000001C   5010A0E3           MOV      R1,#+80
   \   00000020   1D0100EF           SWI      +285
   \   00000024   898100EF           SWI      +33161
   \   00000028   0070A0E1           MOV      R7,R0
   \   0000002C   888100EF           SWI      +33160
   \   00000030   011047E2           SUB      R1,R7,#+1
   \   00000034   02002DE9           PUSH     {R1}
   \   00000038   013040E2           SUB      R3,R0,#+1
   \   0000003C   0020A0E3           MOV      R2,#+0
   \   00000040   2C0088E2           ADD      R0,R8,#+44
   \   00000044   0010A0E3           MOV      R1,#+0
   \   00000048   ........           _BLF     patch_rect,??patch_rect??rA
   1189            view_gui->gui.canvas=(void *)(&Canvas);
   \   0000004C   2C0088E2           ADD      R0,R8,#+44
   \   00000050   000084E5           STR      R0,[R4, #+0]
   1190          //  view_gui->gui.flag30=2;
   1191            view_gui->gui.methods=(void *)gui_methods;
   \   00000054   048084E5           STR      R8,[R4, #+4]
   1192            view_gui->gui.item_ll.data_mfree=(void (*)(void *))mfree_adr();
   \   00000058   158000EF           SWI      +32789
   \   0000005C   200084E5           STR      R0,[R4, #+32]
   1193            view_gui->cached=cached;
   \   00000060   385084E5           STR      R5,[R4, #+56]
   1194            if (data)
   \   00000064   000056E3           CMP      R6,#+0
   \   00000068   04D08DE2           ADD      SP,SP,#+4
   \   0000006C   0600000A           BEQ      ??CreateViewGUI_1
   1195            {
   1196              view_gui->view_line=getViewLine(data);
   \   00000070   0600A0E1           MOV      R0,R6
   \   00000074   ........           _BLF     getViewLine,??getViewLine??rA
   \   00000078   3C0084E5           STR      R0,[R4, #+60]
   1197              view_gui->pos_cur_ref=getPosCurRef(data);
   \   0000007C   0600A0E1           MOV      R0,R6
   \   00000080   ........           _BLF     getPosCurRef,??getPosCurRef??rA
   1198              view_gui->isPositionDataPresent = 1;
   \   00000084   0110A0E3           MOV      R1,#+1
   \   00000088   030000EA           B        ??CreateViewGUI_2
   1199            }
   1200            else
   1201            {
   1202              view_gui->view_line=0;
   \                     ??CreateViewGUI_1:
   \   0000008C   0000A0E3           MOV      R0,#+0
   \   00000090   3C0084E5           STR      R0,[R4, #+60]
   1203              view_gui->pos_cur_ref=0xFFFFFFFF;
   \   00000094   0000E0E1           MVN      R0,R0
   1204              view_gui->isPositionDataPresent = 0;
   \   00000098   0010A0E3           MOV      R1,#+0
   \                     ??CreateViewGUI_2:
   \   0000009C   441084E5           STR      R1,[R4, #+68]
   \   000000A0   400084E5           STR      R0,[R4, #+64]
   1205            }
   1206            return CreateGUI(view_gui);
   \   000000A4   0400A0E1           MOV      R0,R4
   \   000000A8   370100EF           SWI      +311
   \   000000AC   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??CreateViewGUI_0:
   \   000000B0   ........           DC32     gui_methods
   1207          }

   \                                 In segment DATA_C, align 4, align-sorted
   \                     gui_methods:
   \   00000000   ............       DC32 method0, method1, method2, method3, method4, method5, 0H
   \              ............
   \              ............
   \              ............
   \              00000000    
   \   0000001C   ............       DC32 kill_data, method8, method9, 0H
   \              ............
   \              00000000    
   \   0000002C   000000000000       DC16 0, 0, 0, 0
   \              0000        
   1208          

   \                                 In segment CODE, align 4, keep-with-next
   1209          static void maincsm_oncreate(CSM_RAM *data)
   1210          {
   \                     maincsm_oncreate:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1211            goto_url = NULL;
   \   00000004   ........           LDR      R6,??DataTable14  ;; sieget_ipc
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0050A0E3           MOV      R5,#+0
   \   00000010   1C5086E5           STR      R5,[R6, #+28]
   1212            InitUrlStack();
   \   00000014   ........           _BLF     InitUrlStack,??InitUrlStack??rA
   1213            MAIN_CSM *csm=(MAIN_CSM*)data;
   1214            ws_console=AllocWS(1024);
   \   00000018   400EA0E3           MOV      R0,#+1024
   \   0000001C   250100EF           SWI      +293
   \   00000020   280086E5           STR      R0,[R6, #+40]
   1215            csm->csm.state=0;
   \   00000024   105084E5           STR      R5,[R4, #+16]
   1216            csm->csm.unk1=0;
   \   00000028   145084E5           STR      R5,[R4, #+20]
   1217            csm->view_id=CreateViewGUI(0,0);
   \   0000002C   0010A0E3           MOV      R1,#+0
   \   00000030   0100A0E1           MOV      R0,R1
   \   00000034   ........           BL       CreateViewGUI
   \   00000038   280084E5           STR      R0,[R4, #+40]
   1218            sieget_ipc.data = NULL;
   \   0000003C   085086E5           STR      R5,[R6, #+8]
   1219          }
   \   00000040   7080BDE8           POP      {R4-R6,PC}       ;; return
   1220          

   \                                 In segment CODE, align 4, keep-with-next
   1221          static void KillAll(void)
   1222          {
   \                     KillAll:
   \   00000000   00402DE9           PUSH     {LR}
   1223            FreePageStack();
   \   00000004   ........           _BLF     FreePageStack,??FreePageStack??rA
   1224            FreeWS(ws_console);
   \   00000008   ........           LDR      R0,??DataTable15  ;; sieget_ipc + 40
   \   0000000C   000090E5           LDR      R0,[R0, #+0]
   \   00000010   290100EF           SWI      +297
   1225            lgpFreeLangPack();
   \   00000014   0040BDE8           POP      {LR}             ;; Pop
   \   00000018   ........           _BF      lgpFreeLangPack,??lgpFreeLangPack??rA  ;; tailcall
   1226          }
   1227          
   1228          extern void *ELF_BEGIN;
   1229          

   \                                 In segment CODE, align 4, keep-with-next
   1230          static void Killer(void)
   1231          {
   \                     Killer:
   \   00000000   00402DE9           PUSH     {LR}
   1232            //extern void *ELF_BEGIN;
   1233            KillAll();
   \   00000004   ........           BL       KillAll
   1234            kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
   \   00000008   158000EF           SWI      +32789
   \   0000000C   0010A0E1           MOV      R1,R0
   \   00000010   04009FE5           LDR      R0,??Killer_0    ;; ELF_BEGIN
   \   00000014   0040BDE8           POP      {LR}             ;; Pop
   \   00000018   ........           _BF      kill_data,??kill_data??rA  ;; tailcall
   \                     ??Killer_0:
   \   0000001C   ........           DC32     ELF_BEGIN
   1235          }
   1236          

   \                                 In segment CODE, align 4, keep-with-next
   1237          static void maincsm_onclose(CSM_RAM *csm)
   1238          {
   \                     maincsm_onclose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   1239            TERMINATED=1;
   \   00000004   ........           LDR      R4,??DataTable27  ;; sieget_ipc
   \   00000008   0100A0E3           MOV      R0,#+1
   \   0000000C   0C0084E5           STR      R0,[R4, #+12]
   1240            if (goto_url) mfree(goto_url);
   \   00000010   1C0094E5           LDR      R0,[R4, #+28]
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0000000A           BEQ      ??maincsm_onclose_0
   \   0000001C   150000EF           SWI      +21
   1241            if (sieget_ipc.data) mfree(sieget_ipc.data);
   \                     ??maincsm_onclose_0:
   \   00000020   080094E5           LDR      R0,[R4, #+8]
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   0000000A           BEQ      ??maincsm_onclose_1
   \   0000002C   150000EF           SWI      +21
   1242            SUBPROC((void *)Killer);
   \                     ??maincsm_onclose_1:
   \   00000030   ........           LDR      R0,??DataTable28  ;; Killer
   \   00000034   710100EF           SWI      +369
   1243          }
   \   00000038   1080BDE8           POP      {R4,PC}          ;; return
   1244          

   \                                 In segment CODE, align 4, keep-with-next
   1245          void GotoLink(void* data)
   1246          {
   \                     GotoLink:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1247            LockSched();
   \   00000008   460100EF           SWI      +326
   1248            if (!TERMINATED)
   \   0000000C   ........           LDR      R0,??DataTable20  ;; sieget_ipc + 12
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0E00001A           BNE      ??GotoLink_0
   1249            {
   1250              IPC_REQ *sipc;
   1251              sipc=malloc(sizeof(IPC_REQ));
   \   0000001C   0C00A0E3           MOV      R0,#+12
   \   00000020   140000EF           SWI      +20
   1252              sipc->name_to=ipc_my_name;
   \   00000024   ........           LDR      R1,??DataTable21  ;; `?<Constant "0/javascript">`
   1253              sipc->name_from=ipc_my_name;
   1254              sipc->data=data;
   1255              GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_GOTO_URL,sipc);
   \   00000028   0030A0E1           MOV      R3,R0
   \   0000002C   202081E2           ADD      R2,R1,#+32
   \   00000030   002080E5           STR      R2,[R0, #+0]
   \   00000034   201081E2           ADD      R1,R1,#+32
   \   00000038   041080E5           STR      R1,[R0, #+4]
   \   0000003C   084080E5           STR      R4,[R0, #+8]
   \   00000040   0220A0E3           MOV      R2,#+2
   \   00000044   B010A0E3           MOV      R1,#+176
   \   00000048   DE1C81E3           ORR      R1,R1,#0xDE00
   \   0000004C   0900A0E3           MOV      R0,#+9
   \   00000050   420C80E3           ORR      R0,R0,#0x4200
   \   00000054   000100EF           SWI      +256
   1256            }
   1257            UnlockSched();
   \                     ??GotoLink_0:
   \   00000058   470100EF           SWI      +327
   1258          }
   \   0000005C   1080BDE8           POP      {R4,PC}          ;; return
   1259          

   \                                 In segment CODE, align 4, keep-with-next
   1260          void GotoFile(void* data)
   1261          {
   \                     GotoFile:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1262            LockSched();
   \   00000008   460100EF           SWI      +326
   1263            if (!TERMINATED)
   \   0000000C   ........           LDR      R0,??DataTable20  ;; sieget_ipc + 12
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0E00001A           BNE      ??GotoFile_0
   1264            {
   1265              IPC_REQ *sipc;
   1266              sipc=malloc(sizeof(IPC_REQ));
   \   0000001C   0C00A0E3           MOV      R0,#+12
   \   00000020   140000EF           SWI      +20
   1267              sipc->name_to=ipc_my_name;
   \   00000024   ........           LDR      R1,??DataTable21  ;; `?<Constant "0/javascript">`
   1268              sipc->name_from=ipc_my_name;
   1269              sipc->data=data;
   1270              GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_GOTO_FILE,sipc);
   \   00000028   0030A0E1           MOV      R3,R0
   \   0000002C   202081E2           ADD      R2,R1,#+32
   \   00000030   002080E5           STR      R2,[R0, #+0]
   \   00000034   201081E2           ADD      R1,R1,#+32
   \   00000038   041080E5           STR      R1,[R0, #+4]
   \   0000003C   084080E5           STR      R4,[R0, #+8]
   \   00000040   0320A0E3           MOV      R2,#+3
   \   00000044   B010A0E3           MOV      R1,#+176
   \   00000048   DE1C81E3           ORR      R1,R1,#0xDE00
   \   0000004C   0900A0E3           MOV      R0,#+9
   \   00000050   420C80E3           ORR      R0,R0,#0x4200
   \   00000054   000100EF           SWI      +256
   1271            }
   1272            UnlockSched();
   \                     ??GotoFile_0:
   \   00000058   470100EF           SWI      +327
   1273          }
   \   0000005C   1080BDE8           POP      {R4,PC}          ;; return
   1274          

   \                                 In segment CODE, align 4, keep-with-next
   1275          static int maincsm_onmessage(CSM_RAM *data, GBS_MSG *msg)
   1276          {
   \                     maincsm_onmessage:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   83DF4DE2           SUB      SP,SP,#+524
   \   00000008   0040A0E1           MOV      R4,R0
   1277            MAIN_CSM *csm=(MAIN_CSM*)data;
   1278            int csm_result=1;
   1279            //IPC
   1280            if (msg->msg==MSG_IPC)
   \   0000000C   ........           LDR      R6,??DataTable27  ;; sieget_ipc
   \   00000010   0150A0E1           MOV      R5,R1
   \   00000014   040095E5           LDR      R0,[R5, #+4]
   \   00000018   0180A0E3           MOV      R8,#+1
   \   0000001C   0070A0E3           MOV      R7,#+0
   \   00000020   B010A0E3           MOV      R1,#+176
   \   00000024   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000028   010050E1           CMP      R0,R1
   \   0000002C   B900001A           BNE      ??maincsm_onmessage_0
   1281            {
   1282              IPC_REQ *ipc;
   1283              if ((ipc=(IPC_REQ*)msg->data0))
   \   00000030   0C9095E5           LDR      R9,[R5, #+12]
   \   00000034   000059E3           CMP      R9,#+0
   \   00000038   C600000A           BEQ      ??maincsm_onmessage_1
   1284              {
   1285                if (strcmp_nocase(ipc->name_to,ipc_my_name)==0)
   \   0000003C   ........           LDR      R10,??DataTable23  ;; `?<Constant "0/javascript">`
   \   00000040   000099E5           LDR      R0,[R9, #+0]
   \   00000044   20108AE2           ADD      R1,R10,#+32
   \   00000048   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   0000004C   000050E3           CMP      R0,#+0
   \   00000050   B000001A           BNE      ??maincsm_onmessage_0
   1286                {
   1287                  //    ,   
   1288                  switch (msg->submess)
   \   00000054   081095E5           LDR      R1,[R5, #+8]
   \   00000058   040099E5           LDR      R0,[R9, #+4]
   \   0000005C   011051E2           SUBS     R1,R1,#+1
   \   00000060   0600000A           BEQ      ??maincsm_onmessage_2
   \   00000064   011051E2           SUBS     R1,R1,#+1
   \   00000068   8500000A           BEQ      ??maincsm_onmessage_3
   \   0000006C   011051E2           SUBS     R1,R1,#+1
   \   00000070   9500000A           BEQ      ??maincsm_onmessage_4
   \   00000074   011051E2           SUBS     R1,R1,#+1
   \   00000078   1500000A           BEQ      ??maincsm_onmessage_5
   \   0000007C   A50000EA           B        ??maincsm_onmessage_0
   1289                  {
   1290                  case IPC_DATA_ARRIVED:
   1291                    if (ipc->name_from==ipc_my_name)
   \                     ??maincsm_onmessage_2:
   \   00000080   20108AE2           ADD      R1,R10,#+32
   \   00000084   010050E1           CMP      R0,R1
   \   00000088   A200001A           BNE      ??maincsm_onmessage_0
   1292                    {
   1293                      VIEW_GUI *p=FindGUIbyId(csm->view_id,NULL);
   \   0000008C   280094E5           LDR      R0,[R4, #+40]
   \   00000090   0010A0E3           MOV      R1,#+0
   \   00000094   090200EF           SWI      +521
   1294                      VIEWDATA *vd;
   1295                      int len=*((int*)(ipc->data));
   \   00000098   081099E5           LDR      R1,[R9, #+8]
   1296                      char *buf=((char*)(ipc->data))+4;
   1297                      if (p)
   \   0000009C   000050E3           CMP      R0,#+0
   1298                      {
   1299                        vd=p->vd;
   \   000000A0   34009015           LDRNE    R0,[R0, #+52]
   \   000000A4   ........           LDR      R2,[R1], #+4
   1300                        if (vd)
   \   000000A8   00005013           CMPNE    R0,#+0
   \   000000AC   0500000A           BEQ      ??maincsm_onmessage_6
   1301                        {
   1302                          OMS_DataArrived(vd,buf,len);
   \   000000B0   ........           _BLF     OMS_DataArrived,??OMS_DataArrived??rA
   1303                          if (IsGuiOnTop(csm->view_id)) DirectRedrawGUI();
   \   000000B4   280094E5           LDR      R0,[R4, #+40]
   \   000000B8   350100EF           SWI      +309
   \   000000BC   000050E3           CMP      R0,#+0
   \   000000C0   0000000A           BEQ      ??maincsm_onmessage_6
   \   000000C4   3F0100EF           SWI      +319
   1304                        }
   1305                      }
   1306                      mfree(ipc->data);
   \                     ??maincsm_onmessage_6:
   \   000000C8   080099E5           LDR      R0,[R9, #+8]
   \   000000CC   150000EF           SWI      +21
   1307                      mfree(ipc);
   \                     ??maincsm_onmessage_7:
   \   000000D0   8D0000EA           B        ??maincsm_onmessage_8
   1308                      csm_result=0;  //  
   1309                    }
   1310                    break;
   1311                  case IPC_DATA_END:
   1312                    if (ipc->name_from==ipc_my_name)
   \                     ??maincsm_onmessage_5:
   \   000000D4   20108AE2           ADD      R1,R10,#+32
   \   000000D8   010050E1           CMP      R0,R1
   \   000000DC   8D00001A           BNE      ??maincsm_onmessage_0
   1313                    {
   1314                      VIEW_GUI *p=FindGUIbyId(csm->view_id,NULL);
   \   000000E0   280094E5           LDR      R0,[R4, #+40]
   \   000000E4   0010A0E3           MOV      R1,#+0
   \   000000E8   090200EF           SWI      +521
   \   000000EC   0080B0E1           MOVS     R8,R0
   1315                      VIEWDATA *vd;
   1316                      if (p)
   1317                      {
   1318                        vd=p->vd;
   \   000000F0   34A09815           LDRNE    R10,[R8, #+52]
   1319                        if (vd)
   \   000000F4   00005A13           CMPNE    R10,#+0
   \   000000F8   8300000A           BEQ      ??maincsm_onmessage_8
   1320                        {
   1321                          if (view_url_mode == MODE_URL)
   \   000000FC   140096E5           LDR      R0,[R6, #+20]
   \   00000100   010050E3           CMP      R0,#+1
   \   00000104   1800001A           BNE      ??maincsm_onmessage_9
   1322                          {
   1323                            char histbuf[512];
   1324                            strcpy(histbuf, view_url+2);
   \   00000108   180096E5           LDR      R0,[R6, #+24]
   \   0000010C   021080E2           ADD      R1,R0,#+2
   \   00000110   0C008DE2           ADD      R0,SP,#+12
   \   00000114   1A0000EF           SWI      +26
   1325                            strcat(histbuf, "|");
   \   00000118   E11F8FE2           ADR      R1,??maincsm_onmessage_10  ;; "|"
   \   0000011C   0C008DE2           ADD      R0,SP,#+12
   \   00000120   170000EF           SWI      +23
   1326                            if (vd->title)
   \   00000124   E4109AE5           LDR      R1,[R10, #+228]
   \   00000128   000051E3           CMP      R1,#+0
   \   0000012C   0400000A           BEQ      ??maincsm_onmessage_11
   1327                            {
   1328                              strcat(histbuf, vd->title);
   \   00000130   0C008DE2           ADD      R0,SP,#+12
   \   00000134   170000EF           SWI      +23
   1329                              UpdateCSMname(vd->title, MODE_URL);
   \   00000138   E4009AE5           LDR      R0,[R10, #+228]
   \   0000013C   0110A0E3           MOV      R1,#+1
   \   00000140   060000EA           B        ??maincsm_onmessage_12
   1330                            }
   1331                            else
   1332                            {
   1333                              strcat(histbuf, view_url+2);
   \                     ??maincsm_onmessage_11:
   \   00000144   180096E5           LDR      R0,[R6, #+24]
   \   00000148   021080E2           ADD      R1,R0,#+2
   \   0000014C   0C008DE2           ADD      R0,SP,#+12
   \   00000150   170000EF           SWI      +23
   1334                              UpdateCSMname(view_url+2, MODE_URL);
   \   00000154   180096E5           LDR      R0,[R6, #+24]
   \   00000158   0110A0E3           MOV      R1,#+1
   \   0000015C   020080E2           ADD      R0,R0,#+2
   \                     ??maincsm_onmessage_12:
   \   00000160   ........           BL       UpdateCSMname
   1335                            }
   1336                            AddURLToHistory(histbuf);
   \   00000164   0C008DE2           ADD      R0,SP,#+12
   \   00000168   ........           _BLF     AddURLToHistory,??AddURLToHistory??rA
   1337                          }
   1338                          if (view_url_mode == MODE_FILE)
   \                     ??maincsm_onmessage_9:
   \   0000016C   140096E5           LDR      R0,[R6, #+20]
   \   00000170   000050E3           CMP      R0,#+0
   \   00000174   0500001A           BNE      ??maincsm_onmessage_13
   1339                          {
   1340                            if (vd->title)
   \   00000178   E4009AE5           LDR      R0,[R10, #+228]
   \   0000017C   000050E3           CMP      R0,#+0
   1341                            {
   1342                              UpdateCSMname(vd->title, MODE_URL);
   1343                            }
   1344                            else
   1345                            {
   1346                              UpdateCSMname(view_url, MODE_FILE);
   \   00000180   18009605           LDREQ    R0,[R6, #+24]
   \   00000184   0110A013           MOVNE    R1,#+1
   \   00000188   0010A003           MOVEQ    R1,#+0
   \   0000018C   ........           BL       UpdateCSMname
   1347                            }
   1348                          }
   1349                          if (p->isPositionDataPresent)
   \                     ??maincsm_onmessage_13:
   \   00000190   440098E5           LDR      R0,[R8, #+68]
   \   00000194   000050E3           CMP      R0,#+0
   \   00000198   1400000A           BEQ      ??maincsm_onmessage_14
   1350                          {
   1351                            unsigned int saved_viewline=p->view_line;
   \   0000019C   3C0098E5           LDR      R0,[R8, #+60]
   1352                            int line_diff = saved_viewline - vd->view_line;
   \   000001A0   1C109AE5           LDR      R1,[R10, #+28]
   1353                            int go_up = 0;
   \   000001A4   0030A0E3           MOV      R3,#+0
   \   000001A8   01B050E0           SUBS     R11,R0,R1
   \   000001AC   00308DE5           STR      R3,[SP, #+0]
   1354                            if (line_diff < 0)
   \   000001B0   0400005A           BPL      ??maincsm_onmessage_15
   1355                            {
   1356                              go_up = 1;
   \   000001B4   0130A0E3           MOV      R3,#+1
   \   000001B8   00308DE5           STR      R3,[SP, #+0]
   1357                              line_diff = vd->view_line - saved_viewline;
   \   000001BC   00B041E0           SUB      R11,R1,R0
   \   000001C0   000000EA           B        ??maincsm_onmessage_15
   1358                            }
   1359                            while (line_diff--)
   1360                            {
   1361                              if (go_up)
   1362                              {
   1363                                LineUp(vd);
   \                     ??maincsm_onmessage_16:
   \   000001C4   ........           _BLF     LineUp,??LineUp??rA
   1364                              }
   \                     ??maincsm_onmessage_15:
   \   000001C8   0B00A0E1           MOV      R0,R11
   \   000001CC   01B040E2           SUB      R11,R0,#+1
   \   000001D0   000050E3           CMP      R0,#+0
   \   000001D4   0500000A           BEQ      ??maincsm_onmessage_14
   \   000001D8   00009DE5           LDR      R0,[SP, #+0]
   \   000001DC   000050E3           CMP      R0,#+0
   \   000001E0   0A00A0E1           MOV      R0,R10
   \   000001E4   F6FFFF1A           BNE      ??maincsm_onmessage_16
   1365                              else
   1366                              {
   1367                                LineDown(vd);
   \   000001E8   ........           _BLF     LineDown,??LineDown??rA
   \   000001EC   F5FFFFEA           B        ??maincsm_onmessage_15
   1368                              }
   1369                            }
   1370                          }
   1371                          if (p->pos_cur_ref != 0xFFFFFFFF)
   \                     ??maincsm_onmessage_14:
   \   000001F0   400098E5           LDR      R0,[R8, #+64]
   \   000001F4   07B0E0E1           MVN      R11,R7
   \   000001F8   0B0050E1           CMP      R0,R11
   1372                            vd->pos_cur_ref = p->pos_cur_ref;
   1373                          else
   1374                          {
   1375                            if (view_url_mode == MODE_URL)
   \   000001FC   14009605           LDREQ    R0,[R6, #+20]
   \   00000200   28008A15           STRNE    R0,[R10, #+40]
   \   00000204   01005003           CMPEQ    R0,#+1
   \   00000208   0800001A           BNE      ??maincsm_onmessage_17
   1376                            {
   1377                              char* local_link = strchr(view_url+2, '#');
   \   0000020C   180096E5           LDR      R0,[R6, #+24]
   \   00000210   2310A0E3           MOV      R1,#+35
   \   00000214   020080E2           ADD      R0,R0,#+2
   \   00000218   180000EF           SWI      +24
   1378                              if (local_link)
   \   0000021C   000050E3           CMP      R0,#+0
   \   00000220   0200000A           BEQ      ??maincsm_onmessage_17
   1379                              {
   1380                                GoToLocalLinkPos(vd,local_link+1);
   \   00000224   011080E2           ADD      R1,R0,#+1
   \   00000228   0A00A0E1           MOV      R0,R10
   \   0000022C   ........           BL       GoToLocalLinkPos
   1381                              }  
   1382                            }
   1383                          }
   1384                          
   1385                          if (IsGuiOnTop(csm->view_id)) DirectRedrawGUI();
   \                     ??maincsm_onmessage_17:
   \   00000230   280094E5           LDR      R0,[R4, #+40]
   \   00000234   350100EF           SWI      +309
   \   00000238   000050E3           CMP      R0,#+0
   \   0000023C   0000000A           BEQ      ??maincsm_onmessage_18
   \   00000240   3F0100EF           SWI      +319
   1386                          
   1387                          if ((p->pos_cur_ref != 0xFFFFFFFF) && (vd->pos_cur_ref == 0xFFFFFFFF))
   \                     ??maincsm_onmessage_18:
   \   00000244   400098E5           LDR      R0,[R8, #+64]
   \   00000248   0B0050E1           CMP      R0,R11
   \   0000024C   2E00000A           BEQ      ??maincsm_onmessage_8
   \   00000250   28009AE5           LDR      R0,[R10, #+40]
   \   00000254   0B0050E1           CMP      R0,R11
   \   00000258   2B00001A           BNE      ??maincsm_onmessage_8
   1388                          {
   1389                            LineDown(vd);
   \   0000025C   0A00A0E1           MOV      R0,R10
   \   00000260   ........           _BLF     LineDown,??LineDown??rA
   1390                            vd->pos_cur_ref = p->pos_cur_ref;
   \   00000264   400098E5           LDR      R0,[R8, #+64]
   \   00000268   28008AE5           STR      R0,[R10, #+40]
   1391                            if (IsGuiOnTop(csm->view_id)) DirectRedrawGUI();
   \   0000026C   280094E5           LDR      R0,[R4, #+40]
   \   00000270   350100EF           SWI      +309
   \   00000274   000050E3           CMP      R0,#+0
   \   00000278   2300000A           BEQ      ??maincsm_onmessage_8
   \   0000027C   3F0100EF           SWI      +319
   1392                          }
   1393                              
   1394                        }
   1395                      }
   1396                      mfree(ipc);
   \   00000280   210000EA           B        ??maincsm_onmessage_8
   1397                      csm_result=0;  //  
   1398                    }
   1399                    break; 
   1400                  case IPC_GOTO_URL:
   1401                    if (ipc->name_from==ipc_my_name)
   \                     ??maincsm_onmessage_3:
   \   00000284   20108AE2           ADD      R1,R10,#+32
   \   00000288   010050E1           CMP      R0,R1
   \   0000028C   2100001A           BNE      ??maincsm_onmessage_0
   1402                    {
   1403                      FreeViewUrl();
   \   00000290   ........           BL       FreeViewUrl
   1404                      goto_url = ToWeb(goto_url,1,1);
   \   00000294   1C0096E5           LDR      R0,[R6, #+28]
   \   00000298   0120A0E3           MOV      R2,#+1
   \   0000029C   0210A0E1           MOV      R1,R2
   \   000002A0   ........           _BLF     ToWeb,??ToWeb??rA
   \   000002A4   1C0086E5           STR      R0,[R6, #+28]
   1405                      view_url=goto_url;
   \   000002A8   180086E5           STR      R0,[R6, #+24]
   1406                      view_url_mode=MODE_URL;
   \   000002AC   0800A0E1           MOV      R0,R8
   \   000002B0   140086E5           STR      R0,[R6, #+20]
   1407                      goto_url=NULL;
   \   000002B4   1C7086E5           STR      R7,[R6, #+28]
   1408                      csm->view_id=CreateViewGUI(0, ipc->data);
   \   000002B8   081099E5           LDR      R1,[R9, #+8]
   \   000002BC   0700A0E1           MOV      R0,R7
   \   000002C0   ........           BL       CreateViewGUI
   \   000002C4   280084E5           STR      R0,[R4, #+40]
   1409                      csm_result=0;  // 
   \   000002C8   0F0000EA           B        ??maincsm_onmessage_8
   1410                      mfree(ipc);
   1411                    }
   1412                    break;
   1413                  case IPC_GOTO_FILE:
   1414                    if (ipc->name_from==ipc_my_name)
   \                     ??maincsm_onmessage_4:
   \   000002CC   20108AE2           ADD      R1,R10,#+32
   \   000002D0   010050E1           CMP      R0,R1
   \   000002D4   0F00001A           BNE      ??maincsm_onmessage_0
   1415                    {
   1416                      if (ParseInputFilename(goto_url))
   \   000002D8   1C0096E5           LDR      R0,[R6, #+28]
   \   000002DC   ........           BL       ParseInputFilename
   \   000002E0   000050E3           CMP      R0,#+0
   \   000002E4   0300000A           BEQ      ??maincsm_onmessage_19
   1417                      {
   1418                        csm->view_id=CreateViewGUI(1, ipc->data);
   \   000002E8   081099E5           LDR      R1,[R9, #+8]
   \   000002EC   0100A0E3           MOV      R0,#+1
   \   000002F0   ........           BL       CreateViewGUI
   \   000002F4   280084E5           STR      R0,[R4, #+40]
   1419                      }
   1420                      _safe_free(goto_url);
   \                     ??maincsm_onmessage_19:
   \   000002F8   1C0096E5           LDR      R0,[R6, #+28]
   \   000002FC   000050E3           CMP      R0,#+0
   \   00000300   0000000A           BEQ      ??maincsm_onmessage_20
   \   00000304   150000EF           SWI      +21
   \                     ??maincsm_onmessage_20:
   \   00000308   1C7086E5           STR      R7,[R6, #+28]
   1421                      csm_result=0;   //  
   1422                      mfree(ipc);
   \                     ??maincsm_onmessage_8:
   \   0000030C   0900A0E1           MOV      R0,R9
   \   00000310   150000EF           SWI      +21
   \   00000314   0080A0E3           MOV      R8,#+0
   1423                    }
   1424                    break;
   1425                  }
   1426                }
   1427              }
   1428            }
   1429            if (msg->msg==MSG_RECONFIGURE_REQ)
   \                     ??maincsm_onmessage_0:
   \   00000318   040095E5           LDR      R0,[R5, #+4]
   \   0000031C   AF10A0E3           MOV      R1,#+175
   \   00000320   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000324   010050E1           CMP      R0,R1
   \   00000328   0A00001A           BNE      ??maincsm_onmessage_1
   1430            {
   1431              if (strcmp_nocase(successed_config_filename,(char *)msg->data0)==0)
   \   0000032C   74019FE5           LDR      R0,??maincsm_onmessage_10+0x4  ;; successed_config_filename
   \   00000330   0C1095E5           LDR      R1,[R5, #+12]
   \   00000334   000090E5           LDR      R0,[R0, #+0]
   \   00000338   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   0000033C   000050E3           CMP      R0,#+0
   \   00000340   0400001A           BNE      ??maincsm_onmessage_1
   1432              {
   1433                //ShowMSG(1,(int)"BalletMini config updated!");
   1434                ShowMSG(1,(int)lgpData[LGP_CfgUpdated]);
   \   00000344   60019FE5           LDR      R0,??maincsm_onmessage_10+0x8  ;; lgpData + 12
   \   00000348   001090E5           LDR      R1,[R0, #+0]
   \   0000034C   0100A0E3           MOV      R0,#+1
   \   00000350   480100EF           SWI      +328
   1435                InitConfig();
   \   00000354   ........           _BLF     InitConfig,??InitConfig??rA
   1436              }    
   1437            }
   1438            ParseSocketMsg(msg);
   \                     ??maincsm_onmessage_1:
   \   00000358   0500A0E1           MOV      R0,R5
   \   0000035C   ........           _BLF     ParseSocketMsg,??ParseSocketMsg??rA
   1439            if (msg->msg==MSG_GUI_DESTROYED)
   \   00000360   040095E5           LDR      R0,[R5, #+4]
   \   00000364   0E10A0E3           MOV      R1,#+14
   \   00000368   641C81E3           ORR      R1,R1,#0x6400
   \   0000036C   010050E1           CMP      R0,R1
   \   00000370   4800001A           BNE      ??maincsm_onmessage_21
   1440            {
   1441              if ((int)msg->data0==csm->view_id)
   \   00000374   0C0095E5           LDR      R0,[R5, #+12]
   \   00000378   281094E5           LDR      R1,[R4, #+40]
   \   0000037C   010050E1           CMP      R0,R1
   \   00000380   2A00001A           BNE      ??maincsm_onmessage_22
   1442              {
   1443                switch((int)msg->data1)
   \   00000384   100095E5           LDR      R0,[R5, #+16]
   \   00000388   20919FE5           LDR      R9,??maincsm_onmessage_10+0xC  ;; GotoFile
   \   0000038C   20A19FE5           LDR      R10,??maincsm_onmessage_10+0x10  ;; GotoLink
   \   00000390   FB0050E2           SUBS     R0,R0,#+251
   \   00000394   1500000A           BEQ      ??maincsm_onmessage_23
   \   00000398   020050E2           SUBS     R0,R0,#+2
   \   0000039C   0400000A           BEQ      ??maincsm_onmessage_24
   \   000003A0   010050E2           SUBS     R0,R0,#+1
   \   000003A4   0D00000A           BEQ      ??maincsm_onmessage_25
   \   000003A8   010050E2           SUBS     R0,R0,#+1
   \   000003AC   1800000A           BEQ      ??maincsm_onmessage_26
   \   000003B0   1C0000EA           B        ??maincsm_onmessage_27
   1444                {
   1445                case 0xFD: //forward
   1446                  {
   1447                    mfree(PopPageFromStack());
   \                     ??maincsm_onmessage_24:
   \   000003B4   ........           _BLF     PopPageFromStack,??PopPageFromStack??rA
   \   000003B8   150000EF           SWI      +21
   1448                    if ((goto_url=ForwardPageFromStack()))
   \   000003BC   ........           _BLF     ForwardPageFromStack,??ForwardPageFromStack??rA
   \                     ??maincsm_onmessage_28:
   \   000003C0   1C0086E5           STR      R0,[R6, #+28]
   \   000003C4   000050E3           CMP      R0,#+0
   \   000003C8   1600000A           BEQ      ??maincsm_onmessage_27
   1449                    {
   1450                      SUBPROC((void*)GotoFile, getPageParams());
   \   000003CC   ........           _BLF     getPageParams,??getPageParams??rA
   \   000003D0   0010A0E1           MOV      R1,R0
   \   000003D4   0900A0E1           MOV      R0,R9
   \                     ??maincsm_onmessage_29:
   \   000003D8   710100EF           SWI      +369
   1451                      break;
   \   000003DC   130000EA           B        ??maincsm_onmessage_22
   1452                    }
   1453                    goto L_CLOSE;
   1454                  }
   1455                case 0xFE: //    
   1456                  {
   1457                    mfree(PopPageFromStack());
   \                     ??maincsm_onmessage_25:
   \   000003E0   ........           _BLF     PopPageFromStack,??PopPageFromStack??rA
   \   000003E4   150000EF           SWI      +21
   1458                    if ((goto_url=PopPageFromStack()))
   \   000003E8   ........           _BLF     PopPageFromStack,??PopPageFromStack??rA
   \   000003EC   F3FFFFEA           B        ??maincsm_onmessage_28
   1459                    {
   1460                      SUBPROC((void*)GotoFile, getPageParams());
   1461                      break;
   1462                    }
   1463                    goto L_CLOSE;
   1464                  }
   1465                case 0xFB: //reload
   1466                  {
   1467                    mfree(PopPageFromStack());
   \                     ??maincsm_onmessage_23:
   \   000003F0   ........           _BLF     PopPageFromStack,??PopPageFromStack??rA
   \   000003F4   150000EF           SWI      +21
   1468                    if (goto_url)
   \   000003F8   1C0096E5           LDR      R0,[R6, #+28]
   \   000003FC   000050E3           CMP      R0,#+0
   \   00000400   0800000A           BEQ      ??maincsm_onmessage_27
   1469                    {
   1470                      SUBPROC((void*)GotoLink, getPageParams());
   \   00000404   ........           _BLF     getPageParams,??getPageParams??rA
   \   00000408   0010A0E1           MOV      R1,R0
   \   0000040C   0A00A0E1           MOV      R0,R10
   \   00000410   F0FFFFEA           B        ??maincsm_onmessage_29
   1471                      break;
   1472                    }
   1473                    else
   1474                      goto L_CLOSE;
   1475                  }
   1476                case 0xFF: //  
   1477                  if (goto_url)
   \                     ??maincsm_onmessage_26:
   \   00000414   1C0096E5           LDR      R0,[R6, #+28]
   \   00000418   000050E3           CMP      R0,#+0
   1478                  {
   1479                    SUBPROC((void*)GotoLink, 0);
   \   0000041C   0010A013           MOVNE    R1,#+0
   \   00000420   0A00A011           MOVNE    R0,R10
   \   00000424   EBFFFF1A           BNE      ??maincsm_onmessage_29
   1480                    break;
   1481                  }
   1482                  else
   1483                    goto L_CLOSE;
   1484                default:
   1485                L_CLOSE:
   1486                  csm->csm.state=-3;
   \                     ??maincsm_onmessage_27:
   \   00000428   0200E0E3           MVN      R0,#+2
   \   0000042C   100084E5           STR      R0,[R4, #+16]
   1487                  break;
   1488                }
   1489              }
   1490              if ((int)msg->data0==csm->goto_url)
   \                     ??maincsm_onmessage_22:
   \   00000430   0C0095E5           LDR      R0,[R5, #+12]
   \   00000434   2C1094E5           LDR      R1,[R4, #+44]
   \   00000438   010050E1           CMP      R0,R1
   \   0000043C   0600001A           BNE      ??maincsm_onmessage_30
   1491              {
   1492                if ((int)msg->data1==0xFF)
   \   00000440   100095E5           LDR      R0,[R5, #+16]
   \   00000444   FF0050E3           CMP      R0,#+255
   \   00000448   0200001A           BNE      ??maincsm_onmessage_31
   1493                {
   1494                  GeneralFunc_flag1(csm->view_id,0xFF);
   \   0000044C   280094E5           LDR      R0,[R4, #+40]
   \   00000450   FF10A0E3           MOV      R1,#+255
   \   00000454   3D0100EF           SWI      +317
   1495                }
   1496                csm->goto_url=0;
   \                     ??maincsm_onmessage_31:
   \   00000458   2C7084E5           STR      R7,[R4, #+44]
   1497              }
   1498              if ((int)msg->data0==csm->sel_bmk)
   \                     ??maincsm_onmessage_30:
   \   0000045C   0C0095E5           LDR      R0,[R5, #+12]
   \   00000460   301094E5           LDR      R1,[R4, #+48]
   \   00000464   010050E1           CMP      R0,R1
   \   00000468   0600001A           BNE      ??maincsm_onmessage_32
   1499              {
   1500                if ((int)msg->data1==0xFF)
   \   0000046C   100095E5           LDR      R0,[R5, #+16]
   \   00000470   FF0050E3           CMP      R0,#+255
   \   00000474   0200001A           BNE      ??maincsm_onmessage_33
   1501                {
   1502                  GeneralFunc_flag1(csm->view_id,0xFF);
   \   00000478   280094E5           LDR      R0,[R4, #+40]
   \   0000047C   FF10A0E3           MOV      R1,#+255
   \   00000480   3D0100EF           SWI      +317
   1503                }
   1504                csm->sel_bmk=0;
   \                     ??maincsm_onmessage_33:
   \   00000484   307084E5           STR      R7,[R4, #+48]
   1505              }
   1506              if ((int)msg->data0==csm->main_menu_id)
   \                     ??maincsm_onmessage_32:
   \   00000488   0C0095E5           LDR      R0,[R5, #+12]
   \   0000048C   341094E5           LDR      R1,[R4, #+52]
   \   00000490   010050E1           CMP      R0,R1
   1507              {
   1508                csm->main_menu_id=0;
   \   00000494   34708405           STREQ    R7,[R4, #+52]
   1509              }
   1510            }
   1511            return(csm_result);
   \                     ??maincsm_onmessage_21:
   \   00000498   0800A0E1           MOV      R0,R8
   \   0000049C   83DF8DE2           ADD      SP,SP,#+524
   \   000004A0   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??maincsm_onmessage_10:
   \   000004A4   7C000000           DC8      "|",+0,+0
   \   000004A8   ........           DC32     successed_config_filename
   \   000004AC   ........           DC32     lgpData + 12
   \   000004B0   ........           DC32     GotoFile
   \   000004B4   ........           DC32     GotoLink
   1512          }
   1513          

   \                                 In segment DATA_Z, align 4, align-sorted
   1514          static unsigned short maincsm_name_body[140];
   \                     maincsm_name_body:
   \   00000000                      DS8 280
   1515          
   1516          static const struct
   1517          {
   1518            CSM_DESC maincsm;
   1519            WSHDR maincsm_name;

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "BM: %w">`:
   \   00000000   424D3A202577       DC8 "BM: %w"
   \              00          
   \   00000007   00                 DC8 0
   \   00000008   ............       DC32 maincsm_onmessage, maincsm_oncreate, 0, 0, 0, 0, maincsm_onclose
   \              ....00000000
   \              000000000000
   \              000000000000
   \              ........    
   \   00000024   380000000100       DC32 56, 1, minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0
   \              0000........
   \              ........CCCC
   \              AA5555AA3333
   \              00000000    
   \   00000040   8B00               DC16 139
   \   00000042   0000               DC8 0, 0
   1520          }MAINCSM =
   1521          {
   1522            {
   1523            maincsm_onmessage,
   1524            maincsm_oncreate,
   1525          #ifdef NEWSGOLD
   1526            0,
   1527            0,
   1528            0,
   1529            0,
   1530          #endif
   1531            maincsm_onclose,
   1532            sizeof(MAIN_CSM),
   1533            1,
   1534            &minus11
   1535            },
   1536            {
   1537              maincsm_name_body,
   1538              NAMECSM_MAGIC1,
   1539              NAMECSM_MAGIC2,
   1540              0x0,
   1541              139
   1542            }
   1543          };
   1544          

   \                                 In segment CODE, align 4, keep-with-next
   1545          static void UpdateCSMname(char *url, int mode)
   1546          {
   \                     UpdateCSMname:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   1547            WSHDR *ws=AllocWS(256);
   \   0000000C   400FA0E3           MOV      R0,#+256
   \   00000010   250100EF           SWI      +293
   \   00000014   0060A0E1           MOV      R6,R0
   1548            switch(mode)
   \   00000018   000055E3           CMP      R5,#+0
   \   0000001C   0200000A           BEQ      ??UpdateCSMname_0
   \   00000020   015055E2           SUBS     R5,R5,#+1
   \   00000024   0300000A           BEQ      ??UpdateCSMname_1
   \   00000028   050000EA           B        ??UpdateCSMname_2
   1549            {
   1550            case MODE_FILE:
   1551              str_2ws(ws,url,255);
   \                     ??UpdateCSMname_0:
   \   0000002C   FF20A0E3           MOV      R2,#+255
   \   00000030   0410A0E1           MOV      R1,R4
   \   00000034   040000EA           B        ??UpdateCSMname_3
   1552              break;
   1553            case MODE_URL:
   1554              ascii2ws(ws,url);
   \                     ??UpdateCSMname_1:
   \   00000038   0410A0E1           MOV      R1,R4
   \   0000003C   ........           _BLF     ascii2ws,??ascii2ws??rA
   \   00000040   020000EA           B        ??UpdateCSMname_4
   1555              break;
   1556            default:
   1557              str_2ws(ws,"",1);
   \                     ??UpdateCSMname_2:
   \   00000044   0120A0E3           MOV      R2,#+1
   \   00000048   081F8FE2           ADR      R1,??UpdateCSMname_5  ;; ""
   \                     ??UpdateCSMname_3:
   \   0000004C   6C0100EF           SWI      +364
   1558              break;
   1559            }
   1560            wsprintf((WSHDR *)(&MAINCSM.maincsm_name),"BM: %w",ws);
   \                     ??UpdateCSMname_4:
   \   00000050   ........           LDR      R0,??DataTable29  ;; `?<Constant "BM: %w">`
   \   00000054   0620A0E1           MOV      R2,R6
   \   00000058   0010A0E1           MOV      R1,R0
   \   0000005C   300080E2           ADD      R0,R0,#+48
   \   00000060   240100EF           SWI      +292
   1561            FreeWS(ws);
   \   00000064   0600A0E1           MOV      R0,R6
   \   00000068   290100EF           SWI      +297
   1562          }
   \   0000006C   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??UpdateCSMname_5:
   \   00000070   00000000           DC8      "",+0,+0,+0
   1563          

   \                                 In segment CODE, align 4, keep-with-next
   1564          int ReadUrlFile(char *url_file)
   1565          {
   \                     ReadUrlFile:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   2CD04DE2           SUB      SP,SP,#+44
   \   00000008   0040A0E1           MOV      R4,R0
   1566            int f;
   1567            unsigned int err;
   1568            int fsize;
   1569            char *buf, *s;
   1570            FSTATS stat;
   1571            if (GetFileStats(url_file,&stat,&err)==-1) return 0;
   \   0000000C   0050E0E3           MVN      R5,#+0
   \   00000010   0D20A0E1           MOV      R2,SP
   \   00000014   04108DE2           ADD      R1,SP,#+4
   \   00000018   840000EF           SWI      +132
   \   0000001C   050050E1           CMP      R0,R5
   \   00000020   0200001A           BNE      ??ReadUrlFile_0
   \                     ??ReadUrlFile_1:
   \   00000024   0000A0E3           MOV      R0,#+0
   \   00000028   2CD08DE2           ADD      SP,SP,#+44
   \   0000002C   F080BDE8           POP      {R4-R7,PC}
   1572            if ((fsize=stat.size)<=0) return 0;
   \                     ??ReadUrlFile_0:
   \   00000030   08609DE5           LDR      R6,[SP, #+8]
   \   00000034   010056E3           CMP      R6,#+1
   \   00000038   F9FFFFBA           BLT      ??ReadUrlFile_1
   1573            if ((f=fopen(url_file,A_ReadOnly+A_BIN,P_READ,&err))==-1) return 0;
   \   0000003C   0D30A0E1           MOV      R3,SP
   \   00000040   8020A0E3           MOV      R2,#+128
   \   00000044   801CA0E3           MOV      R1,#+32768
   \   00000048   0400A0E1           MOV      R0,R4
   \   0000004C   0A0000EF           SWI      +10
   \   00000050   0070A0E1           MOV      R7,R0
   \   00000054   050057E1           CMP      R7,R5
   \   00000058   F1FFFF0A           BEQ      ??ReadUrlFile_1
   1574            FreeViewUrl();
   \   0000005C   ........           BL       FreeViewUrl
   1575            buf=malloc(fsize+3);
   \   00000060   030086E2           ADD      R0,R6,#+3
   \   00000064   140000EF           SWI      +20
   \   00000068   0040A0E1           MOV      R4,R0
   1576            buf[0]='0';
   \   0000006C   3000A0E3           MOV      R0,#+48
   \   00000070   0000C4E5           STRB     R0,[R4, #+0]
   1577            buf[1]='/';
   \   00000074   2F00A0E3           MOV      R0,#+47
   \   00000078   0100C4E5           STRB     R0,[R4, #+1]
   1578            buf[fread(f,buf+2,fsize,&err)+2]=0;
   \   0000007C   0050A0E3           MOV      R5,#+0
   \   00000080   0D30A0E1           MOV      R3,SP
   \   00000084   0620A0E1           MOV      R2,R6
   \   00000088   021084E2           ADD      R1,R4,#+2
   \   0000008C   0700A0E1           MOV      R0,R7
   \   00000090   0B0000EF           SWI      +11
   \   00000094   040080E0           ADD      R0,R0,R4
   \   00000098   0250C0E5           STRB     R5,[R0, #+2]
   1579            fclose(f,&err);
   \   0000009C   0D10A0E1           MOV      R1,SP
   \   000000A0   0700A0E1           MOV      R0,R7
   \   000000A4   0D0000EF           SWI      +13
   1580            s=buf;
   \   000000A8   0400A0E1           MOV      R0,R4
   \   000000AC   0010D0E5           LDRB     R1,[R0, #+0]
   \   000000B0   210051E3           CMP      R1,#+33
   \   000000B4   0200003A           BCC      ??ReadUrlFile_2
   1581            while(*s>32) s++;
   \                     ??ReadUrlFile_3:
   \   000000B8   0110F0E5           LDRB     R1,[R0, #+1]!
   \   000000BC   210051E3           CMP      R1,#+33
   \   000000C0   FCFFFF2A           BCS      ??ReadUrlFile_3
   1582            *s++=0;
   \                     ??ReadUrlFile_2:
   \   000000C4   ........           STRB     R5,[R0], #+1
   1583            view_url=realloc(buf,s-buf);
   \   000000C8   ........           LDR      R5,??DataTable27  ;; sieget_ipc
   \   000000CC   041040E0           SUB      R1,R0,R4
   \   000000D0   0400A0E1           MOV      R0,R4
   \   000000D4   BA0000EF           SWI      +186
   \   000000D8   180085E5           STR      R0,[R5, #+24]
   1584            view_url_mode=MODE_URL;
   \   000000DC   0100A0E3           MOV      R0,#+1
   \   000000E0   140085E5           STR      R0,[R5, #+20]
   1585            return (1);
   \   000000E4   2CD08DE2           ADD      SP,SP,#+44
   \   000000E8   F080BDE8           POP      {R4-R7,PC}       ;; return
   1586          }
   1587          

   \                                 In segment CODE, align 4, keep-with-next
   1588          static int ParseInputFilename(const char *fn)
   1589          {
   1590            if (!strcmp_nocase(fn,"bookmarks"))
   \                     ParseInputFilename:
   \   00000000   A0109FE5           LDR      R1,??ParseInputFilename_0+0x8  ;; `?<Constant "bookmarks">`
   \   00000004   70402DE9           PUSH     {R4-R6,LR}
   \   00000008   ........           LDR      R5,??DataTable27  ;; sieget_ipc
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   00000014   000050E3           CMP      R0,#+0
   1591            {
   1592              view_url_mode=MODE_BOOKMARKS;
   \   00000018   0200A003           MOVEQ    R0,#+2
   \   0000001C   14008505           STREQ    R0,[R5, #+20]
   1593              return 1;
   \   00000020   1100000A           BEQ      ??ParseInputFilename_1
   1594            }
   1595            else
   1596            {
   1597              char *s=strrchr(fn,'.');
   \   00000024   2E10A0E3           MOV      R1,#+46
   \   00000028   0400A0E1           MOV      R0,R4
   \   0000002C   170100EF           SWI      +279
   \   00000030   0060A0E1           MOV      R6,R0
   1598              FreeViewUrl();
   \   00000034   ........           BL       FreeViewUrl
   1599              if (s)
   \   00000038   000056E3           CMP      R6,#+0
   \   0000003C   1500000A           BEQ      ??ParseInputFilename_2
   1600              {
   1601                s++;
   1602                if (!strcmp_nocase(s,"oms"))
   \   00000040   161F8FE2           ADR      R1,??ParseInputFilename_0  ;; "oms"
   \   00000044   016086E2           ADD      R6,R6,#+1
   \   00000048   0600A0E1           MOV      R0,R6
   \   0000004C   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   00000050   000050E3           CMP      R0,#+0
   \   00000054   0600001A           BNE      ??ParseInputFilename_3
   1603                {
   1604                  view_url=globalstr(fn);
   \   00000058   0400A0E1           MOV      R0,R4
   \   0000005C   ........           _BLF     globalstr,??globalstr??rA
   \   00000060   180085E5           STR      R0,[R5, #+24]
   1605                  view_url_mode=MODE_FILE;
   \   00000064   0000A0E3           MOV      R0,#+0
   \   00000068   140085E5           STR      R0,[R5, #+20]
   1606                }
   1607                else if (!strcmp_nocase(s,"url"))
   1608                {
   1609                  if (!ReadUrlFile((char *)fn)) return (0);
   1610                }
   1611                else return 0;
   1612                return 1;
   \                     ??ParseInputFilename_1:
   \   0000006C   0100A0E3           MOV      R0,#+1
   \   00000070   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??ParseInputFilename_3:
   \   00000074   0A1F8FE2           ADR      R1,??ParseInputFilename_0+0x4  ;; "url"
   \   00000078   0600A0E1           MOV      R0,R6
   \   0000007C   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   00000080   000050E3           CMP      R0,#+0
   \   00000084   0300001A           BNE      ??ParseInputFilename_2
   \   00000088   0400A0E1           MOV      R0,R4
   \   0000008C   ........           BL       ReadUrlFile
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   F4FFFF1A           BNE      ??ParseInputFilename_1
   \                     ??ParseInputFilename_2:
   \   00000098   0000A0E3           MOV      R0,#+0
   \   0000009C   7080BDE8           POP      {R4-R6,PC}
   \                     ??ParseInputFilename_0:
   \   000000A0   6F6D7300           DC8      "oms"
   \   000000A4   75726C00           DC8      "url"
   \   000000A8   ........           DC32     `?<Constant "bookmarks">`
   1613              }
   1614            }
   1615            return 0;
   1616          }
   1617          

   \                                 In segment DATA_Z, align 4, align-sorted
   1618          char AUTH_PREFIX[64];
   \                     AUTH_PREFIX:
   \   00000000                      DS8 64
   1619          char AUTH_CODE[128];
   \                     AUTH_CODE:
   \   00000040                      DS8 128
   1620          

   \                                 In segment CODE, align 4, keep-with-next
   1621          int LoadAuthCode(void)
   1622          {
   1623            int f;
   1624            unsigned int err;
   1625            int fsize;
   1626            char *buf;
   1627            char *s;
   1628            int c;
   1629            FSTATS stat;
   1630            char * authdata_file = getSymbolicPath("$ballet\\AuthCode");
   \                     LoadAuthCode:
   \   00000000   38019FE5           LDR      R0,??LoadAuthCode_0  ;; `?<Constant "$ballet\\\\AuthCode">`
   \   00000004   F0402DE9           PUSH     {R4-R7,LR}
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   1631            if (GetFileStats(authdata_file,&stat,&err)==-1) return 0;
   \   0000000C   0060E0E3           MVN      R6,#+0
   \   00000010   ........           _BLF     getSymbolicPath,??getSymbolicPath??rA
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   0D20A0E1           MOV      R2,SP
   \   0000001C   04108DE2           ADD      R1,SP,#+4
   \   00000020   840000EF           SWI      +132
   \   00000024   060050E1           CMP      R0,R6
   \   00000028   0200001A           BNE      ??LoadAuthCode_1
   \                     ??LoadAuthCode_2:
   \   0000002C   0000A0E3           MOV      R0,#+0
   \   00000030   2CD08DE2           ADD      SP,SP,#+44
   \   00000034   F080BDE8           POP      {R4-R7,PC}
   1632            if ((fsize=stat.size)<=0) return 0;
   \                     ??LoadAuthCode_1:
   \   00000038   08709DE5           LDR      R7,[SP, #+8]
   \   0000003C   010057E3           CMP      R7,#+1
   \   00000040   F9FFFFBA           BLT      ??LoadAuthCode_2
   1633            if ((f=fopen(authdata_file,A_ReadOnly+A_BIN,P_READ,&err))==-1) return 0;
   \   00000044   0D30A0E1           MOV      R3,SP
   \   00000048   8020A0E3           MOV      R2,#+128
   \   0000004C   801CA0E3           MOV      R1,#+32768
   \   00000050   0500A0E1           MOV      R0,R5
   \   00000054   0A0000EF           SWI      +10
   \   00000058   0040A0E1           MOV      R4,R0
   \   0000005C   060054E1           CMP      R4,R6
   \   00000060   F1FFFF0A           BEQ      ??LoadAuthCode_2
   1634            mfree(authdata_file);
   \   00000064   0500A0E1           MOV      R0,R5
   \   00000068   150000EF           SWI      +21
   1635            buf=malloc(fsize+1);
   \   0000006C   010087E2           ADD      R0,R7,#+1
   \   00000070   140000EF           SWI      +20
   \   00000074   0050A0E1           MOV      R5,R0
   1636            buf[fread(f,buf,fsize,&err)]=0;
   \   00000078   0060A0E3           MOV      R6,#+0
   \   0000007C   0D30A0E1           MOV      R3,SP
   \   00000080   0720A0E1           MOV      R2,R7
   \   00000084   0510A0E1           MOV      R1,R5
   \   00000088   0400A0E1           MOV      R0,R4
   \   0000008C   0B0000EF           SWI      +11
   \   00000090   0560C0E7           STRB     R6,[R0, +R5]
   1637            fclose(f,&err);
   \   00000094   0D10A0E1           MOV      R1,SP
   \   00000098   0400A0E1           MOV      R0,R4
   \   0000009C   0D0000EF           SWI      +13
   1638            s=buf;
   1639            f=0;
   1640            err=0;
   \   000000A0   9C209FE5           LDR      R2,??LoadAuthCode_0+0x4  ;; AUTH_PREFIX
   \   000000A4   0500A0E1           MOV      R0,R5
   \   000000A8   0040A0E3           MOV      R4,#+0
   \   000000AC   00608DE5           STR      R6,[SP, #+0]
   \   000000B0   040000EA           B        ??LoadAuthCode_3
   1641            while((c=*s++)>=32)
   1642            {
   1643              if (c=='.') break;
   \                     ??LoadAuthCode_4:
   \   000000B4   2E0051E3           CMP      R1,#+46
   \   000000B8   0B00000A           BEQ      ??LoadAuthCode_5
   1644              if (f<63) AUTH_PREFIX[f++]=c;
   \   000000BC   3F0054E3           CMP      R4,#+63
   \   000000C0   0210C4B7           STRBLT   R1,[R4, +R2]
   \   000000C4   014084B2           ADDLT    R4,R4,#+1
   1645            }
   \                     ??LoadAuthCode_3:
   \   000000C8   ........           LDRB     R1,[R0], #+1
   \   000000CC   200051E3           CMP      R1,#+32
   \   000000D0   F7FFFFAA           BGE      ??LoadAuthCode_4
   1646            if (c)
   \   000000D4   000051E3           CMP      R1,#+0
   \   000000D8   0300001A           BNE      ??LoadAuthCode_5
   \   000000DC   120000EA           B        ??LoadAuthCode_6
   1647            {
   1648              while((c=*s)<32)
   1649              {
   1650                if (!c) goto LEND;
   \                     ??LoadAuthCode_7:
   \   000000E0   000051E3           CMP      R1,#+0
   \   000000E4   1000000A           BEQ      ??LoadAuthCode_6
   1651                s++;
   \   000000E8   010080E2           ADD      R0,R0,#+1
   1652              }
   \                     ??LoadAuthCode_5:
   \   000000EC   0010D0E5           LDRB     R1,[R0, #+0]
   \   000000F0   200051E3           CMP      R1,#+32
   \   000000F4   F9FFFFBA           BLT      ??LoadAuthCode_7
   1653              f=0;
   \   000000F8   0040A0E3           MOV      R4,#+0
   \   000000FC   030000EA           B        ??LoadAuthCode_8
   1654              while((c=*s++)>32)
   1655              {
   1656                if (c=='.') break;
   1657                if (f<127) AUTH_CODE[f++]=c;
   \                     ??LoadAuthCode_9:
   \   00000100   7F0054E3           CMP      R4,#+127
   \   00000104   023084B0           ADDLT    R3,R4,R2
   \   00000108   4010C3B5           STRBLT   R1,[R3, #+64]
   \   0000010C   014084B2           ADDLT    R4,R4,#+1
   \                     ??LoadAuthCode_8:
   \   00000110   ........           LDRB     R1,[R0], #+1
   \   00000114   210051E3           CMP      R1,#+33
   \   00000118   010000BA           BLT      ??LoadAuthCode_10
   \   0000011C   2E0051E3           CMP      R1,#+46
   \   00000120   F6FFFF1A           BNE      ??LoadAuthCode_9
   1658              }
   1659              err=1;
   \                     ??LoadAuthCode_10:
   \   00000124   0110A0E3           MOV      R1,#+1
   \   00000128   00108DE5           STR      R1,[SP, #+0]
   1660            }
   1661          LEND:
   1662            mfree(buf);
   \                     ??LoadAuthCode_6:
   \   0000012C   0500A0E1           MOV      R0,R5
   \   00000130   150000EF           SWI      +21
   1663            return err;
   \   00000134   00009DE5           LDR      R0,[SP, #+0]
   \   00000138   2CD08DE2           ADD      SP,SP,#+44
   \   0000013C   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??LoadAuthCode_0:
   \   00000140   ........           DC32     `?<Constant "$ballet\\\\AuthCode">`
   \   00000144   ........           DC32     AUTH_PREFIX
   1664          }
   1665          

   \                                 In segment CODE, align 4, keep-with-next
   1666          void GenerateFile(char *path, char *name, unsigned char *from, unsigned size)
   1667          {
   \                     GenerateFile:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   2CD04DE2           SUB      SP,SP,#+44
   \   00000008   0070A0E1           MOV      R7,R0
   \   0000000C   0180A0E1           MOV      R8,R1
   \   00000010   0240A0E1           MOV      R4,R2
   \   00000014   0350A0E1           MOV      R5,R3
   1668            unsigned ul;
   1669            int f;
   1670            FSTATS stat;
   1671            char *pathbuf;
   1672          
   1673            pathbuf = (char *)malloc(strlen(path) + strlen(name) + 1);
   \   00000018   1B0000EF           SWI      +27
   \   0000001C   0060A0E1           MOV      R6,R0
   \   00000020   0800A0E1           MOV      R0,R8
   \   00000024   1B0000EF           SWI      +27
   \   00000028   060080E0           ADD      R0,R0,R6
   \   0000002C   010080E2           ADD      R0,R0,#+1
   \   00000030   140000EF           SWI      +20
   \   00000034   0060A0E1           MOV      R6,R0
   1674            strcpy(pathbuf, path); strcat(pathbuf, name);
   \   00000038   0710A0E1           MOV      R1,R7
   \   0000003C   1A0000EF           SWI      +26
   \   00000040   0810A0E1           MOV      R1,R8
   \   00000044   0600A0E1           MOV      R0,R6
   \   00000048   170000EF           SWI      +23
   1675            
   1676            stat.size = 0;
   \   0000004C   0010A0E3           MOV      R1,#+0
   \   00000050   08108DE5           STR      R1,[SP, #+8]
   1677            GetFileStats(pathbuf,&stat,&ul);
   \   00000054   0D20A0E1           MOV      R2,SP
   \   00000058   04108DE2           ADD      R1,SP,#+4
   \   0000005C   0600A0E1           MOV      R0,R6
   \   00000060   840000EF           SWI      +132
   1678            //if (GetFileStats(pathbuf,&stat,&ul)!=-1) return;
   1679            if (stat.size==0)
   \   00000064   08009DE5           LDR      R0,[SP, #+8]
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   1200001A           BNE      ??GenerateFile_0
   1680            {
   1681              unlink(pathbuf,&ul);
   \   00000070   0D10A0E1           MOV      R1,SP
   \   00000074   0600A0E1           MOV      R0,R6
   \   00000078   6B0100EF           SWI      +363
   1682              f = fopen(pathbuf,A_WriteOnly+A_Create+A_BIN,P_READ+P_WRITE,&ul);
   \   0000007C   0D30A0E1           MOV      R3,SP
   \   00000080   602FA0E3           MOV      R2,#+384
   \   00000084   0110A0E3           MOV      R1,#+1
   \   00000088   811C81E3           ORR      R1,R1,#0x8100
   \   0000008C   0600A0E1           MOV      R0,R6
   \   00000090   0A0000EF           SWI      +10
   \   00000094   0070A0E1           MOV      R7,R0
   1683              if (f!=-1)
   \   00000098   010077E3           CMN      R7,#+1
   \   0000009C   0600000A           BEQ      ??GenerateFile_0
   1684              {
   1685                fwrite(f,from,size,&ul);
   \   000000A0   0D30A0E1           MOV      R3,SP
   \   000000A4   0520A0E1           MOV      R2,R5
   \   000000A8   0410A0E1           MOV      R1,R4
   \   000000AC   0C0000EF           SWI      +12
   1686                fclose(f,&ul);
   \   000000B0   0D10A0E1           MOV      R1,SP
   \   000000B4   0700A0E1           MOV      R0,R7
   \   000000B8   0D0000EF           SWI      +13
   1687              }
   1688            }
   1689            mfree(pathbuf);
   \                     ??GenerateFile_0:
   \   000000BC   0600A0E1           MOV      R0,R6
   \   000000C0   150000EF           SWI      +21
   1690          
   1691          }
   \   000000C4   2CD08DE2           ADD      SP,SP,#+44
   \   000000C8   F081BDE8           POP      {R4-R8,PC}       ;; return
   1692          
   1693          

   \                                 In segment CODE, align 4, keep-with-next
   1694          int main(const char *exename, const char *filename)
   1695          {
   \                     main:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   38D04DE2           SUB      SP,SP,#+56
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   1696            char dummy[sizeof(MAIN_CSM)];
   1697            char *path=strrchr(exename,'\\');
   \   00000010   5C10A0E3           MOV      R1,#+92
   \   00000014   170100EF           SWI      +279
   \   00000018   0060B0E1           MOVS     R6,R0
   1698            int l;
   1699            if (!path) return 0; // -
   \   0000001C   0000A003           MOVEQ    R0,#+0
   \   00000020   38D08D02           ADDEQ    SP,SP,#+56
   \   00000024   F080BD08           POPEQ    {R4-R7,PC}
   1700            path++;
   1701            l=path-exename;
   1702            InitConfig();
   1703            
   1704            memcpy(BALLET_PATH,exename,l);
   \   00000028   ........           LDR      R7,??DataTable27  ;; sieget_ipc
   \   0000002C   ........           _BLF     InitConfig,??InitConfig??rA
   \   00000030   010086E2           ADD      R0,R6,#+1
   \   00000034   042040E0           SUB      R2,R0,R4
   \   00000038   0410A0E1           MOV      R1,R4
   \   0000003C   300087E2           ADD      R0,R7,#+48
   \   00000040   1E0100EF           SWI      +286
   1705            strcpy(BALLET_EXE, exename);
   \   00000044   0410A0E1           MOV      R1,R4
   \   00000048   4C0F87E2           ADD      R0,R7,#+304
   \   0000004C   1A0000EF           SWI      +26
   1706           
   1707            
   1708            //CheckHistory("http://perk11.info/elf");
   1709          
   1710          //  GenerateFile(IMG_PATH, RADIO_BTTN_CLKD, radio_bttn_clkd_png, radio_bttn_clkd_png_size);
   1711          //  GenerateFile(IMG_PATH, RADIO_BTTN,      radio_bttn_png,      radio_bttn_png_size);
   1712          //  GenerateFile(IMG_PATH, BUTTON_CLKD,     button_clkd_png,     button_clkd_png_size);
   1713          //  GenerateFile(IMG_PATH, BUTTON,          button_png,          button_png_size);
   1714          //  GenerateFile(IMG_PATH, TEXT_FORM,       text_form_png,       text_form_png_size);
   1715          //  GenerateFile(IMG_PATH, LIST,            list_png,            list_png_size);
   1716            
   1717            lgpInitLangPack();
   \   00000050   ........           _BLF     lgpInitLangPack,??lgpInitLangPack??rA
   1718          
   1719            if (!LoadAuthCode())
   \   00000054   ........           BL       LoadAuthCode
   \   00000058   000050E3           CMP      R0,#+0
   \   0000005C   0800001A           BNE      ??main_0
   1720            {
   1721              LockSched();
   \   00000060   460100EF           SWI      +326
   1722              ShowMSG(1,(int)lgpData[LGP_CantLoadAuthCode]);
   \   00000064   9C009FE5           LDR      R0,??main_1      ;; lgpData + 4
   \   00000068   001090E5           LDR      R1,[R0, #+0]
   \   0000006C   0100A0E3           MOV      R0,#+1
   \   00000070   480100EF           SWI      +328
   1723              UnlockSched();
   \   00000074   470100EF           SWI      +327
   1724              SUBPROC((void *)Killer);
   \   00000078   ........           LDR      R0,??DataTable28  ;; Killer
   \   0000007C   710100EF           SWI      +369
   1725              return 0;
   \   00000080   1D0000EA           B        ??main_2
   1726            }
   1727          
   1728            if (ParseInputFilename(filename)) // open oms or url
   \                     ??main_0:
   \   00000084   ........           LDR      R4,??DataTable29  ;; `?<Constant "BM: %w">`
   \   00000088   0500A0E1           MOV      R0,R5
   \   0000008C   ........           BL       ParseInputFilename
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   0500000A           BEQ      ??main_3
   1729            {
   1730              if (view_url_mode == MODE_URL)
   \   00000098   180097E5           LDR      R0,[R7, #+24]
   \   0000009C   141097E5           LDR      R1,[R7, #+20]
   \   000000A0   010051E3           CMP      R1,#+1
   1731                UpdateCSMname(view_url+2, view_url_mode);
   \   000000A4   02008002           ADDEQ    R0,R0,#+2
   1732              else
   1733                UpdateCSMname(view_url, view_url_mode);
   \                     ??main_4:
   \   000000A8   ........           BL       UpdateCSMname
   1734              LockSched();
   \   000000AC   0B0000EA           B        ??main_5
   1735              maincsm_id=CreateCSM(&MAINCSM.maincsm,dummy,0);
   1736              UnlockSched();
   1737            }
   1738            else
   1739            {
   1740              if (ParseInputFilename(DEFAULT_PARAM))
   \                     ??main_3:
   \   000000B0   54009FE5           LDR      R0,??main_1+0x4  ;; DEFAULT_PARAM
   \   000000B4   ........           BL       ParseInputFilename
   \   000000B8   000050E3           CMP      R0,#+0
   \   000000BC   0200000A           BEQ      ??main_6
   1741              {
   1742                UpdateCSMname(view_url, view_url_mode);
   \   000000C0   141097E5           LDR      R1,[R7, #+20]
   \   000000C4   180097E5           LDR      R0,[R7, #+24]
   \   000000C8   F6FFFFEA           B        ??main_4
   1743                LockSched();
   1744                maincsm_id=CreateCSM(&MAINCSM.maincsm,dummy,0);
   1745                UnlockSched();
   1746              }
   1747              else
   1748              {
   1749                // create smiles view
   1750                view_url_mode=MODE_NONE;
   \                     ??main_6:
   \   000000CC   0300A0E3           MOV      R0,#+3
   \   000000D0   140087E5           STR      R0,[R7, #+20]
   1751                UpdateCSMname(view_url, view_url_mode);
   \   000000D4   180097E5           LDR      R0,[R7, #+24]
   \   000000D8   0310A0E3           MOV      R1,#+3
   \   000000DC   ........           BL       UpdateCSMname
   1752                LockSched();
   \                     ??main_5:
   \   000000E0   460100EF           SWI      +326
   1753                maincsm_id=CreateCSM(&MAINCSM.maincsm,dummy,0);
   \   000000E4   0020A0E3           MOV      R2,#+0
   \   000000E8   0D10A0E1           MOV      R1,SP
   \   000000EC   080084E2           ADD      R0,R4,#+8
   \   000000F0   070100EF           SWI      +263
   \   000000F4   2C0087E5           STR      R0,[R7, #+44]
   1754                UnlockSched();
   \   000000F8   470100EF           SWI      +327
   \                     ??main_2:
   \   000000FC   0000A0E3           MOV      R0,#+0
   \   00000100   38D08DE2           ADD      SP,SP,#+56
   \   00000104   F080BDE8           POP      {R4-R7,PC}
   \                     ??main_1:
   \   00000108   ........           DC32     lgpData + 4
   \   0000010C   ........           DC32     DEFAULT_PARAM
   1755              }
   1756            }
   1757            return 0;
   1758          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   ........           DC32     sieget_ipc

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   ........           DC32     `?<Constant "0/javascript">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32     lgpData

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   ........           DC32     sieget_ipc + 40

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   ........           DC32     sieget_ipc + 16

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable9:
   \   00000000   ........           DC32     ENABLE_REDRAW

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable12:
   \   00000000   ........           DC32     lgpData

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable13:
   \   00000000   ........           DC32     StopINET

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   ........           DC32     sieget_ipc

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable15:
   \   00000000   ........           DC32     sieget_ipc + 40

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable20:
   \   00000000   ........           DC32     sieget_ipc + 12

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable21:
   \   00000000   ........           DC32     `?<Constant "0/javascript">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable23:
   \   00000000   ........           DC32     `?<Constant "0/javascript">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable27:
   \   00000000   ........           DC32     sieget_ipc

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable28:
   \   00000000   ........           DC32     Killer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   ........           DC32     `?<Constant "BM: %w">`

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "$ballet\\\\AuthCode">`:
   \   00000000   2462616C6C65       DC8 "$ballet\\AuthCode"
   \              745C41757468
   \              436F646500  
   \   00000011   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   00                 DC8 ""

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   7C00               DC8 "|"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "$urlcache\\\\$date$time.url">`:
   \   00000000   2475726C6361       DC8 "$urlcache\\$date$time.url"
   \              6368655C2464
   \              617465247469
   \              6D652E75726C
   \              00          
   \   00000019   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%uB/%uB">`:
   \   00000000   2575422F2575       DC8 "%uB/%uB"
   \              4200        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "bookmarks">`:
   \   00000000   626F6F6B6D61       DC8 "bookmarks"
   \              726B7300    
   \   0000000A   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   6F6D7300           DC8 "oms"

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   75726C00           DC8 "url"

   Maximum stack usage in bytes:

     Function           CSTACK
     --------           ------
     CreateViewGUI         28
     FreeViewUrl            4
     GenerateFile          68
     GoToLocalLinkPos      24
     GotoFile               8
     GotoLink               8
     KillAll                4
     Killer                 4
     LoadAuthCode          64
     ParseInputFilename    16
     ReadUrlFile           64
     RunOtherCopyByURL     24
     StartGetFile        1068
     UpdateCSMname         16
     collectItemsParams    44
     main                  76
     maincsm_onclose        8
     maincsm_oncreate      16
     maincsm_onmessage    560
     method0               76
     method1               16
     method2               12
     method3                8
     method4                8
     method5              168
     method8                0
     method9                0
     patch_rect             0


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     patch_rect                       24
     scr_shift                         4
     minus11                           4
     ?<Constant "0/javascript">       96
     sieget_ipc                      560
     ENABLE_REDRAW                     4
     StartGetFile                    528
     collectItemsParams             2164
     method0                         680
     method1                         180
     FreeViewUrl                      12
     method2                          88
     method3                          68
     method4                          64
     RunOtherCopyByURL               208
     GoToLocalLinkPos                280
     method5                        2352
     method8                           8
     method9                           8
     CreateViewGUI                   180
     gui_methods                      52
     maincsm_oncreate                 68
     KillAll                          28
     Killer                           32
     maincsm_onclose                  60
     GotoLink                         96
     GotoFile                         96
     maincsm_onmessage              1208
     maincsm_name_body               280
     ?<Constant "BM: %w">             68
     UpdateCSMname                   116
     ReadUrlFile                     236
     ParseInputFilename              172
     AUTH_PREFIX                     192
     LoadAuthCode                    328
     GenerateFile                    204
     main                            272
     ??DataTable0                      4
     ??DataTable1                      4
     ??DataTable2                      4
     ??DataTable4                      4
     ??DataTable6                      4
     ??DataTable9                      4
     ??DataTable12                     4
     ??DataTable13                     4
     ??DataTable14                     4
     ??DataTable15                     4
     ??DataTable20                     4
     ??DataTable21                     4
     ??DataTable23                     4
     ??DataTable27                     4
     ??DataTable28                     4
     ??DataTable29                     4
     ?<Constant "$ballet\\AuthCode">
                                      20
     ?<Constant "">                    1
     ?<Constant "|">                   2
     ?<Constant "$urlcache\\$date$time.url">
                                      28
     ?<Constant "%uB/%uB">             8
     ?<Constant "bookmarks">          12
     ?<Constant "oms">                 4
     ?<Constant "url">                 4
      Others                         720

 
 10 532 bytes in segment CODE
    303 bytes in segment DATA_C
  1 036 bytes in segment DATA_Z
     12 bytes in segment INITTAB
 
 9 800 bytes of CODE  memory (+ 744 bytes shared)
   303 bytes of CONST memory
 1 036 bytes of DATA  memory

Errors: none
Warnings: none
